(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38359,e=>{"use strict";var t,n,i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],s={},o={};function l(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function c(e,t){return e.apply(null,t)}var d={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return d.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||d.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return d.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return d.hex(e)||d.rgb(e)||d.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function h(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function p(e,t){var n=h(e),i=l(d.und(n[0])?1:n[0],.1,100),r=l(d.und(n[1])?100:n[1],.1,100),a=l(d.und(n[2])?10:n[2],.1,100),s=l(d.und(n[3])?0:n[3],.1,100),u=Math.sqrt(r/i),c=a/(2*Math.sqrt(r*i)),p=c<1?u*Math.sqrt(1-c*c):0,f=c<1?(c*u+-s)/p:-s+u;function m(e){var n=t?t*e/1e3:e;return(n=c<1?Math.exp(-n*c*u)*(+Math.cos(p*n)+f*Math.sin(p*n)):(1+f*n)*Math.exp(-n*u),0===e||1===e)?e:1-n}return t?m:function(){var t=o[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===m(i+=n)){if(++r>=16)break}else r=0;var a=i*n*1e3;return o[e]=a,a}}function f(e){return void 0===e&&(e=10),function(t){return Math.ceil(l(t,1e-6,1)*e)*(1/e)}}var m=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,r,a){if(0<=n&&n<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(n!==i||r!==a)for(var o=0;o<11;++o)s[o]=e(.1*o,n,r);return function(o){return n===i&&r===a||0===o||1===o?o:e(function(i){for(var a=0,o=1;10!==o&&s[o]<=i;++o)a+=.1;var l=a+(i-s[--o])/(s[o+1]-s[o])*.1,u=t(l,n,r);if(u>=.001){for(var c=l,d=0;d<4;++d){var h=t(c,n,r);if(0===h)break;var p=e(c,n,r)-i;c-=p/h}return c}return 0===u?l:function(t,n,i,r,a){var s,o,l=0;do(s=e(o=n+(i-n)/2,r,a)-t)>0?i=o:n=o;while(Math.abs(s)>1e-7&&++l<10)return o}(i,a,a+.1,n,r)}(o),i,a)}}}}(),g=(t={linear:function(){return function(e){return e}}},n={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Expo:function(){return function(e){return e?Math.pow(2,10*e-10):0}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=l(e,1,10),i=l(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-i/(2*Math.PI)*Math.asin(1/n))/i)}}},["Quad","Cubic","Quart","Quint"].forEach(function(e,t){n[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(n).forEach(function(e){var i=n[e];t["easeIn"+e]=i,t["easeOut"+e]=function(e,t){return function(n){return 1-i(e,t)(1-n)}},t["easeInOut"+e]=function(e,t){return function(n){return n<.5?i(e,t)(2*n)/2:1-i(e,t)(-2*n+2)/2}},t["easeOutIn"+e]=function(e,t){return function(n){return n<.5?(1-i(e,t)(1-2*n))/2:(i(e,t)(2*n-1)+1)/2}}}),t);function v(e,t){if(d.fnc(e))return e;var n=e.split("(")[0],i=g[n],r=h(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return c(m,r);case"steps":return c(f,r);default:return c(i,r)}}function y(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var s=e[a];t.call(i,s,a,e)&&r.push(s)}return r}function b(e){return e.reduce(function(e,t){return e.concat(d.arr(t)?b(t):t)},[])}function _(e){return d.arr(e)?e:(d.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function S(e,t){return e.some(function(e){return e===t})}function w(e){var t={};for(var n in e)t[n]=e[n];return t}function M(e,t){var n=w(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function T(e,t){var n=w(e);for(var i in t)n[i]=d.und(e[i])?t[i]:e[i];return n}function E(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return d.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){return e.getAttribute(t)}function I(e,t,n){if(S([n,"deg","rad","turn"],E(t)))return t;var i=s[t+n];if(!d.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var o=100/r.offsetWidth;a.removeChild(r);var l=o*parseFloat(t);return s[t+n]=l,l}function P(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?I(e,r,n):r}}function k(e,t){return d.dom(e)&&!d.inp(e)&&(!d.nil(C(e,t))||d.svg(e)&&e[t])?"attribute":d.dom(e)&&S(a,t)?"transform":d.dom(e)&&"transform"!==t&&P(e,t)?"css":null!=e[t]?"object":void 0}function R(e){if(d.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function N(e,t,n,i){switch(k(e,t)){case"transform":var r,a;return r=u(t,"scale")?1:0+(u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0),a=R(e).get(t)||r,i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?I(e,a,n):a;case"css":return P(e,t,n);case"attribute":return C(e,t);default:return e[t]||0}}function D(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=E(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function L(e,t){if(d.col(e)){var n,i,r;return d.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+n[1]+",1)":e:d.hex(e)?(i=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):d.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,l=r[4]||1;function u(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=i=o;else{var c=o<.5?o*(1+s):o+s-o*s,d=2*o-c;t=u(d,c,a+1/3),n=u(d,c,a),i=u(d,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+l+")"}(e):void 0}if(/\s/g.test(e))return e;var a=E(e),s=a?e.substr(0,e.length-a.length):e;return t?s+t:s}function U(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function O(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=U(t,a)),t=a}return i}function z(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*C(e,"r");case"rect":return 2*C(e,"width")+2*C(e,"height");case"line":return U({x:C(e,"x1"),y:C(e,"y1")},{x:C(e,"x2"),y:C(e,"y2")});case"polyline":return O(e);case"polygon":return t=e.points,O(e)+U(t.getItem(t.numberOfItems-1),t.getItem(0))}}function j(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;d.svg(t)&&d.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=C(i,"viewBox"),s=r.width,o=r.height,l=n.viewBox||(a?a.split(" "):[0,0,s,o]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:o,vW:l[2],vH:l[3]}}function F(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=L(d.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:d.str(e)||t?i.split(n):[]}}function $(e){return x(e?b(d.arr(e)?e.map(_):_(e)):[],function(e,t,n){return n.indexOf(e)===t})}function B(e){var t=$(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:R(e)}}})}var V={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach(function(e,t){a+=t+"("+e+") "}),e.style.transform=a}}};function G(e,t){B(e).forEach(function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=E(i),s=N(r,n,a,e),o=D(L(i,a||E(s)),s);V[k(r,n)](r,n,o,e.transforms,!0)}})}function H(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,r}var W=0,Z=[],X=function(){var e;function t(n){for(var i=Z.length,r=0;r<i;){var a=Z[r];a.paused?(Z.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Y.suspendWhenDocumentHidden&&(q()?e=cancelAnimationFrame(e):(Z.forEach(function(e){return e._onDocumentVisibility()}),X()))}),function(){e||q()&&Y.suspendWhenDocumentHidden||!(Z.length>0)||(e=requestAnimationFrame(t))}}();function q(){return!!document&&document.hidden}function Y(e){void 0===e&&(e={});var t,n,a,s,o,u,c,h,f,m,g=0,y=0,_=0,S=0,C=null;function I(e){var t=window.Promise&&new Promise(function(e){return C=e});return e.finished=t,t}var P=(n=M(i,t=e),s=function(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=T(function(e){for(var t=x(b(e.map(function(e){return Object.keys(e)})),function(e){return d.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var r=t[i];n[r]=e.map(function(e){var t={};for(var n in e)d.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)d.key(r)&&n.push({name:r,tweens:function(e,t){var n=w(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),d.arr(e)){var i=e.length;2!==i||d.obj(e[0])?d.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var r=d.arr(e)?e:[e];return r.map(function(e,n){var i=d.obj(e)&&!d.pth(e)?e:{value:e};return d.und(i.delay)&&(i.delay=n?0:t.delay),d.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i}).map(function(e){return T(e,n)})}(t[r],e)});return n}(a=M(r,t),t),h=H((u=o=B(t.targets),c=x(b(u.map(function(e){return s.map(function(t){return function(e,t){var n=k(e.target,t.name);if(n){var i,r=t.tweens.map(function(n){var r=function(e,t){var n={};for(var i in e){var r=A(e[i],t);d.arr(r)&&1===(r=r.map(function(e){return A(e,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e),a=r.value,s=d.arr(a)?a[1]:a,o=E(s),l=N(e.target,t.name,o,e),u=i?i.to.original:l,c=d.arr(a)?a[0]:u,h=E(c)||E(l),p=o||h;return d.und(s)&&(s=u),r.from=F(c,p),r.to=F(D(s,c),p),r.start=i?i.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=v(r.easing,r.duration),r.isPath=d.pth(a),r.isPathTargetInsideSVG=r.isPath&&d.svg(e.target),r.isColor=d.col(r.from.original),r.isColor&&(r.round=1),i=r,r}),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(e,t)})})),function(e){return!d.und(e)})),a),f=W,W++,T(n,{id:f,children:[],animatables:o,animations:c,duration:h.duration,delay:h.delay,endDelay:h.endDelay}));function R(){var e=P.direction;"alternate"!==e&&(P.direction="normal"!==e?"normal":"reverse"),P.reversed=!P.reversed,m.forEach(function(e){return e.reversed=P.reversed})}function L(e){return P.reversed?P.duration-e:e}function U(){g=0,y=L(P.currentTime)*(1/Y.speed)}function O(e,t){t&&t.seek(e-t.timelineOffset)}function z(e){for(var t=0,n=P.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,s=r.tweens,o=s.length-1,u=s[o];o&&(u=x(s,function(t){return e<t.end})[0]||u);for(var c=l(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(c)?1:u.easing(c),h=u.to.strings,p=u.round,f=[],m=u.to.numbers.length,g=void 0,v=0;v<m;v++){var y=void 0,b=u.to.numbers[v],_=u.from.numbers[v]||0;y=u.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=j(e.el,e.svg),a=i(),s=i(-1),o=i(1),l=n?1:r.w/r.vW,u=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*l;case"y":return(a.y-r.y)*u;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}(u.value,d*b,u.isPathTargetInsideSVG):_+d*(b-_),p&&!(u.isColor&&v>2)&&(y=Math.round(y*p)/p),f.push(y)}var S=h.length;if(S){g=h[0];for(var w=0;w<S;w++){h[w];var M=h[w+1],T=f[w];isNaN(T)||(M?g+=T+M:g+=T+" ")}}else g=f[0];V[r.type](a.target,r.property,g,a.transforms),r.currentValue=g,t++}}function q(e){P[e]&&!P.passThrough&&P[e](P)}function J(e){var t=P.duration,n=P.delay,i=t-P.endDelay,r=L(e);P.progress=l(r/t*100,0,100),P.reversePlayback=r<P.currentTime,m&&function(e){if(P.reversePlayback)for(var t=S;t--;)O(e,m[t]);else for(var n=0;n<S;n++)O(e,m[n])}(r),!P.began&&P.currentTime>0&&(P.began=!0,q("begin")),!P.loopBegan&&P.currentTime>0&&(P.loopBegan=!0,q("loopBegin")),r<=n&&0!==P.currentTime&&z(0),(r>=i&&P.currentTime!==t||!t)&&z(t),r>n&&r<i?(P.changeBegan||(P.changeBegan=!0,P.changeCompleted=!1,q("changeBegin")),q("change"),z(r)):P.changeBegan&&(P.changeCompleted=!0,P.changeBegan=!1,q("changeComplete")),P.currentTime=l(r,0,t),P.began&&q("update"),e>=t&&(y=0,P.remaining&&!0!==P.remaining&&P.remaining--,P.remaining?(g=_,q("loopComplete"),P.loopBegan=!1,"alternate"===P.direction&&R()):(P.paused=!0,!P.completed&&(P.completed=!0,q("loopComplete"),q("complete"),!P.passThrough&&"Promise"in window&&(C(),I(P)))))}return I(P),P.reset=function(){var e=P.direction;P.passThrough=!1,P.currentTime=0,P.progress=0,P.paused=!0,P.began=!1,P.loopBegan=!1,P.changeBegan=!1,P.completed=!1,P.changeCompleted=!1,P.reversePlayback=!1,P.reversed="reverse"===e,P.remaining=P.loop,S=(m=P.children).length;for(var t=S;t--;)P.children[t].reset();(P.reversed&&!0!==P.loop||"alternate"===e&&1===P.loop)&&P.remaining++,z(P.reversed?P.duration:0)},P._onDocumentVisibility=U,P.set=function(e,t){return G(e,t),P},P.tick=function(e){_=e,g||(g=_),J((_+(y-g))*Y.speed)},P.seek=function(e){J(L(e))},P.pause=function(){P.paused=!0,U()},P.play=function(){P.paused&&(P.completed&&P.reset(),P.paused=!1,Z.push(P),U(),X())},P.reverse=function(){R(),P.completed=!P.reversed,U()},P.restart=function(){P.reset(),P.play()},P.remove=function(e){K($(e),P)},P.reset(),P.autoplay&&P.play(),P}function J(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function K(e,t){var n=t.animations,i=t.children;J(e,n);for(var r=i.length;r--;){var a=i[r],s=a.animations;J(e,s),s.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}Y.version="3.2.1",Y.speed=1,Y.suspendWhenDocumentHidden=!0,Y.running=Z,Y.remove=function(e){for(var t=$(e),n=Z.length;n--;)K(t,Z[n])},Y.get=N,Y.set=G,Y.convertPx=I,Y.path=function(e,t){var n=d.str(e)?y(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:j(n),totalLength:z(n)*(i/100)}}},Y.setDashoffset=function(e){var t=z(e);return e.setAttribute("stroke-dasharray",t),t},Y.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?v(t.easing):null,r=t.grid,a=t.axis,s=t.from||0,o="first"===s,l="center"===s,u="last"===s,c=d.arr(e),h=c?parseFloat(e[0]):parseFloat(e),p=c?parseFloat(e[1]):0,f=E(c?e[1]:e)||0,m=t.start||0+(c?h:0),g=[],y=0;return function(e,t,d){if(o&&(s=0),l&&(s=(d-1)/2),u&&(s=d-1),!g.length){for(var v=0;v<d;v++){if(r){var x=l?(r[0]-1)/2:s%r[0],b=l?(r[1]-1)/2:Math.floor(s/r[0]),_=v%r[0],S=Math.floor(v/r[0]),w=x-_,M=b-S,T=Math.sqrt(w*w+M*M);"x"===a&&(T=-w),"y"===a&&(T=-M),g.push(T)}else g.push(Math.abs(s-v));y=Math.max.apply(Math,g)}i&&(g=g.map(function(e){return i(e/y)*y})),"reverse"===n&&(g=g.map(function(e){return a?e<0?-1*e:-e:Math.abs(y-e)}))}return m+(c?(p-h)/y:h)*(Math.round(100*g[t])/100)+f}},Y.timeline=function(e){void 0===e&&(e={});var t=Y(e);return t.duration=0,t.add=function(n,i){var a=Z.indexOf(t),s=t.children;function o(e){e.passThrough=!0}a>-1&&Z.splice(a,1);for(var l=0;l<s.length;l++)o(s[l]);var u=T(n,M(r,e));u.targets=u.targets||e.targets;var c=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=d.und(i)?c:D(i,c),o(t),t.seek(u.timelineOffset);var h=Y(u);o(h),s.push(h);var p=H(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Y.easing=v,Y.penner=g,Y.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.s(["default",0,Y])},54189,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["AnimatedHeroText",0,({text:e,className:r="",delay:a=0})=>{let s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!s.current)return;let t=e.split("");s.current.innerHTML=t.map(e=>" "===e?'<span class="inline-block" style="width: 0.25em;">&nbsp;</span>':`<span class="inline-block opacity-0 translate-y-8" style="transform-style: preserve-3d; backface-visibility: hidden;">${e}</span>`).join(""),(0,i.default)({targets:s.current.querySelectorAll("span"),rotateY:[-90,0],rotateX:[90,0],opacity:[0,1],translateZ:[500,0],scale:[0,1],translateY:[50,0],duration:1200,delay:i.default.stagger(30,{start:a}),easing:"easeOutExpo"})},[e,a]),(0,t.jsx)("h1",{ref:s,className:r,style:{perspective:"1000px"}})},"AnimatedWords",0,({words:e,className:r="",delay:a=0})=>{let s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{s.current&&(0,i.default)({targets:s.current.querySelectorAll(".word"),opacity:[0,1],translateY:[30,0],rotateX:[90,0],duration:1e3,delay:i.default.stagger(100,{start:a}),easing:"easeOutExpo"})},[e,a]),(0,t.jsx)("div",{ref:s,className:r,children:e.map((e,n)=>(0,t.jsx)("span",{className:"word inline-block opacity-0 mr-2",style:{perspective:"1000px"},children:e},n))})},"DecoderText",0,({text:e,className:r="",delay:a=0})=>{let s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t=s.current;if(!t)return;let n="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+",r=Math.max(800,60*e.length);t.textContent="";let o=(0,i.default)({targets:{reveal:0},reveal:e.length,round:1,duration:r,delay:a,easing:"easeInOutQuad",update:i=>{let r=Math.min(e.length,i.animatables?.[0]?.target?.reveal??e.length),a="";for(let t=0;t<e.length;t++)a+=t<r?e[t]:n[Math.floor(Math.random()*n.length)];t.textContent=a},complete:()=>{t.textContent=e}}),l=setTimeout(()=>{t.textContent!==e&&(t.textContent=e)},a+r+100);return()=>{o?.pause(),clearTimeout(l),t.textContent=e}},[e,a]),(0,t.jsx)("span",{ref:s,className:r,"aria-label":e})}])},81321,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["AnimatedButton",0,({children:e,href:r,onClick:a,variant:s="primary",className:o=""})=>{let l=(0,n.useRef)(null),u=e=>{if(!l.current)return;let t=l.current.getBoundingClientRect(),n=e.clientX-t.left-t.width/2,r=e.clientY-t.top-t.height/2;(0,i.default)({targets:l.current,translateX:.3*n,translateY:.3*r,duration:300,easing:"easeOutQuad"})},c=()=>{l.current&&(0,i.default)({targets:l.current,scale:1.05,duration:300,easing:"easeOutElastic(1, .6)"})},d=()=>{l.current&&(0,i.default)({targets:l.current,translateX:0,translateY:0,scale:1,duration:500,easing:"easeOutElastic(1, .6)"})},h=e=>{l.current&&((0,i.default)({targets:l.current,scale:[1.05,.95,1],duration:400,easing:"easeOutElastic(1, .8)"}),a&&a())},p=`px-8 py-4 rounded-full font-bold transition-all inline-block cursor-pointer ${{primary:"bg-white text-black hover:shadow-xl hover:shadow-white/20",secondary:"bg-white/5 border border-white/10 hover:bg-white/10 backdrop-blur-sm"}[s]} ${o}`;return r?(0,t.jsx)("a",{ref:l,href:r,className:p,onMouseMove:u,onMouseEnter:c,onMouseLeave:d,onClick:h,children:e}):(0,t.jsx)("button",{ref:l,className:p,onMouseMove:u,onMouseEnter:c,onMouseLeave:d,onClick:h,children:e})}])},46932,65566,87022,83411,86427,31178,37806,21476,47414,74008,97989,45161,64978,49652,72846,e=>{"use strict";let t,n,i;var r,a=e.i(71645);let s=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],o=new Set(s),l=e=>180*e/Math.PI,u=e=>d(l(Math.atan2(e[1],e[0]))),c={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u,rotateZ:u,skewX:e=>l(Math.atan(e[1])),skewY:e=>l(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},d=e=>((e%=360)<0&&(e+=360),e),h=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),p=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),f={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:h,scaleY:p,scale:e=>(h(e)+p(e))/2,rotateX:e=>d(l(Math.atan2(e[6],e[5]))),rotateY:e=>d(l(Math.atan2(-e[2],e[0]))),rotateZ:u,rotate:u,skewX:e=>l(Math.atan(e[4])),skewY:e=>l(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function m(e){return+!!e.includes("scale")}function g(e,t){let n,i;if(!e||"none"===e)return m(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)n=f,i=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=c,i=t}if(!i)return m(t);let a=n[t],s=i[1].split(",").map(v);return"function"==typeof a?a(s):s[a]}function v(e){return parseFloat(e.trim())}let y=e=>t=>"string"==typeof t&&t.startsWith(e),x=y("--"),b=y("var(--"),_=e=>!!b(e)&&S.test(e.split("/*")[0].trim()),S=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function w({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}let M=(e,t,n)=>e+(t-e)*n;function T(e){return void 0===e||1===e}function E({scale:e,scaleX:t,scaleY:n}){return!T(e)||!T(t)||!T(n)}function A(e){return E(e)||C(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function C(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function I(e,t,n,i,r){return void 0!==r&&(e=i+r*(e-i)),i+n*(e-i)+t}function P(e,t=0,n=1,i,r){e.min=I(e.min,t,n,i,r),e.max=I(e.max,t,n,i,r)}function k(e,{x:t,y:n}){P(e.x,t.translate,t.scale,t.originPoint),P(e.y,n.translate,n.scale,n.originPoint)}function R(e,t){e.min=e.min+t,e.max=e.max+t}function N(e,t,n,i,r=.5){let a=M(e.min,e.max,r);P(e,t,n,a,i)}function D(e,t){N(e.x,t.x,t.scaleX,t.scale,t.originX),N(e.y,t.y,t.scaleY,t.scale,t.originY)}function L(e,t){return w(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}let U=new Set(["width","height","top","left","right","bottom",...s]),O=(e,t,n)=>n>t?t:n<e?e:n,z={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},j={...z,transform:e=>O(0,1,e)},F={...z,default:1},$=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),B=$("deg"),V=$("%"),G=$("px"),H=$("vh"),W=$("vw"),Z={...V,parse:e=>V.parse(e)/100,transform:e=>V.transform(100*e)},X=e=>t=>t.test(e),q=[z,G,V,B,W,H,{test:e=>"auto"===e,parse:e=>e}],Y=e=>q.find(X(e));e.i(47167);let J=()=>{},K=()=>{};e.s(["invariant",()=>K,"warning",()=>J],65566);let Q=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ee=e=>e===z||e===G,et=new Set(["x","y","z"]),en=s.filter(e=>!et.has(e)),ei={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>g(t,"x"),y:(e,{transform:t})=>g(t,"y")};ei.translateX=ei.x,ei.translateY=ei.y;let er=e=>e,ea={},es=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eo(e,t){let n=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=es.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,a=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){s.has(t)&&(c.schedule(t),e()),l++,t(o)}let c={schedule:(e,t=!1,a=!1)=>{let o=a&&r?n:i;return t&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),s.delete(e)},process:e=>{if(o=e,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),t,l=0,n.clear(),r=!1,a&&(a=!1,c.process(e))}};return c}(a,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:p,postRender:f}=s,m=()=>{let a=ea.useManualTiming?r.timestamp:performance.now();n=!1,ea.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),d.process(r),h.process(r),p.process(r),f.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(m))};return{schedule:es.reduce((t,a)=>{let o=s[a];return t[a]=(t,a=!1,s=!1)=>(!n&&(n=!0,i=!0,r.isProcessing||e(m)),o.schedule(t,a,s)),t},{}),cancel:e=>{for(let t=0;t<es.length;t++)s[es[t]].cancel(e)},state:r,steps:s}}let{schedule:el,cancel:eu,state:ec,steps:ed}=eo("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:er,!0);e.s(["cancelFrame",()=>eu,"frame",()=>el,"frameData",()=>ec,"frameSteps",()=>ed],87022);let eh=new Set,ep=!1,ef=!1,em=!1;function eg(){if(ef){let e=Array.from(eh).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t,i=(t=[],en.forEach(n=>{let i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(+!!n.startsWith("scale")))}),t);i.length&&(n.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ef=!1,ep=!1,eh.forEach(e=>e.complete(em)),eh.clear()}function ev(){eh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ef=!0)})}class ey{constructor(e,t,n,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(eh.add(this),ep||(ep=!0,el.read(ev),el.resolveKeyframes(eg))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){let r=i?.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){let i=n.readValue(t,a);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=a),i&&void 0===r&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eh.delete(this)}cancel(){"scheduled"===this.state&&(eh.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let ex=e=>Math.round(1e5*e)/1e5,eb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,e_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eS=(e,t)=>n=>!!("string"==typeof n&&e_.test(n)&&n.startsWith(e)||t&&null!=n&&Object.prototype.hasOwnProperty.call(n,t)),ew=(e,t,n)=>i=>{if("string"!=typeof i)return i;let[r,a,s,o]=i.match(eb);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},eM={...z,transform:e=>Math.round(O(0,255,e))},eT={test:eS("rgb","red"),parse:ew("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+eM.transform(e)+", "+eM.transform(t)+", "+eM.transform(n)+", "+ex(j.transform(i))+")"},eE={test:eS("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:eT.transform},eA={test:eS("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+V.transform(ex(t))+", "+V.transform(ex(n))+", "+ex(j.transform(i))+")"},eC={test:e=>eT.test(e)||eE.test(e)||eA.test(e),parse:e=>eT.test(e)?eT.parse(e):eA.test(e)?eA.parse(e):eE.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eT.transform(e):eA.transform(e),getAnimatableNone:e=>{let t=eC.parse(e);return t.alpha=0,eC.transform(t)}},eI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eP="number",ek="color",eR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eN(e){let t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[],a=0,s=t.replace(eR,e=>(eC.test(e)?(i.color.push(a),r.push(ek),n.push(eC.parse(e))):e.startsWith("var(")?(i.var.push(a),r.push("var"),n.push(e)):(i.number.push(a),r.push(eP),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:s,indexes:i,types:r}}function eD(e){return eN(e).values}function eL(e){let{split:t,types:n}=eN(e),i=t.length;return e=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],void 0!==e[a]){let t=n[a];t===eP?r+=ex(e[a]):t===ek?r+=eC.transform(e[a]):r+=e[a]}return r}}let eU=e=>"number"==typeof e?0:eC.test(e)?eC.getAnimatableNone(e):e,eO={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(eb)?.length||0)+(e.match(eI)?.length||0)>0},parse:eD,createTransformer:eL,getAnimatableNone:function(e){let t=eD(e);return eL(e)(t.map(eU))}},ez=new Set(["brightness","contrast","saturate","opacity"]);function ej(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=n.match(eb)||[];if(!i)return e;let r=n.replace(i,""),a=+!!ez.has(t);return i!==n&&(a*=100),t+"("+a+r+")"}let eF=/\b([a-z-]*)\(.*?\)/gu,e$={...eO,getAnimatableNone:e=>{let t=e.match(eF);return t?t.map(ej).join(" "):e}},eB={...z,transform:Math.round},eV={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G,rotate:B,rotateX:B,rotateY:B,rotateZ:B,scale:F,scaleX:F,scaleY:F,scaleZ:F,skew:B,skewX:B,skewY:B,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:j,originX:Z,originY:Z,originZ:G,zIndex:eB,fillOpacity:j,strokeOpacity:j,numOctaves:eB},eG={...eV,color:eC,backgroundColor:eC,outlineColor:eC,fill:eC,stroke:eC,borderColor:eC,borderTopColor:eC,borderRightColor:eC,borderBottomColor:eC,borderLeftColor:eC,filter:e$,WebkitFilter:e$},eH=e=>eG[e];function eW(e,t){let n=eH(e);return n!==e$&&(n=eO),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let eZ=new Set(["auto","none","0"]);class eX extends ey{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i&&_(i=i.trim())){let r=function e(t,n,i=1){K(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[r,a]=function(e){let t=Q.exec(e);if(!t)return[,];let[,n,i,r]=t;return[`--${n??i}`,r]}(t);if(!r)return;let s=window.getComputedStyle(n).getPropertyValue(r);if(s){let e=s.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return _(a)?e(a,n,i+1):a}(i,t.current);void 0!==r&&(e[n]=r),n===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!U.has(n)||2!==e.length)return;let[i,r]=e,a=Y(i),s=Y(r);if(a!==s)if(ee(a)&&ee(s))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else ei[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&n.push(t);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!eZ.has(t)&&eN(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=eW(n,i)}(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ei[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let r=n.length-1,a=n[r];n[r]=ei[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}let eq=e=>!!(e&&e.getVelocity);function eY(){t=void 0}e.s(["isMotionValue",()=>eq],83411);let eJ={now:()=>(void 0===t&&eJ.set(ec.isProcessing||ea.useManualTiming?ec.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(eY)}};function eK(e,t){-1===e.indexOf(t)&&e.push(t)}function eQ(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class e0{constructor(){this.subscriptions=[]}add(e){return eK(this.subscriptions,e),()=>eQ(this.subscriptions,e)}notify(e,t,n){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class e1{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=eJ.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=eJ.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new e0);let n=this.events[e].add(t);return"change"===e?()=>{n(),el.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return i&&i.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=eJ.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function e2(e,t){return new e1(e,t)}e.s(["motionValue",()=>e2],86427);let e3=[...q,eC,eO],{schedule:e4}=eo(queueMicrotask,!1),e5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},e6={};for(let e in e5)e6[e]={isEnabled:t=>e5[e].some(e=>!!t[e])};let e8=()=>({translate:0,scale:1,origin:0,originPoint:0}),e9=()=>({x:e8(),y:e8()}),e7=()=>({min:0,max:0}),te=()=>({x:e7(),y:e7()}),tt="undefined"!=typeof window,tn={current:null},ti={current:!1},tr=new WeakMap;function ta(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function ts(e){return"string"==typeof e||Array.isArray(e)}let to=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tl=["initial",...to];function tu(e){return ta(e.animate)||tl.some(t=>ts(e[t]))}function tc(e){return!!(tu(e)||e.variants)}function td(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function th(e,t,n,i){if("function"==typeof t){let[r,a]=td(i);t=t(void 0!==n?n:e.custom,r,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,a]=td(i);t=t(void 0!==n?n:e.custom,r,a)}return t}let tp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tf{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=eJ.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,el.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!r,this.isControllingVariants=tu(t),this.isVariantNode=tc(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in c){const t=c[e];void 0!==o[e]&&eq(t)&&t.set(o[e])}}mount(e){this.current=e,tr.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ti.current||function(){if(ti.current=!0,tt)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tn.current=e.matches;e.addEventListener("change",t),t()}else tn.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||tn.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let n;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=o.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&el.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in e6){let t=e6[e];if(!t)continue;let{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):te()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tp.length;t++){let n=tp[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let i=e["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=function(e,t,n){for(let i in t){let r=t[i],a=n[i];if(eq(r))e.addValue(i,r);else if(eq(a))e.addValue(i,e2(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,e2(void 0!==t?t:r,{owner:e}))}}for(let i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=e2(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=n){let i,r;if("string"==typeof n&&(i=n,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(r=n,/^0[^.\s]+$/u.test(r))))n=parseFloat(n);else{let i;i=n,!e3.find(X(i))&&eO.test(t)&&(n=eW(e,t))}this.setBaseTarget(e,eq(n)?n.get():n)}return eq(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let i=th(this.props,n,this.presenceContext?.custom);i&&(t=i[e])}if(n&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eq(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new e0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){e4.render(this.render)}}class tm extends tf{constructor(){super(...arguments),this.KeyframeResolver=eX}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eq(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let tg=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ty=s.length;function tx(e,t,n){let{style:i,vars:r,transformOrigin:a}=e,l=!1,u=!1;for(let e in t){let n=t[e];if(o.has(e)){l=!0;continue}if(x(e)){r[e]=n;continue}{let t=tg(n,eV[e]);e.startsWith("origin")?(u=!0,a[e]=t):i[e]=t}}if(!t.transform&&(l||n?i.transform=function(e,t,n){let i="",r=!0;for(let a=0;a<ty;a++){let o=s[a],l=e[o];if(void 0===l)continue;let u=!0;if(!(u="number"==typeof l?l===+!!o.startsWith("scale"):0===parseFloat(l))||n){let e=tg(l,eV[o]);if(!u){r=!1;let t=tv[o]||o;i+=`${t}(${e}) `}n&&(t[o]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),u){let{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}function tb(e,{style:t,vars:n},i,r){let a,s=e.style;for(a in t)s[a]=t[a];for(a in r?.applyProjectionStyles(s,i),n)s.setProperty(a,n[a])}let t_={};function tS(e,{layout:t,layoutId:n}){return o.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!t_[e]||"opacity"===e)}function tw(e,t,n){let{style:i}=e,r={};for(let a in i)(eq(i[a])||t.style&&eq(t.style[a])||tS(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}class tM extends tm{constructor(){super(...arguments),this.type="html",this.renderInstance=tb}readValueFromInstance(e,t){if(o.has(t))return this.projection?.isProjecting?m(t):((e,t)=>{let{transform:n="none"}=getComputedStyle(e);return g(n,t)})(e,t);{let n=window.getComputedStyle(e),i=(x(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return L(e,t)}build(e,t,n){tx(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return tw(e,t,n)}}let tT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tE={offset:"stroke-dashoffset",array:"stroke-dasharray"},tA={offset:"strokeDashoffset",array:"strokeDasharray"};function tC(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(tx(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==i&&(d.scale=i),void 0!==r&&function(e,t,n=1,i=0,r=!0){e.pathLength=1;let a=r?tE:tA;e[a.offset]=G.transform(-i);let s=G.transform(t),o=G.transform(n);e[a.array]=`${s} ${o}`}(d,r,a,s,!1)}let tI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tP=e=>"string"==typeof e&&"svg"===e.toLowerCase();function tk(e,t,n){let i=tw(e,t,n);for(let n in e)(eq(e[n])||eq(t[n]))&&(i[-1!==s.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return i}class tR extends tm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=te}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(o.has(t)){let e=eH(t);return e&&e.default||0}return t=tI.has(t)?t:tT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return tk(e,t,n)}build(e,t,n){tC(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){for(let n in tb(e,t,void 0,i),t.attrs)e.setAttribute(tI.has(n)?n:tT(n),t.attrs[n])}mount(e){this.isSVGTag=tP(e.tagName),super.mount(e)}}let tN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tD(e){if("string"!=typeof e||e.includes("-"));else if(tN.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}var tL=e.i(43476);let tU=(0,a.createContext)({});e.s(["LayoutGroupContext",()=>tU],31178);let tO=(0,a.createContext)({strict:!1}),tz=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});e.s(["MotionConfigContext",()=>tz],37806);let tj=(0,a.createContext)({});function tF(e){return Array.isArray(e)?e.join(" "):e}let t$=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tB(e,t,n){for(let i in t)eq(t[i])||tS(i,n)||(e[i]=t[i])}let tV=()=>({...t$(),attrs:{}}),tG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tH(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tG.has(e)}let tW=e=>!tH(e);try{r=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof r&&(tW=e=>e.startsWith("on")?!tH(e):r(e))}catch{}let tZ=(0,a.createContext)(null);function tX(e){let t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}function tq(e){return eq(e)?e.get():e}e.s(["PresenceContext",()=>tZ],21476),e.s(["useConstant",()=>tX],47414);let tY=e=>(t,n)=>{let i=(0,a.useContext)(tj),r=(0,a.useContext)(tZ),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:function(e,t,n,i){let r={},a=i(e,{});for(let e in a)r[e]=tq(a[e]);let{initial:s,animate:o}=e,l=tu(e),u=tc(e);t&&u&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let c=!!n&&!1===n.initial,d=(c=c||!1===s)?o:s;if(d&&"boolean"!=typeof d&&!ta(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let i=th(e,t[n]);if(i){let{transitionEnd:e,transition:t,...n}=i;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(n,i,r,e),renderState:t()}})(e,t,i,r);return n?s():tX(s)},tJ=tY({scrapeMotionValuesFromProps:tw,createRenderState:t$}),tK=tY({scrapeMotionValuesFromProps:tk,createRenderState:tV}),tQ=Symbol.for("motionComponentSymbol");function t0(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let t1="data-"+tT("framerAppearId"),t2=(0,a.createContext)({}),t3=tt?a.useLayoutEffect:a.useEffect;function t4(e,{forwardMotionProps:t=!1}={},n,i){n&&function(e){for(let t in e)e6[t]={...e6[t],...e[t]}}(n);let r=tD(e)?tK:tJ;function s(n,s){var o;let l,u={...(0,a.useContext)(tz),...n,layoutId:function({layoutId:e}){let t=(0,a.useContext)(tU).id;return t&&void 0!==e?t+"-"+e:e}(n)},{isStatic:c}=u,d=function(e){let{initial:t,animate:n}=function(e,t){if(tu(e)){let{initial:t,animate:n}=e;return{initial:!1===t||ts(t)?t:void 0,animate:ts(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(tj));return(0,a.useMemo)(()=>({initial:t,animate:n}),[tF(t),tF(n)])}(n),h=r(n,c);if(!c&&tt){(0,a.useContext)(tO).strict;let t=function(e){let{drag:t,layout:n}=e6;if(!t&&!n)return{};let i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(u);l=t.MeasureLayout,d.visualElement=function(e,t,n,i,r){let{visualElement:s}=(0,a.useContext)(tj),o=(0,a.useContext)(tO),l=(0,a.useContext)(tZ),u=(0,a.useContext)(tz).reducedMotion,c=(0,a.useRef)(null);i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));let d=c.current,h=(0,a.useContext)(t2);d&&!d.projection&&r&&("html"===d.type||"svg"===d.type)&&function(e,t,n,i){let{layoutId:r,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||o&&t0(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}(c.current,n,r,h);let p=(0,a.useRef)(!1);(0,a.useInsertionEffect)(()=>{d&&p.current&&d.update(n,l)});let f=n[t1],m=(0,a.useRef)(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return t3(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),(0,a.useEffect)(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),m.current=!1),d.enteringChildren=void 0)}),d}(e,h,u,i,t.ProjectionNode)}return(0,tL.jsxs)(tj.Provider,{value:d,children:[l&&d.visualElement?(0,tL.jsx)(l,{visualElement:d.visualElement,...u}):null,function(e,t,n,{latestValues:i},r,s=!1){let o=(tD(e)?function(e,t,n,i){let r=(0,a.useMemo)(()=>{let n=tV();return tC(n,t,tP(i),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};tB(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let n,i,r={},s=(n=e.style||{},tB(i={},n,e),Object.assign(i,function({transformTemplate:e},t){return(0,a.useMemo)(()=>{let n=t$();return tx(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r})(t,i,r,e),l=function(e,t,n){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(tW(r)||!0===n&&tH(r)||!t&&!tH(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,s),u=e!==a.Fragment?{...l,...o,ref:n}:{},{children:c}=t,d=(0,a.useMemo)(()=>eq(c)?c.get():c,[c]);return(0,a.createElement)(e,{...u,children:d})}(e,n,(o=d.visualElement,(0,a.useCallback)(e=>{e&&h.onMount&&h.onMount(e),o&&(e?o.mount(e):o.unmount()),s&&("function"==typeof s?s(e):t0(s)&&(s.current=e))},[o])),h,c,t)]})}s.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let o=(0,a.forwardRef)(s);return o[tQ]=e,o}function t5(e,t,n){let i=e.getProps();return th(i,t,void 0!==n?n:i.custom,e)}function t6(e,t){return e?.[t]??e?.default??e}e.s(["useIsomorphicLayoutEffect",()=>t3],74008);let t8=e=>Array.isArray(e);function t9(e,t){let{transitionEnd:n={},transition:i={},...r}=t5(e,t)||{};for(let t in r={...r,...n}){var a;let n=t8(a=r[t])?a[a.length-1]||0:a;e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,e2(n))}}function t7(e,t){let n=e.getValue("willChange");if(eq(n)&&n.add)return n.add(t);if(!n&&ea.WillChange){let n=new ea.WillChange("auto");e.addValue("willChange",n),n.add(t)}}e.s(["setTarget",()=>t9],97989);function ne(e){e.duration=0,e.type="keyframes"}let nt=(e,t)=>n=>t(e(n)),nn=(...e)=>e.reduce(nt),ni=e=>1e3*e,nr={layout:0,mainThread:0,waapi:0};function na(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ns(e,t){return n=>n>0?t:e}let no=(e,t,n)=>{let i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},nl=[eE,eT,eA];function nu(e){let t=nl.find(t=>t.test(e));if(J(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===eA&&(n=function({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,n/=100;let r=0,a=0,s=0;if(t/=100){let i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=na(o,i,e+1/3),a=na(o,i,e),s=na(o,i,e-1/3)}else r=a=s=n;return{red:Math.round(255*r),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}let nc=(e,t)=>{let n=nu(e),i=nu(t);if(!n||!i)return ns(e,t);let r={...n};return e=>(r.red=no(n.red,i.red,e),r.green=no(n.green,i.green,e),r.blue=no(n.blue,i.blue,e),r.alpha=M(n.alpha,i.alpha,e),eT.transform(r))},nd=new Set(["none","hidden"]);function nh(e,t){return n=>M(e,t,n)}function np(e){return"number"==typeof e?nh:"string"==typeof e?_(e)?ns:eC.test(e)?nc:ng:Array.isArray(e)?nf:"object"==typeof e?eC.test(e)?nc:nm:ns}function nf(e,t){let n=[...e],i=n.length,r=e.map((e,n)=>np(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function nm(e,t){let n={...e,...t},i={};for(let r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=np(e[r])(e[r],t[r]));return e=>{for(let t in i)n[t]=i[t](e);return n}}let ng=(e,t)=>{let n=eO.createTransformer(t),i=eN(e),r=eN(t);if(!(i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length))return J(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ns(e,t);if(nd.has(e)&&!r.values.length||nd.has(t)&&!i.values.length)return nd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e;return nn(nf(function(e,t){let n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let a=t.types[r],s=e.indexes[a][i[a]],o=e.values[s]??0;n[r]=o,i[a]++}return n}(i,r),r.values),n)};function nv(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?M(e,t,n):np(e)(e,t)}let ny=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>el.update(t,e),stop:()=>eu(t),now:()=>ec.isProcessing?ec.timestamp:eJ.now()}},nx=(e,t,n=10)=>{let i="",r=Math.max(Math.round(t/n),2);for(let t=0;t<r;t++)i+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`};function nb(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function n_(e,t,n){var i,r;let a=Math.max(t-5,0);return i=n-e(a),(r=t-a)?1e3/r*i:0}let nS=.01,nw=2,nM=.005,nT=.5;function nE(e,t){return e*Math.sqrt(1-t*t)}let nA=["duration","bounce"],nC=["stiffness","damping","mass"];function nI(e,t){return t.some(t=>void 0!==e[t])}function nP(e=.3,t=.3){let n,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:a}=i,s=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!nI(e,nC)&&nI(e,nA))if(e.visualDuration){let n=2*Math.PI/(1.2*e.visualDuration),i=n*n,r=2*O(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:r}}else{let n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:i=1}){let r,a;J(e<=ni(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=O(.05,1,s),e=O(.01,10,e/1e3),s<1?(r=t=>{let i=t*s,r=i*e;return .001-(i-n)/nE(t,s)*Math.exp(-r)},a=t=>{let i=t*s*e,a=Math.pow(s,2)*Math.pow(t,2)*e,o=Math.exp(-i),l=nE(Math.pow(t,2),s);return(i*n+n-a)*o*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),a=t=>e*e*(n-t)*Math.exp(-t*e));let o=function(e,t,n){let i=n;for(let n=1;n<12;n++)i-=e(i)/t(i);return i}(r,a,5/e);if(e=ni(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*s*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...n,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),m=p||0,g=c/(2*Math.sqrt(u*d)),v=o-s,y=Math.sqrt(u/d)/1e3,x=5>Math.abs(v);if(r||(r=x?nS:nw),a||(a=x?nM:nT),g<1){let e=nE(y,g);n=t=>o-Math.exp(-g*y*t)*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}else if(1===g)n=e=>o-Math.exp(-y*e)*(v+(m+y*v)*e);else{let e=y*Math.sqrt(g*g-1);n=t=>{let n=Math.exp(-g*y*t),i=Math.min(e*t,300);return o-n*((m+g*y*v)*Math.sinh(i)+e*v*Math.cosh(i))/e}}let b={calculatedDuration:f&&h||null,next:e=>{let t=n(e);if(f)l.done=e>=h;else{let i=0===e?m:0;g<1&&(i=0===e?ni(m):n_(n,e,t));let s=Math.abs(o-t)<=a;l.done=Math.abs(i)<=r&&s}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(nb(b),2e4),t=nx(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function nk({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){let d,h,p=e[0],f={done:!1,value:p},m=n*t,g=p+m,v=void 0===s?g:s(g);v!==g&&(m=v-p);let y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{let t=y(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n},_=e=>{let t;if(t=f.value,void 0!==o&&t<o||void 0!==l&&t>l){var n;d=e,h=nP({keyframes:[f.value,(n=f.value,void 0===o?l:void 0===l||Math.abs(o-n)<Math.abs(l-n)?o:l)],velocity:n_(x,e,f.value),damping:r,stiffness:a,restDelta:u,restSpeed:c})}};return _(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,b(e),_(e)),void 0!==d&&e>=d)?h.next(e-d):(t||b(e),f)}}}nP.applyToOptions=e=>{let t=function(e,t=100,n){let i=n({...e,keyframes:[0,t]}),r=Math.min(nb(i),2e4);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:r/1e3}}(e,100,nP);return e.ease=t.ease,e.duration=ni(t.duration),e.type="keyframes",e};let nR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function nN(e,t,n,i){return e===t&&n===i?er:r=>0===r||1===r?r:nR(function(e,t,n,i,r){let a,s,o=0;do(a=nR(s=t+(n-t)/2,i,r)-e)>0?n=s:t=s;while(Math.abs(a)>1e-7&&++o<12)return s}(r,0,1,e,n),t,i)}let nD=nN(.42,0,1,1),nL=nN(0,0,.58,1),nU=nN(.42,0,.58,1),nO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nz=e=>t=>1-e(1-t),nj=nN(.33,1.53,.69,.99),nF=nz(nj),n$=nO(nF),nB=e=>(e*=2)<1?.5*nF(e):.5*(2-Math.pow(2,-10*(e-1))),nV=e=>1-Math.sin(Math.acos(e)),nG=nz(nV),nH=nO(nV),nW=e=>Array.isArray(e)&&"number"==typeof e[0],nZ={linear:er,easeIn:nD,easeInOut:nU,easeOut:nL,circIn:nV,circInOut:nH,circOut:nG,backIn:nF,backInOut:n$,backOut:nj,anticipate:nB},nX=e=>{if(nW(e)){K(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,n,i,r]=e;return nN(t,n,i,r)}return"string"==typeof e?(K(void 0!==nZ[e],`Invalid easing type '${e}'`,"invalid-easing-type"),nZ[e]):e},nq=(e,t,n)=>{let i=t-e;return 0===i?1:(n-e)/i};function nY({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){var r;let a,s=Array.isArray(i)&&"number"!=typeof i[0]?i.map(nX):nX(i),o={done:!1,value:t[0]},l=function(e,t,{clamp:n=!0,ease:i,mixer:r}={}){let a=e.length;if(K(a===t.length,"Both input and output ranges must be the same length","range-length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,n){let i=[],r=n||ea.mix||nv,a=e.length-1;for(let n=0;n<a;n++){let a=r(e[n],e[n+1]);t&&(a=nn(Array.isArray(t)?t[n]||er:t,a)),i.push(a)}return i}(t,i,r),l=o.length,u=n=>{if(s&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);let r=nq(e[i],e[i+1],n);return o[i](r)};return n?t=>u(O(e[0],e[a-1],t)):u}((r=n&&n.length===t.length?n:(!function(e,t){let n=e[e.length-1];for(let i=1;i<=t;i++){let r=nq(0,t,i);e.push(M(n,1,r))}}(a=[0],t.length-1),a),r.map(t=>t*e)),t,{ease:Array.isArray(s)?s:t.map(()=>s||nU).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let nJ=e=>null!==e;function nK(e,{repeat:t,repeatType:n="loop"},i,r=1){let a=e.filter(nJ),s=r<0||t&&"loop"!==n&&t%2==1?0:a.length-1;return s&&void 0!==i?i:a[s]}let nQ={decay:nk,inertia:nk,tween:nY,keyframes:nY,spring:nP};function n0(e){"string"==typeof e.type&&(e.type=nQ[e.type])}class n1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let n2=e=>e/100;class n3 extends n1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==eJ.now()&&this.tick(eJ.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},nr.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;n0(e);let{type:t=nY,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e,{keyframes:s}=e,o=t||nY;o!==nY&&"number"!=typeof s[0]&&(this.mixKeyframes=nn(n2,nv(s[0],s[1])),s=[0,100]);let l=o({...e,keyframes:s});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=nb(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:d,repeatDelay:h,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let y=this.currentTime,x=n;if(c){let e=Math.min(this.currentTime,i)/s,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,(t=Math.min(t,c+1))%2&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(x=a)),y=O(0,1,n)*s}let b=v?{done:!1,value:u[0]}:x.next(y);r&&(b.value=r(b.value));let{done:_}=b;v||null===o||(_=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return S&&p!==nk&&(b.value=nK(u,this.options,m,this.speed)),f&&f(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=ni(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(eJ.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=ny,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(eJ.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,nr.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function n4(e){let t;return()=>(void 0===t&&(t=e()),t)}let n5=n4(()=>void 0!==window.ScrollTimeline),n6={},n8=(n=n4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>n6.linearEasing??n()),n9=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,n7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:n9([0,.65,.55,1]),circOut:n9([.55,0,1,.45]),backIn:n9([.31,.01,.66,-.59]),backOut:n9([.33,1.53,.69,.99])};function ie(e){return"function"==typeof e&&"applyToOptions"in e}class it extends n1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,K("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return ie(e)&&n8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u){let c={[t]:n};l&&(c.offset=l);let d=function e(t,n){if(t)return"function"==typeof t?n8()?nx(t,n):"ease-out":nW(t)?n9(t):Array.isArray(t)?t.map(t=>e(t,n)||n7.easeOut):n7[t]}(o,r);Array.isArray(d)&&(c.easing=d);let h={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};u&&(h.pseudoElement=u);let p=e.animate(c,h);return p}(t,n,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=nK(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):n.startsWith("--")?t.style.setProperty(n,e):t.style[n]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&n5())?(this.animation.timeline=e,er):t(this)}}let ii={anticipate:nB,backInOut:n$,circInOut:nH};class ir extends it{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in ii&&(e.ease=ii[e.ease])}(e),n0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:i,element:r,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let s=new n3({...a,autoplay:!1}),o=ni(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}let ia=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eO.test(e)||"0"===e)&&!e.startsWith("url(")),is=new Set(["opacity","clipPath","filter","transform"]),io=n4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class il extends n1{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:s,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=eJ.now();const d={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:a,name:o,motionValue:l,element:u,...c},h=u?.KeyframeResolver||ey;this.keyframeResolver=new h(s,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;let{name:r,type:a,velocity:s,delay:o,isHandoff:l,onUpdate:u}=n;this.resolvedAt=eJ.now(),!function(e,t,n,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let a=e[e.length-1],s=ia(r,t),o=ia(a,t);return J(s===o,`You are trying to animate ${t} from "${r}" to "${a}". "${s?a:r}" is not an animatable value.`,"value-not-animatable"),!!s&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ie(n))&&i)}(e,r,a,s)&&((ea.instantAnimations||!o)&&u?.(nK(e,n,t)),e[0]=e[e.length-1],ne(n),n.repeat=0);let c={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){let{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:a,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return io()&&n&&is.has(n)&&("transform"!==n||!l)&&!o&&!i&&"mirror"!==r&&0!==a&&"inertia"!==s}(c)?new ir({...c,element:c.motionValue.owner.current}):new n3(c);d.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),em=!0,ev(),eg(),em=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iu=e=>null!==e,ic={type:"spring",stiffness:500,damping:25,restSpeed:10},id={type:"keyframes",duration:.8},ih={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ip=(e,t,n,i={},r,a)=>s=>{let l=t6(i,e)||{},u=l.delay||i.delay||0,{elapsed:c=0}=i;c-=ni(u);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};!function({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(l)&&Object.assign(d,((e,{keyframes:t})=>t.length>2?id:o.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:ic:ih)(e,d)),d.duration&&(d.duration=ni(d.duration)),d.repeatDelay&&(d.repeatDelay=ni(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(ne(d),0===d.delay&&(h=!0)),(ea.instantAnimations||ea.skipAnimations)&&(h=!0,ne(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:n="loop"},i){let r=e.filter(iu),a=t&&"loop"!==n&&t%2==1?0:r.length-1;return r[a]}(d.keyframes,l);if(void 0!==e)return void el.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new n3(d):new il(d)};function im(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;i&&(a=i);let l=[],u=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){let i=e.getValue(t,e.latestValues[t]??null),r=o[t];if(void 0===r||u&&function({protectedKeys:e,needsAnimating:t},n){let i=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,i}(u,t))continue;let s={delay:n,...t6(a||{},t)},c=i.get();if(void 0!==c&&!i.isAnimating&&!Array.isArray(r)&&r===c&&!s.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=e.props[t1];if(n){let e=window.MotionHandoffAnimation(n,t,el);null!==e&&(s.startTime=e,d=!0)}}t7(e,t),i.start(ip(t,i,r,e.shouldReduceMotion&&U.has(t)?{type:!1}:s,e,d));let h=i.animation;h&&l.push(h)}return s&&Promise.all(l).then(()=>{el.update(()=>{s&&t9(e,s)})}),l}function ig(e,t,n,i=0,r=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*i;return"function"==typeof n?n(a,s):1===r?a*i:o-a*i}function iv(e,t,n={}){let i=t5(e,t,"exit"===n.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);let a=i?()=>Promise.all(im(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=r;return function(e,t,n=0,i=0,r=0,a=1,s){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(iv(l,t,{...s,delay:n+("function"==typeof i?0:i)+ig(e.variantChildren,l,i,r,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,a,s,o,n)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([a(),s(n.delay)]);{let[e,t]="beforeChildren"===o?[a,s]:[s,a];return e().then(()=>t())}}function iy(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>iv(e,t,n)));else if("string"==typeof t)i=iv(e,t,n);else{let r="function"==typeof t?t5(e,t,n.custom):t;i=Promise.all(im(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function ix(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}e.s(["animateVisualElement",()=>iy],45161);let ib=tl.length,i_=[...to].reverse(),iS=to.length;function iw(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iM(){return{animate:iw(!0),whileInView:iw(),whileHover:iw(),whileTap:iw(),whileDrag:iw(),whileFocus:iw(),exit:iw()}}class iT{constructor(e){this.isMounted=!1,this.node=e}update(){}}let iE=0,iA={x:!1,y:!1};function iC(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}let iI=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function iP(e){return{point:{x:e.pageX,y:e.pageY}}}function ik(e,t,n,i){return iC(e,t,e=>iI(e)&&n(e,iP(e)),i)}function iR(e){return e.max-e.min}function iN(e,t,n,i=.5){e.origin=i,e.originPoint=M(t.min,t.max,e.origin),e.scale=iR(n)/iR(t),e.translate=M(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function iD(e,t,n,i){iN(e.x,t.x,n.x,i?i.originX:void 0),iN(e.y,t.y,n.y,i?i.originY:void 0)}function iL(e,t,n){e.min=n.min+t.min,e.max=e.min+iR(t)}function iU(e,t,n){e.min=t.min-n.min,e.max=e.min+iR(t)}function iO(e,t,n){iU(e.x,t.x,n.x),iU(e.y,t.y,n.y)}function iz(e){return[e("x"),e("y")]}let ij=({current:e})=>e?e.ownerDocument.defaultView:null,iF=(e,t)=>Math.abs(e-t);class i${constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=iG(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,r=(e=n.offset,t={x:0,y:0},Math.sqrt(iF(e.x,t.x)**2+iF(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!r)return;let{point:a}=n,{timestamp:s}=ec;this.history.push({...a,timestamp:s});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=iB(t,this.transformPagePoint),el.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=iG("pointercancel"===e.type?this.lastMoveEventInfo:iB(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),i&&i(e,a)},!iI(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const s=iB(iP(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=ec;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=t;u&&u(e,iG(s,this.history)),this.removeListeners=nn(ik(this.contextWindow,"pointermove",this.handlePointerMove),ik(this.contextWindow,"pointerup",this.handlePointerUp),ik(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function iB(e,t){return t?{point:t(e.point)}:e}function iV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iG({point:e},t){return{point:e,delta:iV(e,iH(t)),offset:iV(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null,r=iH(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>ni(.1)));)n--;if(!i)return{x:0,y:0};let a=(r.timestamp-i.timestamp)/1e3;if(0===a)return{x:0,y:0};let s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,.1)}}function iH(e){return e[e.length-1]}function iW(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function iZ(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function iX(e,t,n){return{min:iq(e,t),max:iq(e,n)}}function iq(e,t){return"number"==typeof e?e:e[t]||0}let iY=new WeakMap;class iJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let r=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(iP(e).point)},a=(e,t)=>{let{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(iA[e])return null;else return iA[e]=!0,()=>{iA[e]=!1};return iA.x||iA.y?null:(iA.x=iA.y=!0,()=>{iA.x=iA.y=!1})}(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iz(e=>{let t=this.getAxisMotionValue(e).get()||0;if(V.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let i=n.layout.layoutBox[e];i&&(t=iR(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&el.postRender(()=>r(e,t)),t7(this.visualElement,"transform");let{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:s}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(s),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>iz(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new i$(e,{onSessionStart:r,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:ij(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;let{velocity:a}=i;this.startAnimation(a);let{onDragEnd:s}=this.getProps();s&&el.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:i}=this.getProps();if(!n||!iK(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},i){return void 0!==t&&e<t?e=i?M(t,e,i.min):Math.max(e,t):void 0!==n&&e>n&&(e=i?M(n,e,i.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&t0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=function(e,{top:t,left:n,bottom:i,right:r}){return{x:iW(e.x,n,r),y:iW(e.y,t,i)}}(n.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:iX(e,"left","right"),y:iX(e,"top","bottom")}}(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&iz(e=>{var t,i;let r;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=n.layoutBox[e],i=this.constraints[e],r={},void 0!==i.min&&(r.min=i.min-t.min),void 0!==i.max&&(r.max=i.max-t.min),r))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!t0(t))return!1;let i=t.current;K(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let a=function(e,t,n){let i=L(e,n),{scroll:r}=t;return r&&(R(i.x,r.offset.x),R(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),s=(e=r.layout.layoutBox,{x:iZ(e.x,a.x),y:iZ(e.y,a.y)});if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=w(e))}return s}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{};return Promise.all(iz(s=>{if(!iK(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});let u={type:"inertia",velocity:n?e[s]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(s,u)})).then(s)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return t7(this.visualElement,e),n.start(ip(e,n,0,t,this.visualElement,!1))}stopAnimation(){iz(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iz(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){iz(t=>{let{drag:n}=this.getProps();if(!iK(t,n,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:n,max:a}=i.layout.layoutBox[t];r.set(e[t]-M(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!t0(t)||!n||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};iz(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var n,r;let a,s,o,l=t.get();i[e]=(n={min:l,max:l},r=this.constraints[e],a=.5,s=iR(n),(o=iR(r))>s?a=nq(r.min,r.max-s,n.min):s>o&&(a=nq(n.min,n.max-o,r.min)),O(0,1,a))}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),iz(t=>{if(!iK(t,e,null))return;let n=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];n.set(M(r,a,i[t]))})}addListeners(){if(!this.visualElement.current)return;iY.set(this.visualElement,this);let e=ik(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();t0(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),el.read(t);let r=iC(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iz(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:s}}}function iK(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}let iQ=e=>(t,n)=>{e&&el.postRender(()=>e(t,n))};var i0=a;function i1(e=!0){let t=(0,a.useContext)(tZ);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:i,register:r}=t,s=(0,a.useId)();(0,a.useEffect)(()=>{if(e)return r(s)},[e]);let o=(0,a.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}e.s(["usePresence",()=>i1],64978);let i2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let i4={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!G.test(e))return e;else e=parseFloat(e);let n=i3(e,t.target.x),i=i3(e,t.target.y);return`${n}% ${i}%`}},i5=!1;class i6 extends i0.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;for(let e in i9)t_[e]=i9[e],x(e)&&(t_[e].isCSSVariable=!0);r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),i5&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),i2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:a}=n;return a&&(a.isPresent=r,i5=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||el.postRender(()=>{let e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e4.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i5=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i8(e){let[t,n]=i1(),i=(0,i0.useContext)(tU);return(0,tL.jsx)(i6,{...e,layoutGroup:i,switchLayoutGroup:(0,i0.useContext)(t2),isPresent:t,safeToRemove:n})}let i9={borderRadius:{...i4,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:i4,borderTopRightRadius:i4,borderBottomLeftRadius:i4,borderBottomRightRadius:i4,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let i=eO.parse(e);if(i.length>5)return e;let r=eO.createTransformer(e),a=+("number"!=typeof i[0]),s=n.x.scale*t.x,o=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=o;let l=M(s,o,.5);return"number"==typeof i[2+a]&&(i[2+a]/=l),"number"==typeof i[3+a]&&(i[3+a]/=l),r(i)}}};function i7(e){return"object"==typeof e&&null!==e}function re(e){return i7(e)&&"ownerSVGElement"in e}let rt=(e,t)=>e.depth-t.depth;class rn{constructor(){this.children=[],this.isDirty=!1}add(e){eK(this.children,e),this.isDirty=!0}remove(e){eQ(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rt),this.isDirty=!1,this.children.forEach(e)}}let ri=["TopLeft","TopRight","BottomLeft","BottomRight"],rr=ri.length,ra=e=>"string"==typeof e?parseFloat(e):e,rs=e=>"number"==typeof e||G.test(e);function ro(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let rl=rc(0,.5,nG),ru=rc(.5,.95,er);function rc(e,t,n){return i=>i<e?0:i>t?1:n(nq(e,t,i))}function rd(e,t){e.min=t.min,e.max=t.max}function rh(e,t){rd(e.x,t.x),rd(e.y,t.y)}function rp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rf(e,t,n,i,r){return e-=t,e=i+1/n*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function rm(e,t,[n,i,r],a,s){!function(e,t=0,n=1,i=.5,r,a=e,s=e){if(V.test(t)&&(t=parseFloat(t),t=M(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=M(a.min,a.max,i);e===a&&(o-=t),e.min=rf(e.min,t,n,o,r),e.max=rf(e.max,t,n,o,r)}(e,t[n],t[i],t[r],t.scale,a,s)}let rg=["x","scaleX","originX"],rv=["y","scaleY","originY"];function ry(e,t,n,i){rm(e.x,t,rg,n?n.x:void 0,i?i.x:void 0),rm(e.y,t,rv,n?n.y:void 0,i?i.y:void 0)}function rx(e){return 0===e.translate&&1===e.scale}function rb(e){return rx(e.x)&&rx(e.y)}function r_(e,t){return e.min===t.min&&e.max===t.max}function rS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rw(e,t){return rS(e.x,t.x)&&rS(e.y,t.y)}function rM(e){return iR(e.x)/iR(e.y)}function rT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rE{constructor(){this.members=[]}add(e){eK(this.members,e),e.scheduleRender()}remove(e){if(eQ(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let rA=["","X","Y","Z"],rC=0;function rI(e,t,n,i){let{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function rP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},n=t?.()){this.id=rC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rN),this.nodes.forEach(rF),this.nodes.forEach(r$),this.nodes.forEach(rD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rn)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new e0),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=re(t)&&!(re(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:n,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||n)&&(this.isLayoutDirty=!0),e){let n,i=0,r=()=>this.root.updateBlockedByResize=!1;el.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,a;i=e,this.root.updateBlockedByResize=!0,n&&n(),t=eJ.now(),a=({timestamp:e})=>{let n=e-t;n>=250&&(eu(a),r(n-250))},el.setup(a,!0),n=()=>eu(a),i2.hasAnimatedSinceResize&&(i2.hasAnimatedSinceResize=!1,this.nodes.forEach(rj))}})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&r&&(n||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||r.getDefaultTransition()||rZ,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!rw(this.targetLayout,i),u=!t&&n;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...t6(a,"layout"),onPlay:s,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||rj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rB),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:n}=t.options;if(!n)return;let i=n.props[t1];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",el,!(e||n))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rU);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(rO);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rz),this.nodes.forEach(rk),this.nodes.forEach(rR)):this.nodes.forEach(rO),this.clearAllSnapshots();let e=eJ.now();ec.delta=O(0,1e3/60,e-ec.timestamp),ec.timestamp=e,ec.isProcessing=!0,ed.update.process(ec),ed.preRender.process(ec),ed.render.process(ec),ec.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rL),this.sharedNodes.forEach(rV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,el.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){el.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||iR(this.snapshot.measuredBox.x)||iR(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!rb(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,a=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||A(this.latestValues)||a)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),i=this.removeElementScroll(n);return e&&(i=this.removeTransform(i)),rY((t=i).x),rY(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return te();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rK))){let{scroll:e}=this.root;e&&(R(t.x,e.offset.x),R(t.y,e.offset.y))}return t}removeElementScroll(e){let t=te();if(rh(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let i=this.path[n],{scroll:r,options:a}=i;i!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&rh(t,e),R(t.x,r.offset.x),R(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let n=te();rh(n,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&D(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A(i.latestValues)&&D(n,i.latestValues)}return A(this.latestValues)&&D(n,this.latestValues),n}removeTransform(e){let t=te();rh(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!A(n.latestValues))continue;E(n.latestValues)&&n.updateSnapshot();let i=te();rh(i,n.measurePageBox()),ry(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}return A(this.latestValues)&&ry(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ec.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:r}=this.options;if(this.layout&&(i||r)){if(this.resolvedRelativeTargetAt=ec.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),iO(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=te(),this.targetWithTransforms=te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,s,o;this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,o=this.relativeParent.target,iL(a.x,s.x,o.x),iL(a.y,s.y,o.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rh(this.target,this.layout.layoutBox),k(this.target,this.targetDelta)):rh(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),iO(this.relativeTargetOrigin,this.target,e.target),rh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}}getClosestProjectingParent(){if(!(!this.parent||E(this.parent.latestValues)||C(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===ec.timestamp&&(n=!1),n)return;let{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||r))return;rh(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n,i=!1){let r,a,s=n.length;if(s){t.x=t.y=1;for(let o=0;o<s;o++){a=(r=n[o]).projectionDelta;let{visualElement:s}=r.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&D(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,k(e,a)),i&&A(r.latestValues)&&D(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=te());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(rp(this.prevProjectionDelta.x,this.projectionDelta.x),rp(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iD(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&rT(this.projectionDelta.x,this.prevProjectionDelta.x)&&rT(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=e9(),this.projectionDelta=e9(),this.projectionDeltaWithTransform=e9()}setAnimationOrigin(e,t=!1){let n,i=this.snapshot,r=i?i.latestValues:{},a={...this.latestValues},s=e9();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=te(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,d=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(rW));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(rG(s.x,e.x,i),rG(s.y,e.y,i),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,h,p,f,m,g;iO(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=i,rH(p.x,f.x,m.x,g),rH(p.y,f.y,m.y,g),n&&(u=this.relativeTarget,h=n,r_(u.x,h.x)&&r_(u.y,h.y))&&(this.isProjectionDirty=!1),n||(n=te()),rh(n,this.relativeTarget)}l&&(this.animationValues=a,function(e,t,n,i,r,a){r?(e.opacity=M(0,n.opacity??1,rl(i)),e.opacityExit=M(t.opacity??1,0,ru(i))):a&&(e.opacity=M(t.opacity??1,n.opacity??1,i));for(let r=0;r<rr;r++){let a=`border${ri[r]}Radius`,s=ro(t,a),o=ro(n,a);(void 0!==s||void 0!==o)&&(s||(s=0),o||(o=0),0===s||0===o||rs(s)===rs(o)?(e[a]=Math.max(M(ra(s),ra(o),i),0),(V.test(o)||V.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=M(t.rotate||0,n.rotate||0,i))}(a,r,this.latestValues,i,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=el.update(()=>{var t,n,i;let r;i2.hasAnimatedSinceResize=!0,nr.layout++,this.motionValue||(this.motionValue=e2(0)),this.currentAnimation=(t=this.motionValue,n=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{nr.layout--},onComplete:()=>{nr.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(r=eq(t)?t:e2(t)).start(ip("",r,n,i)),r.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&rJ(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||te();let t=iR(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let i=iR(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}rh(t,n),D(t,r),iD(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rE),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let i={};n.z&&rI("z",e,i,this.animationValues);for(let t=0;t<rA.length;t++)rI(`rotate${rA[t]}`,e,i,this.animationValues),rI(`skew${rA[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=tq(t?.pointerEvents)||"",e.transform=n?n(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tq(t?.pointerEvents)||""),this.hasProjected&&!A(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let i="",r=e.x.translate/t.x,a=e.y.translate/t.y,s=n?.z||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:s,skewY:o}=n;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),a&&(i+=`rotateY(${a}deg) `),s&&(i+=`skewX(${s}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(a=n(r,a)),e.transform=a;let{x:s,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,t_){if(void 0===r[t])continue;let{correct:n,applyTo:s,isCSSVariable:o}=t_[t],l="none"===a?r[t]:n(r[t],i);if(s){let t=s.length;for(let n=0;n<t;n++)e[s[n]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?tq(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(rU),this.root.sharedNodes.clear()}}}function rk(e){e.updateLayout()}function rR(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;"size"===r?iz(e=>{let i=a?t.measuredBox[e]:t.layoutBox[e],r=iR(i);i.min=n[e].min,i.max=i.min+r}):rJ(r,t.layoutBox,n)&&iz(i=>{let r=a?t.measuredBox[i]:t.layoutBox[i],s=iR(n[i]);r.max=r.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+s)});let s=e9();iD(s,n,t.layoutBox);let o=e9();a?iD(o,e.applyTransform(i,!0),t.measuredBox):iD(o,n,t.layoutBox);let l=!rb(s),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:a}=i;if(r&&a){let s=te();iO(s,t.layoutBox,r.layoutBox);let o=te();iO(o,n,a.layoutBox),rw(s,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function rN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rL(e){e.clearSnapshot()}function rU(e){e.clearMeasurements()}function rO(e){e.isLayoutDirty=!1}function rz(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rF(e){e.resolveTargetDelta()}function r$(e){e.calcProjection()}function rB(e){e.resetSkewAndRotation()}function rV(e){e.removeLeadSnapshot()}function rG(e,t,n){e.translate=M(t.translate,0,n),e.scale=M(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rH(e,t,n,i){e.min=M(t.min,n.min,i),e.max=M(t.max,n.max,i)}function rW(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let rZ={duration:.45,ease:[.4,0,.1,1]},rX=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rq=rX("applewebkit/")&&!rX("chrome/")?Math.round:er;function rY(e){e.min=rq(e.min),e.max=rq(e.max)}function rJ(e,t,n){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(rM(t)-rM(n)))}function rK(e){return e!==e.root&&e.scroll?.wasRoot}let rQ=rP({attachResizeListener:(e,t)=>iC(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r0={current:void 0},r1=rP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!r0.current){let e=new rQ({});e.mount(window),e.setOptions({layoutScroll:!0}),r0.current=e}return r0.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function r2(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let r=n?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}function r3(e,t){let n=r2(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function r4(e){return!("touch"===e.pointerType||iA.x||iA.y)}function r5(e,t,n){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);let r=i["onHover"+n];r&&el.postRender(()=>r(t,iP(t)))}function r6(e){return i7(e)&&"offsetHeight"in e}e.s(["resolveElements",()=>r2],49652),e.s(["isHTMLElement",()=>r6],72846);let r8=(e,t)=>!!t&&(e===t||r8(e,t.parentElement)),r9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),r7=new WeakSet;function ae(e){return t=>{"Enter"===t.key&&e(t)}}function at(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function an(e){return iI(e)&&!(iA.x||iA.y)}function ai(e,t,n){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);let r=i["onTap"+("End"===n?"":n)];r&&el.postRender(()=>r(t,iP(t)))}let ar=new WeakMap,aa=new WeakMap,as=e=>{let t=ar.get(e.target);t&&t(e)},ao=e=>{e.forEach(as)},al={some:0,all:1},au=function(e,t){if("undefined"==typeof Proxy)return t4;let n=new Map,i=(n,i)=>t4(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,a)=>"create"===a?i:(n.has(a)||n.set(a,t4(a,void 0,e,t)),n.get(a))})}({animation:{Feature:class extends iT{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>iy(e,t,n))),n=iM(),i=!0,r=t=>(n,i)=>{let r=t5(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...i}=r;n={...n,...i,...t}}return n};function a(a){let{props:s}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let n=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(n.initial=t.props.initial),n}let n={};for(let e=0;e<ib;e++){let i=tl[e],r=t.props[i];(ts(r)||!1===r)&&(n[i]=r)}return n}(e.parent)||{},l=[],u=new Set,c={},d=1/0;for(let t=0;t<iS;t++){var h,p;let f=i_[t],m=n[f],g=void 0!==s[f]?s[f]:o[f],v=ts(g),y=f===a?m.isActive:null;!1===y&&(d=t);let x=g===o[f]&&g!==s[f]&&v;if(x&&i&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...c},!m.isActive&&null===y||!g&&!m.prevProp||ta(g)||"boolean"==typeof g)continue;let b=(h=m.prevProp,"string"==typeof(p=g)?p!==h:!!Array.isArray(p)&&!ix(p,h)),_=b||f===a&&m.isActive&&!x&&v||t>d&&v,S=!1,w=Array.isArray(g)?g:[g],M=w.reduce(r(f),{});!1===y&&(M={});let{prevResolvedValues:T={}}=m,E={...T,...M},A=t=>{_=!0,u.has(t)&&(S=!0,u.delete(t)),m.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in E){let t=M[e],n=T[e];if(!c.hasOwnProperty(e))(t8(t)&&t8(n)?ix(t,n):t===n)?void 0!==t&&u.has(e)?A(e):m.protectedKeys[e]=!0:null!=t?A(e):u.add(e)}m.prevProp=g,m.prevResolvedValues=M,m.isActive&&(c={...c,...M}),i&&e.blockInitialAnimation&&(_=!1);let C=x&&b,I=!C||S;_&&I&&l.push(...w.map(t=>{let n={type:f};if("string"==typeof t&&i&&!C&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,r=t5(i,t);if(i.enteringChildren&&r){let{delayChildren:t}=r.transition||{};n.delay=ig(i.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(u.size){let t={};if("boolean"!=typeof s.initial){let n=t5(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{let i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=i??null}),l.push({animation:t})}let f=!!l.length;return i&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(f=!1),i=!1,f?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,i){if(n[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),n[t].isActive=i;let r=a(t);for(let e in n)n[e].protectedKeys={};return r},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=iM()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();ta(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends iT{constructor(){super(...arguments),this.id=iE++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends iT{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:n={}}=this.node.getProps(),{root:i,margin:r,amount:a="some",once:s}=n,o={root:i?i.current:void 0,rootMargin:r,threshold:"number"==typeof a?a:al[a]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,s&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),r=t?n:i;r&&r(e)};return e=this.node.current,t=function({root:e,...t}){let n=e||document;aa.has(n)||aa.set(n,{});let i=aa.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(ao,{root:e,...t})),i[r]}(o),ar.set(e,l),t.observe(e),()=>{ar.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends iT{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,a]=r3(e,n),s=e=>{let i=e.currentTarget;if(!an(e))return;r7.add(i);let a=t(i,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),r7.has(i)&&r7.delete(i),an(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{s(e,i===window||i===document||n.useGlobalTarget||r8(i,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{((n.useGlobalTarget?window:e).addEventListener("pointerdown",s,r),r6(e))&&(e.addEventListener("focus",e=>((e,t)=>{let n=e.currentTarget;if(!n)return;let i=ae(()=>{if(r7.has(n))return;at(n,"down");let e=ae(()=>{at(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>at(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),r9.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}(e,(e,t)=>(ai(this.node,t,"Start"),(e,{success:t})=>ai(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends iT{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nn(iC(this.node.current,"focus",()=>this.onFocus()),iC(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends iT{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,a]=r3(e,n),s=e=>{if(!r4(e))return;let{target:n}=e,i=t(n,e);if("function"!=typeof i||!n)return;let a=e=>{r4(e)&&(i(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,r)};return i.forEach(e=>{e.addEventListener("pointerenter",s,r)}),a}(e,(e,t)=>(r5(this.node,t,"Start"),e=>r5(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends iT{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new i$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ij(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:iQ(e),onStart:iQ(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&el.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=ik(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends iT{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new iJ(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:r1,MeasureLayout:i8},layout:{ProjectionNode:r1,MeasureLayout:i8}},(e,t)=>tD(e)?new tR(t):new tM(t,{allowProjection:e!==a.Fragment}));e.s(["motion",()=>au],46932)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),n=e.i(71645),i=e.i(31178),r=e.i(47414),a=e.i(74008),s=e.i(21476),o=e.i(72846),l=n,u=e.i(37806);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:i,anchorX:r,root:a}){let s=(0,l.useId)(),o=(0,l.useRef)(null),h=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,l.useContext)(u.MotionConfigContext),f=function(...e){return n.useCallback(function(...e){return t=>{let n=!1,i=e.map(e=>{let i=c(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():c(e[t],null)}}}}(...e),e)}(o,e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l,right:u}=h.current;if(i||!o.current||!e||!t)return;let c="left"===r?`left: ${l}`:`right: ${u}`;o.current.dataset.motionPopId=s;let d=document.createElement("style");p&&(d.nonce=p);let f=a??document.head;return f.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${c}px !important;
            top: ${n}px !important;
          }
        `),()=>{f.contains(d)&&f.removeChild(d)}},[i]),(0,t.jsx)(d,{isPresent:i,childRef:o,sizeRef:h,children:l.cloneElement(e,{ref:f})})}let p=({children:e,initial:i,isPresent:a,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:c,anchorX:d,root:p})=>{let m=(0,r.useConstant)(f),g=(0,n.useId)(),v=!0,y=(0,n.useMemo)(()=>(v=!1,{id:g,initial:i,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;o&&o()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[a,m,o]);return u&&v&&(y={...y}),(0,n.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),n.useEffect(()=>{a||m.size||!o||o()},[a]),"popLayout"===c&&(e=(0,t.jsx)(h,{isPresent:a,anchorX:d,root:p,children:e})),(0,t.jsx)(s.PresenceContext.Provider,{value:y,children:e})};function f(){return new Map}var m=e.i(64978);let g=e=>e.key||"";function v(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:s,initial:o=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:c="sync",propagate:d=!1,anchorX:h="left",root:f})=>{let[y,x]=(0,m.usePresence)(d),b=(0,n.useMemo)(()=>v(e),[e]),_=d&&!y?[]:b.map(g),S=(0,n.useRef)(!0),w=(0,n.useRef)(b),M=(0,r.useConstant)(()=>new Map),[T,E]=(0,n.useState)(b),[A,C]=(0,n.useState)(b);(0,a.useIsomorphicLayoutEffect)(()=>{S.current=!1,w.current=b;for(let e=0;e<A.length;e++){let t=g(A[e]);_.includes(t)?M.delete(t):!0!==M.get(t)&&M.set(t,!1)}},[A,_.length,_.join("-")]);let I=[];if(b!==T){let e=[...b];for(let t=0;t<A.length;t++){let n=A[t],i=g(n);_.includes(i)||(e.splice(t,0,n),I.push(n))}return"wait"===c&&I.length&&(e=I),C(v(e)),E(b),null}let{forceRender:P}=(0,n.useContext)(i.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:A.map(e=>{let n=g(e),i=(!d||!!y)&&(b===A||_.includes(n));return(0,t.jsx)(p,{isPresent:i,initial:(!S.current||!!o)&&void 0,custom:s,presenceAffectsLayout:u,mode:c,root:f,onExitComplete:i?void 0:()=>{if(!M.has(n))return;M.set(n,!0);let e=!0;M.forEach(t=>{t||(e=!1)}),e&&(P?.(),C(w.current),d&&x?.(),l&&l())},anchorX:h,children:e},n)})})};e.s(["AnimatePresence",()=>y],88653)},75254,e=>{"use strict";var t=e.i(71645);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...c},d)=>(0,t.createElement)("svg",{ref:d,...r,width:n,height:n,stroke:e,strokeWidth:s?24*Number(a)/Number(n):a,className:i("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...u.map(([e,n])=>(0,t.createElement)(e,n)),...Array.isArray(l)?l:[l]])),s=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...o},l)=>(0,t.createElement)(a,{ref:l,iconNode:r,className:i(`lucide-${n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...o}));return s.displayName=n(e),s};e.s(["default",()=>s],75254)},21218,e=>{"use strict";let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},73884,64659,e=>{"use strict";var t=e.i(75254);let n=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>n],73884);let i=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>i],64659)},32137,e=>{"use strict";let t=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),n=[],i=(e,t,n)=>{if(0==e.length-t)return n.classGroupId;let r=e[t],a=n.nextPart.get(r);if(a){let n=i(e,t+1,a);if(n)return n}let s=n.validators;if(null===s)return;let o=0===t?e.join("-"):e.slice(t).join("-"),l=s.length;for(let e=0;e<l;e++){let t=s[e];if(t.validator(o))return t.classGroupId}},r=(e,n)=>{let i=t();for(let t in e)a(e[t],i,t,n);return i},a=(e,t,n,i)=>{let r=e.length;for(let a=0;a<r;a++)s(e[a],t,n,i)},s=(e,t,n,i)=>{"string"==typeof e?o(e,t,n):"function"==typeof e?l(e,t,n,i):u(e,t,n,i)},o=(e,t,n)=>{(""===e?t:c(t,e)).classGroupId=n},l=(e,t,n,i)=>{d(e)?a(e(i),t,n,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:n,validator:e}))},u=(e,t,n,i)=>{let r=Object.entries(e),s=r.length;for(let e=0;e<s;e++){let[s,o]=r[e];a(o,c(t,s),n,i)}},c=(e,n)=>{let i=e,r=n.split("-"),a=r.length;for(let e=0;e<a;e++){let n=r[e],a=i.nextPart.get(n);a||(a=t(),i.nextPart.set(n,a)),i=a}return i},d=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,h=[],p=(e,t,n,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),f=/\s+/,m=e=>{let t;if("string"==typeof e)return e;let n="";for(let i=0;i<e.length;i++)e[i]&&(t=m(e[i]))&&(n&&(n+=" "),n+=t);return n},g=[],v=e=>{let t=t=>t[e]||g;return t.isThemeGetter=!0,t},y=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b=/^\d+\/\d+$/,_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,E=e=>b.test(e),A=e=>!!e&&!Number.isNaN(Number(e)),C=e=>!!e&&Number.isInteger(Number(e)),I=e=>e.endsWith("%")&&A(e.slice(0,-1)),P=e=>_.test(e),k=()=>!0,R=e=>S.test(e)&&!w.test(e),N=()=>!1,D=e=>M.test(e),L=e=>T.test(e),U=e=>!z(e)&&!G(e),O=e=>J(e,et,N),z=e=>y.test(e),j=e=>J(e,en,R),F=e=>J(e,ei,A),$=e=>J(e,Q,N),B=e=>J(e,ee,L),V=e=>J(e,ea,D),G=e=>x.test(e),H=e=>K(e,en),W=e=>K(e,er),Z=e=>K(e,Q),X=e=>K(e,et),q=e=>K(e,ee),Y=e=>K(e,ea,!0),J=(e,t,n)=>{let i=y.exec(e);return!!i&&(i[1]?t(i[1]):n(i[2]))},K=(e,t,n=!1)=>{let i=x.exec(e);return!!i&&(i[1]?t(i[1]):n)},Q=e=>"position"===e||"percentage"===e,ee=e=>"image"===e||"url"===e,et=e=>"length"===e||"size"===e||"bg-size"===e,en=e=>"length"===e,ei=e=>"number"===e,er=e=>"family-name"===e,ea=e=>"shadow"===e,es=((e,...t)=>{let a,s,o,l,u=e=>{let t=s(e);if(t)return t;let n=((e,t)=>{let{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:a}=t,s=[],o=e.trim().split(f),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:u,modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(t);if(u){l=t+(l.length>0?" "+l:l);continue}let f=!!p,m=i(f?h.substring(0,p):h);if(!m){if(!f||!(m=i(h))){l=t+(l.length>0?" "+l:l);continue}f=!1}let g=0===c.length?"":1===c.length?c[0]:a(c).join(":"),v=d?g+"!":g,y=v+m;if(s.indexOf(y)>-1)continue;s.push(y);let x=r(m,f);for(let e=0;e<x.length;++e){let t=x[e];s.push(v+t)}l=t+(l.length>0?" "+l:l)}return l})(e,a);return o(e,n),n};return l=c=>{var d;let f;return s=(a={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null),r=(r,a)=>{n[r]=a,++t>e&&(t=0,i=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set(e,t){e in n?n[e]=t:r(e,t)}}})((d=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:n}=e,i=e=>{let t,n=[],i=0,r=0,a=0,s=e.length;for(let o=0;o<s;o++){let s=e[o];if(0===i&&0===r){if(":"===s){n.push(e.slice(a,o)),a=o+1;continue}if("/"===s){t=o;continue}}"["===s?i++:"]"===s?i--:"("===s?r++:")"===s&&r--}let o=0===n.length?e:e.slice(a),l=o,u=!1;return o.endsWith("!")?(l=o.slice(0,-1),u=!0):o.startsWith("!")&&(l=o.slice(1),u=!0),p(n,u,l,t&&t>a?t-a:void 0)};if(t){let e=t+":",n=i;i=t=>t.startsWith(e)?n(t.slice(e.length)):p(h,!1,t,void 0,!0)}if(n){let e=i;i=t=>n({className:t,parseClassName:e})}return i})(d),sortModifiers:(f=new Map,d.orderSensitiveModifiers.forEach((e,t)=>{f.set(e,1e6+t)}),e=>{let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i],a="["===r[0],s=f.has(r);a||s?(n.length>0&&(n.sort(),t.push(...n),n=[]),t.push(r)):n.push(r)}return n.length>0&&(n.sort(),t.push(...n)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:n}=e;return r(n,t)})(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var n;let t,i,r;return -1===(n=e).slice(1,-1).indexOf(":")?void 0:(i=(t=n.slice(1,-1)).indexOf(":"),(r=t.slice(0,i))?"arbitrary.."+r:void 0)}let r=e.split("-"),a=+(""===r[0]&&r.length>1);return i(r,a,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=s[e],i=a[e];if(t){if(i){let e=Array(i.length+t.length);for(let t=0;t<i.length;t++)e[t]=i[t];for(let n=0;n<t.length;n++)e[i.length+n]=t[n];return e}return t}return i||n}return a[e]||n}}})(d)}).cache.get,o=a.cache.set,l=u,u(c)},(...e)=>l(((...e)=>{let t,n,i=0,r="";for(;i<e.length;)(t=e[i++])&&(n=m(t))&&(r&&(r+=" "),r+=n);return r})(...e))})(()=>{let e=v("color"),t=v("font"),n=v("text"),i=v("font-weight"),r=v("tracking"),a=v("leading"),s=v("breakpoint"),o=v("container"),l=v("spacing"),u=v("radius"),c=v("shadow"),d=v("inset-shadow"),h=v("text-shadow"),p=v("drop-shadow"),f=v("blur"),m=v("perspective"),g=v("aspect"),y=v("ease"),x=v("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),G,z],w=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],T=()=>[G,z,l],R=()=>[E,"full","auto",...T()],N=()=>[C,"none","subgrid",G,z],D=()=>["auto",{span:["full",C,G,z]},C,G,z],L=()=>[C,"auto",G,z],J=()=>["auto","min","max","fr",G,z],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...T()],et=()=>[E,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],en=()=>[e,G,z],ei=()=>[..._(),Z,$,{position:[G,z]}],er=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ea=()=>["auto","cover","contain",X,O,{size:[G,z]}],es=()=>[I,H,j],eo=()=>["","none","full",u,G,z],el=()=>["",A,H,j],eu=()=>["solid","dashed","dotted","double"],ec=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ed=()=>[A,I,Z,$],eh=()=>["","none",f,G,z],ep=()=>["none",A,G,z],ef=()=>["none",A,G,z],em=()=>[A,G,z],eg=()=>[E,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[P],breakpoint:[P],color:[k],container:[P],"drop-shadow":[P],ease:["in","out","in-out"],font:[U],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[P],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[P],shadow:[P],spacing:["px",A],text:[P],"text-shadow":[P],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",E,z,G,g]}],container:["container"],columns:[{columns:[A,z,G,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[C,"auto",G,z]}],basis:[{basis:[E,"full","auto",o,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[A,E,"auto","initial","none",z]}],grow:[{grow:["",A,G,z]}],shrink:[{shrink:["",A,G,z]}],order:[{order:[C,"first","last","none",G,z]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[o,"screen",...et()]}],"min-w":[{"min-w":[o,"screen","none",...et()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",n,H,j]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,G,F]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",I,z]}],"font-family":[{font:[W,z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,G,z]}],"line-clamp":[{"line-clamp":[A,"none",G,F]}],leading:[{leading:[a,...T()]}],"list-image":[{"list-image":["none",G,z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:en()}],"text-color":[{text:en()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...eu(),"wavy"]}],"text-decoration-thickness":[{decoration:[A,"from-font","auto",G,j]}],"text-decoration-color":[{decoration:en()}],"underline-offset":[{"underline-offset":[A,"auto",G,z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ei()}],"bg-repeat":[{bg:er()}],"bg-size":[{bg:ea()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},C,G,z],radial:["",G,z],conic:[C,G,z]},q,B]}],"bg-color":[{bg:en()}],"gradient-from-pos":[{from:es()}],"gradient-via-pos":[{via:es()}],"gradient-to-pos":[{to:es()}],"gradient-from":[{from:en()}],"gradient-via":[{via:en()}],"gradient-to":[{to:en()}],rounded:[{rounded:eo()}],"rounded-s":[{"rounded-s":eo()}],"rounded-e":[{"rounded-e":eo()}],"rounded-t":[{"rounded-t":eo()}],"rounded-r":[{"rounded-r":eo()}],"rounded-b":[{"rounded-b":eo()}],"rounded-l":[{"rounded-l":eo()}],"rounded-ss":[{"rounded-ss":eo()}],"rounded-se":[{"rounded-se":eo()}],"rounded-ee":[{"rounded-ee":eo()}],"rounded-es":[{"rounded-es":eo()}],"rounded-tl":[{"rounded-tl":eo()}],"rounded-tr":[{"rounded-tr":eo()}],"rounded-br":[{"rounded-br":eo()}],"rounded-bl":[{"rounded-bl":eo()}],"border-w":[{border:el()}],"border-w-x":[{"border-x":el()}],"border-w-y":[{"border-y":el()}],"border-w-s":[{"border-s":el()}],"border-w-e":[{"border-e":el()}],"border-w-t":[{"border-t":el()}],"border-w-r":[{"border-r":el()}],"border-w-b":[{"border-b":el()}],"border-w-l":[{"border-l":el()}],"divide-x":[{"divide-x":el()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":el()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...eu(),"hidden","none"]}],"divide-style":[{divide:[...eu(),"hidden","none"]}],"border-color":[{border:en()}],"border-color-x":[{"border-x":en()}],"border-color-y":[{"border-y":en()}],"border-color-s":[{"border-s":en()}],"border-color-e":[{"border-e":en()}],"border-color-t":[{"border-t":en()}],"border-color-r":[{"border-r":en()}],"border-color-b":[{"border-b":en()}],"border-color-l":[{"border-l":en()}],"divide-color":[{divide:en()}],"outline-style":[{outline:[...eu(),"none","hidden"]}],"outline-offset":[{"outline-offset":[A,G,z]}],"outline-w":[{outline:["",A,H,j]}],"outline-color":[{outline:en()}],shadow:[{shadow:["","none",c,Y,V]}],"shadow-color":[{shadow:en()}],"inset-shadow":[{"inset-shadow":["none",d,Y,V]}],"inset-shadow-color":[{"inset-shadow":en()}],"ring-w":[{ring:el()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:en()}],"ring-offset-w":[{"ring-offset":[A,j]}],"ring-offset-color":[{"ring-offset":en()}],"inset-ring-w":[{"inset-ring":el()}],"inset-ring-color":[{"inset-ring":en()}],"text-shadow":[{"text-shadow":["none",h,Y,V]}],"text-shadow-color":[{"text-shadow":en()}],opacity:[{opacity:[A,G,z]}],"mix-blend":[{"mix-blend":[...ec(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ec()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[A]}],"mask-image-linear-from-pos":[{"mask-linear-from":ed()}],"mask-image-linear-to-pos":[{"mask-linear-to":ed()}],"mask-image-linear-from-color":[{"mask-linear-from":en()}],"mask-image-linear-to-color":[{"mask-linear-to":en()}],"mask-image-t-from-pos":[{"mask-t-from":ed()}],"mask-image-t-to-pos":[{"mask-t-to":ed()}],"mask-image-t-from-color":[{"mask-t-from":en()}],"mask-image-t-to-color":[{"mask-t-to":en()}],"mask-image-r-from-pos":[{"mask-r-from":ed()}],"mask-image-r-to-pos":[{"mask-r-to":ed()}],"mask-image-r-from-color":[{"mask-r-from":en()}],"mask-image-r-to-color":[{"mask-r-to":en()}],"mask-image-b-from-pos":[{"mask-b-from":ed()}],"mask-image-b-to-pos":[{"mask-b-to":ed()}],"mask-image-b-from-color":[{"mask-b-from":en()}],"mask-image-b-to-color":[{"mask-b-to":en()}],"mask-image-l-from-pos":[{"mask-l-from":ed()}],"mask-image-l-to-pos":[{"mask-l-to":ed()}],"mask-image-l-from-color":[{"mask-l-from":en()}],"mask-image-l-to-color":[{"mask-l-to":en()}],"mask-image-x-from-pos":[{"mask-x-from":ed()}],"mask-image-x-to-pos":[{"mask-x-to":ed()}],"mask-image-x-from-color":[{"mask-x-from":en()}],"mask-image-x-to-color":[{"mask-x-to":en()}],"mask-image-y-from-pos":[{"mask-y-from":ed()}],"mask-image-y-to-pos":[{"mask-y-to":ed()}],"mask-image-y-from-color":[{"mask-y-from":en()}],"mask-image-y-to-color":[{"mask-y-to":en()}],"mask-image-radial":[{"mask-radial":[G,z]}],"mask-image-radial-from-pos":[{"mask-radial-from":ed()}],"mask-image-radial-to-pos":[{"mask-radial-to":ed()}],"mask-image-radial-from-color":[{"mask-radial-from":en()}],"mask-image-radial-to-color":[{"mask-radial-to":en()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[A]}],"mask-image-conic-from-pos":[{"mask-conic-from":ed()}],"mask-image-conic-to-pos":[{"mask-conic-to":ed()}],"mask-image-conic-from-color":[{"mask-conic-from":en()}],"mask-image-conic-to-color":[{"mask-conic-to":en()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ei()}],"mask-repeat":[{mask:er()}],"mask-size":[{mask:ea()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",G,z]}],filter:[{filter:["","none",G,z]}],blur:[{blur:eh()}],brightness:[{brightness:[A,G,z]}],contrast:[{contrast:[A,G,z]}],"drop-shadow":[{"drop-shadow":["","none",p,Y,V]}],"drop-shadow-color":[{"drop-shadow":en()}],grayscale:[{grayscale:["",A,G,z]}],"hue-rotate":[{"hue-rotate":[A,G,z]}],invert:[{invert:["",A,G,z]}],saturate:[{saturate:[A,G,z]}],sepia:[{sepia:["",A,G,z]}],"backdrop-filter":[{"backdrop-filter":["","none",G,z]}],"backdrop-blur":[{"backdrop-blur":eh()}],"backdrop-brightness":[{"backdrop-brightness":[A,G,z]}],"backdrop-contrast":[{"backdrop-contrast":[A,G,z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",A,G,z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A,G,z]}],"backdrop-invert":[{"backdrop-invert":["",A,G,z]}],"backdrop-opacity":[{"backdrop-opacity":[A,G,z]}],"backdrop-saturate":[{"backdrop-saturate":[A,G,z]}],"backdrop-sepia":[{"backdrop-sepia":["",A,G,z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[A,"initial",G,z]}],ease:[{ease:["linear","initial",y,G,z]}],delay:[{delay:[A,G,z]}],animate:[{animate:["none",x,G,z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,G,z]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ep()}],"rotate-x":[{"rotate-x":ep()}],"rotate-y":[{"rotate-y":ep()}],"rotate-z":[{"rotate-z":ep()}],scale:[{scale:ef()}],"scale-x":[{"scale-x":ef()}],"scale-y":[{"scale-y":ef()}],"scale-z":[{"scale-z":ef()}],"scale-3d":["scale-3d"],skew:[{skew:em()}],"skew-x":[{"skew-x":em()}],"skew-y":[{"skew-y":em()}],transform:[{transform:[G,z,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:eg()}],"translate-x":[{"translate-x":eg()}],"translate-y":[{"translate-y":eg()}],"translate-z":[{"translate-z":eg()}],"translate-none":["translate-none"],accent:[{accent:en()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:en()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,z]}],fill:[{fill:["none",...en()]}],"stroke-w":[{stroke:[A,H,j,F]}],stroke:[{stroke:["none",...en()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function eo(...e){return es(function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=function e(t){var n,i,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(i=e(t[n]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}(e))&&(i&&(i+=" "),i+=t);return i}(e))}e.s(["cn",()=>eo],32137)},77721,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(46932),r=e.i(88653);e.i(21218);var a=e.i(75254);(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),(0,a.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),e.i(73884);var s=e.i(64659);let o=(0,a.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var l=e.i(32137);e.s(["SLABadge",0,({className:e,apiUrl:a="/api/sla-metrics"})=>{let[u,c]=(0,n.useState)(null),[d,h]=(0,n.useState)(!0),[p,f]=(0,n.useState)("api"),[m,g]=(0,n.useState)(!1),v=()=>{let e=Math.min(100,99.92+(Math.random()-.5)*4),t=Math.max(50,180+(Math.random()-.5)*60),n=Math.max(0,.08+(Math.random()-.5)*.1);return{uptime:parseFloat(e.toFixed(2)),latency:Math.round(t),errorRate:parseFloat(n.toFixed(2)),lastUpdated:new Date().toISOString(),status:e<99.5||t>500||n>1?"critical":e<99.9||t>300||n>.2?"degraded":"healthy"}},y=async()=>{if(!a||"fallback"===p){c(v()),h(!1);return}try{let e=await fetch(a);if(!e.ok)throw Error("Failed to fetch");let t=await e.json();c(t)}catch(e){console.warn("SLA API unavailable, using simulated metrics instead.",e),f("fallback"),c(v())}finally{h(!1)}};(0,n.useEffect)(()=>{y();let e=setInterval(y,3e4);return()=>clearInterval(e)},[a,p]);let x=e=>{switch(e){case"healthy":return"bg-emerald-500";case"degraded":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-neutral-500"}};return(0,t.jsxs)("div",{className:(0,l.cn)("relative inline-flex flex-col items-start rounded-full bg-black/50 border border-white/10 backdrop-blur-sm text-xs font-mono cursor-pointer transition-all duration-300",m?"p-4":"px-3 py-1.5",e),onClick:()=>g(!m),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:(0,l.cn)("animate-ping absolute inline-flex h-full w-full rounded-full opacity-75",x(u?.status))}),(0,t.jsx)("span",{className:(0,l.cn)("relative inline-flex rounded-full h-2 w-2",x(u?.status))})]}),(0,t.jsx)("span",{className:"text-neutral-400",children:"SYSTEM"}),(0,t.jsx)("span",{className:(0,l.cn)("font-bold",(e=>{switch(e){case"healthy":return"text-emerald-400";case"degraded":return"text-yellow-400";case"critical":return"text-red-400";default:return"text-neutral-400"}})(u?.status)),children:d?"...":u?.status?.toUpperCase()}),!d&&u&&(0,t.jsxs)("span",{className:"text-neutral-600 border-l border-white/10 pl-2 ml-1",children:[u.uptime,"%"]}),(0,t.jsx)("div",{className:"ml-2 text-neutral-500",children:m?(0,t.jsx)(o,{className:"w-3 h-3"}):(0,t.jsx)(s.ChevronDown,{className:"w-3 h-3"})})]}),(0,t.jsx)(r.AnimatePresence,{children:m&&u&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-2 pt-2 border-t border-white/10 w-full text-neutral-400 space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Uptime:"}),(0,t.jsxs)("span",{children:[u.uptime,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Latency:"}),(0,t.jsxs)("span",{children:[u.latency,"ms"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Error Rate:"}),(0,t.jsxs)("span",{children:[u.errorRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] text-neutral-500",children:[(0,t.jsx)("span",{children:"Last Updated:"}),(0,t.jsx)("span",{children:new Date(u.lastUpdated).toLocaleTimeString()})]})]})})]})}],77721)},98183,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return o}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});function a(e){let t={};for(let[n,i]of e.entries()){let e=t[n];void 0===e?t[n]=i:Array.isArray(e)?e.push(i):t[n]=[e,i]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[n,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(n,s(e));else t.set(n,s(i));return t}function l(e,...t){for(let n of t){for(let t of n.keys())e.delete(t);for(let[t,i]of n.entries())e.append(t,i)}return e}},95057,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={formatUrl:function(){return o},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:n}=e,i=e.protocol||"",r=e.pathname||"",o=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:n&&(u=t+(~n.indexOf(":")?`[${n}]`:n),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(a.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||s.test(i))&&!1!==u?(u="//"+(u||""),r&&"/"!==r[0]&&(r="/"+r)):u||(u=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),r=r.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${i}${u}${r}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return o(e)}},18581,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return r}});let i=e.r(71645);function r(e,t){let n=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=n.current;e&&(n.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(n.current=a(e,i)),t&&(r.current=a(t,i))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18967,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={DecodeError:function(){return v},MiddlewareNotFoundError:function(){return _},MissingStaticPage:function(){return b},NormalizeError:function(){return y},PageNotFoundError:function(){return x},SP:function(){return m},ST:function(){return g},WEB_VITALS:function(){return a},execOnce:function(){return s},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return S}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function u(){let{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(n&&h(n))return i;if(!i)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let m="undefined"!=typeof performance,g=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class v extends Error{}class y extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class _ extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function S(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isLocalURL",{enumerable:!0,get:function(){return a}});let i=e.r(18967),r=e.r(52817);function a(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,r.hasBasePath)(n.pathname)}catch(e){return!1}}},84508,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},22016,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={default:function(){return v},useLinkStatus:function(){return x}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=e.r(90809),s=e.r(43476),o=a._(e.r(71645)),l=e.r(95057),u=e.r(8372),c=e.r(18581),d=e.r(18967),h=e.r(5550);e.r(33525);let p=e.r(91949),f=e.r(73668),m=e.r(9396);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function v(t){var n;let i,r,a,[l,v]=(0,o.useOptimistic)(p.IDLE_LINK_STATUS),x=(0,o.useRef)(null),{href:b,as:_,children:S,prefetch:w=null,passHref:M,replace:T,shallow:E,scroll:A,onClick:C,onMouseEnter:I,onTouchStart:P,legacyBehavior:k=!1,onNavigate:R,ref:N,unstable_dynamicOnHover:D,...L}=t;i=S,k&&("string"==typeof i||"number"==typeof i)&&(i=(0,s.jsx)("a",{children:i}));let U=o.default.useContext(u.AppRouterContext),O=!1!==w,z=!1!==w?null===(n=w)||"auto"===n?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:j,as:F}=o.default.useMemo(()=>{let e=g(b);return{href:e,as:_?g(_):e}},[b,_]);if(k){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});r=o.default.Children.only(i)}let $=k?r&&"object"==typeof r&&r.ref:N,B=o.default.useCallback(e=>(null!==U&&(x.current=(0,p.mountLinkInstance)(e,j,U,z,O,v)),()=>{x.current&&((0,p.unmountLinkForCurrentNavigation)(x.current),x.current=null),(0,p.unmountPrefetchableInstance)(e)}),[O,j,U,z,v]),V={ref:(0,c.useMergedRef)(B,$),onClick(t){k||"function"!=typeof C||C(t),k&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(t),!U||t.defaultPrevented||function(t,n,i,r,a,s,l){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(n)){a&&(t.preventDefault(),location.replace(n));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);o.default.startTransition(()=>{d(i||n,a?"replace":"push",s??!0,r.current)})}}(t,j,F,x,T,A,R)},onMouseEnter(e){k||"function"!=typeof I||I(e),k&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),U&&O&&(0,p.onNavigationIntent)(e.currentTarget,!0===D)},onTouchStart:function(e){k||"function"!=typeof P||P(e),k&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),U&&O&&(0,p.onNavigationIntent)(e.currentTarget,!0===D)}};return(0,d.isAbsoluteUrl)(F)?V.href=F:k&&!M&&("a"!==r.type||"href"in r.props)||(V.href=(0,h.addBasePath)(F)),a=k?o.default.cloneElement(r,V):(0,s.jsx)("a",{...L,...V,children:i}),(0,s.jsx)(y.Provider,{value:l,children:a})}e.r(84508);let y=(0,o.createContext)(p.IDLE_LINK_STATUS),x=()=>(0,o.useContext)(y);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18566,(e,t,n)=>{t.exports=e.r(76562)},8768,e=>{"use strict";var t=e.i(43476),n=e.i(71645);let i={en:{nav:{home:"Home",about:"About",projects:"Projects",evidence:"Evidence Layer",contact:"Contact"},hero:{badge:"Available for new opportunities",title:"R&D Engineer",highlight:"turned Web Dev",description:"Industrial discipline, artisanal code. I build web experiences that work as well as they look.",ecosystem_tagline:"Welcome to the GeeksLab Ecosystem",ecosystem_description:"Your hub for R&D innovation, portfolio projects, and experimental prototypes. Explore curated sections showcasing production work, interactive CV, and live experiments.",cta_primary:"View Journey",cta_secondary:"Contact Me",cta_experiments:"View Experiment Log",cta_portfolio:"Explore Portfolio",cta_cv:"View CV",cta_lab:"R&D Lab",cta_apply:"Apply (RFC Evaluation)"},exploded:{layer1:{label:"LAYER 1",title:"Frontend",subtitle:"The User Interface"},layer2:{label:"LAYER 2",title:"Backend",subtitle:"The Business Logic"},layer3:{label:"LAYER 3",title:"Infrastructure",subtitle:"The System Foundation"}},bento:{title:"Selected Works",description:"A selection of my recent work. Visit the Portfolio for full case studies.",item1:{title:"Geekslab Development",description:"My Personal R&D Lab & Consultancy. Building High-Performance Next.js Architectures."},item2:{title:"NexaStore Engine",description:"Headless E-commerce Solution. Stripe, CMS Integration & Real-time Inventory."},item3:{title:"ISO 13485 QMS",description:"Quality Management System for MedTech. Automated auditing and Traceability."},item4:{title:"TurboRepo Monorepo",description:"Micro-frontend architecture for large-scale enterprise applications."}},experience:{title:"Professional Journey",subtitle:"Over a decade leading teams and processes in the medical industry.",jobs:[{role:"Production Supervisor",description:"Leading production operations and compliance with Quality and Safety standards in a regulated medical environment (ISO 13485)."},{role:"R&D Jr. Engineer",description:"Coordination of experimental tests, design verification, and prototyping for new medical devices."},{role:"R&D Technician",description:"Execution of technical studies and experimental tests for projects under development."},{role:"3D Digital-Lab Technician",description:"3D scanning tests and device hardware maintenance."}]},skills:{title:"TECHNICAL ARSENAL",categories:{core:"Core Engineering",web:"Modern Web",ops:"Security & Ops",pro:"Professional"}},footer:{getInTouch:"Get in touch",available:"Available for freelance projects and open to full-time opportunities.",rights:"All rights reserved.",location:"Grecia, Alajuela, CR",localTime:"Local Time"},deconstructed:{title:"The Deconstructed Dev",description:"Understanding every layer of the stack, from pixel to packet."},contactPage:{title:"Let's Build Something",titleHighlight:"Amazing",description:"Have a project in mind or want to discuss a potential collaboration? I'm currently available for freelance work and full-time opportunities.",detailsTitle:"Contact Details",emailLabel:"Email",locationLabel:"Location",locationValue:"Remote / Worldwide",availabilityLabel:"Availability",availabilityValue:"Open to new projects",form:{nameLabel:"Name",namePlaceholder:"John Doe",emailLabel:"Email",emailPlaceholder:"john@example.com",messageLabel:"Message",messagePlaceholder:"Tell me about your project...",submitButton:"Send Message",sendingButton:"Sending...",successTitle:"Message Sent! ",successMessage:"Thanks for reaching out. I'll get back to you as soon as possible.",sendAnother:"Send another message",errorGeneric:"Something went wrong. Please try again.",errorNetwork:"Failed to send message. Please check your connection.",validation:{name:"Name must be at least 2 characters",email:"Invalid email address",message:"Message must be at least 10 characters"}}},experiments:{description:"Ideating, prototyping and building things I would like to see in this world is how I spend my nights and weekends.",subtitle:"Interactive Playground / R&D Lab"},lab:{badge:"Experiment Log",title:"Open Lab",description:"Hypotheses, trials, and results you can replicate. Focus on process, not perfect showcases.",before:"Before",after:"After",delta:"Delta",learnings:"Learnings",status:{running:"Running",validated:"Validated",failed:"Failed"},reproduce:"Open"},rfc:{badge:"RFC Evaluation",title:"Inverse Application",description:"Answer 6 prompts. I respond with an automatic letter: accept, adjust, or technical rejection.",scoreLabel:"score",thresholdsNote:"Thresholds: 70 accept. 40-69 needs adjustments. <40 technical rejection.",stackLabel:"Current stack",stackPlaceholder:"e.g. Next.js, Node, Postgres...",budgetLabel:"Estimated budget",budgetPlaceholder:"e.g. 15k USD or range",deadlineLabel:"Realistic deadline",deadlinePlaceholder:"e.g. 8 weeks, Q2 2025",toleranceLabel:"Tolerance to experiments",tolerance:{high:"High (prefer innovation)",medium:"Medium (balance)",low:"Low (only proven)"},autonomyLabel:"Expected autonomy",autonomy:{high:"High (I lead end-to-end)",medium:"Medium (shared ownership)",low:"Low (close guidance)"},complianceLabel:"Compliance",compliance:{iso:"ISO / Quality",hipaa:"HIPAA / Sensitive data",gdpr:"GDPR / Privacy",none:"No formal requirements"},generateButton:"Generate letter",generateNote:"Local generation, no data sent.",letter:{acceptTitle:"Acceptance letter (RFC approved)",adjustTitle:"Letter with suggested adjustments",rejectTitle:"Technical rejection letter",acceptBody:"Fits my delivery playbook. Proposal: 1-week Sprint 0 for architecture and risks, followed by two delivery sprints.",acceptClosing:"I confirm availability to start in 7 days. Will attach a detailed technical plan after a 20-minute call.",adjustBody:"Partial fit. I would adjust scope and risk before moving forward. Recommendation: reduce surface or increase tolerance to experiments.",adjustClosing:"If these adjustments work, we can re-evaluate. Happy to suggest alternatives or refer another profile.",rejectBody:"Not the best fit. You need a different profile or more internal operational capacity.",rejectClosing:"I prefer not to promise a result I cannot guarantee. I can suggest alternatives and references if needed."},decisionScaleTitle:"Decision scale",decisionScale:{accept:"70: I accept and propose immediate Sprint 0.",adjust:"40-69: Scope/risk adjustment required.",reject:"<40: Technical rejection, I suggest alternatives."}}},es:{nav:{home:"Inicio",about:"Sobre M",projects:"Proyectos",evidence:"Capa de Evidencia",contact:"Contacto"},hero:{badge:"Disponible para nuevas oportunidades",title:"Ingeniero R&D",highlight:"Web Dev",description:"Disciplina industrial, cdigo artesanal. Construyo experiencias web que funcionan tan bien como se ven.",ecosystem_tagline:"Bienvenido al Ecosistema GeeksLab",ecosystem_description:"Tu hub para innovacin R&D, proyectos de portfolio y prototipos experimentales. Explora secciones curadas mostrando trabajo en produccin, CV interactivo y experimentos en vivo.",cta_primary:"Ver Trayectoria",cta_secondary:"Contactar",cta_experiments:"Ver Bitcora de Experimentos",cta_portfolio:"Explorar Portfolio",cta_cv:"Ver CV",cta_lab:"Laboratorio R&D",cta_apply:"Aplicar (Evaluacin RFC)"},exploded:{layer1:{label:"CAPA 1",title:"Frontend",subtitle:"La Interfaz de Usuario"},layer2:{label:"CAPA 2",title:"Backend",subtitle:"La Lgica del Negocio"},layer3:{label:"CAPA 3",title:"Infraestructura",subtitle:"La Fundacin del Sistema"}},bento:{title:"Proyectos Destacados",description:"Una seleccin de mi trabajo reciente. Visita el Portfolio para estudios de caso completos.",item1:{title:"Desarrollo Geekslab",description:"Mi Laboratorio de I+D y Consultora. Construyendo Arquitecturas Next.js de Alto Rendimiento."},item2:{title:"Motor NexaStore",description:"Solucin E-commerce Headless. Integracin Stripe, CMS e Inventario en tiempo real."},item3:{title:"SGC ISO 13485",description:"Sistema de Gestin de Calidad para MedTech. Auditora automatizada y Trazabilidad."},item4:{title:"Monorepo TurboRepo",description:"Arquitectura de micro-frontends para aplicaciones empresariales a gran escala."}},experience:{title:"Trayectoria Profesional",subtitle:"Ms de una dcada liderando equipos y procesos en la industria mdica.",jobs:[{role:"Supervisor de Produccin",description:"Liderazgo de operaciones de produccin y cumplimiento de estndares de Calidad y Seguridad en entorno mdico regulado (ISO 13485)."},{role:"Ingeniero Jr. R&D",description:"Coordinacin de pruebas experimentales, verificacin de diseo y prototipado para nuevos dispositivos mdicos."},{role:"Tcnico R&D",description:"Ejecucin de estudios tcnicos y pruebas experimentales para proyectos en desarrollo."},{role:"Tcnico Laboratorio Digital 3D",description:"Pruebas de escaneo 3D y mantenimiento de hardware de dispositivos."}]},skills:{title:"ARSENAL TCNICO",categories:{core:"Ingeniera Core",web:"Web Moderna",ops:"Seguridad y Ops",pro:"Profesional"}},footer:{getInTouch:"Contctame",available:"Disponible para proyectos freelance y oportunidades de tiempo completo.",rights:"Todos los derechos reservados.",location:"Grecia, Alajuela, CR",localTime:"Hora Local"},deconstructed:{title:"El Desarrollador Deconstruido",description:"Entendiendo cada capa del stack, desde el pxel hasta el paquete."},contactPage:{title:"Construyamos Algo",titleHighlight:"Increble",description:"Tienes un proyecto en mente o quieres discutir una posible colaboracin? Actualmente estoy disponible para trabajo freelance y oportunidades de tiempo completo.",detailsTitle:"Detalles de Contacto",emailLabel:"Correo",locationLabel:"Ubicacin",locationValue:"Remoto / Mundial",availabilityLabel:"Disponibilidad",availabilityValue:"Abierto a nuevos proyectos",form:{nameLabel:"Nombre",namePlaceholder:"Juan Prez",emailLabel:"Correo",emailPlaceholder:"juan@ejemplo.com",messageLabel:"Mensaje",messagePlaceholder:"Cuntame sobre tu proyecto...",submitButton:"Enviar Mensaje",sendingButton:"Enviando...",successTitle:"Mensaje Enviado! ",successMessage:"Gracias por contactarme. Te responder lo antes posible.",sendAnother:"Enviar otro mensaje",errorGeneric:"Algo sali mal. Por favor intenta de nuevo.",errorNetwork:"Error al enviar mensaje. Revisa tu conexin.",validation:{name:"El nombre debe tener al menos 2 caracteres",email:"Direccin de correo invlida",message:"El mensaje debe tener al menos 10 caracteres"}}},experiments:{description:"Idear, prototipar y construir cosas que me gustara ver en este mundo es como paso mis noches y fines de semana.",subtitle:"Laboratorio Interactivo / I+D"},lab:{badge:"Bitcora de Experimentos",title:"Laboratorio Abierto",description:"Hiptesis, pruebas y resultados que puedes replicar. El foco es mostrar proceso, no vitrinas perfectas.",before:"Antes",after:"Despus",delta:"Delta",learnings:"Aprendizajes",status:{running:"En curso",validated:"Validado",failed:"Fallido"},reproduce:"Abrir"},rfc:{badge:"Evaluacin RFC",title:"Solicitud inversa",description:"Responde 6 prompts. Devuelvo una carta automtica: aceptar, ajustar o rechazo tcnico.",scoreLabel:"score",thresholdsNote:"Umbrales: 70 acepto. 40-69 requiere ajustes. <40 rechazo tcnico.",stackLabel:"Stack actual",stackPlaceholder:"Ej. Next.js, Node, Postgres...",budgetLabel:"Presupuesto estimado",budgetPlaceholder:"Ej. 15k USD o rango",deadlineLabel:"Deadline realista",deadlinePlaceholder:"Ej. 8 semanas, Q2 2025",toleranceLabel:"Tolerancia a experimentos",tolerance:{high:"Alta (prefiero innovacin)",medium:"Media (balance)",low:"Baja (solo probado)"},autonomyLabel:"Autonoma esperada",autonomy:{high:"Alta (lidero end-to-end)",medium:"Media (ownership compartido)",low:"Baja (guidance estrecha)"},complianceLabel:"Compliance",compliance:{iso:"ISO / Calidad",hipaa:"HIPAA / Datos sensibles",gdpr:"GDPR / Privacidad",none:"Sin requisitos formales"},generateButton:"Generar carta",generateNote:"Generacin local, sin enviar datos.",letter:{acceptTitle:"Carta de aceptacin (RFC Aprobada)",adjustTitle:"Carta con ajustes sugeridos",rejectTitle:"Carta de rechazo tcnico",acceptBody:"Encaja con mi playbook de delivery. Propuesta: Sprint 0 de 1 semana para arquitectura y riesgos, seguido de dos sprints de entrega.",acceptClosing:"Confirmo disponibilidad para arrancar en 7 das. Adjuntar un plan tcnico detallado despus de una llamada de 20 minutos.",adjustBody:"Hay encaje parcial. Ajustara scope y riesgo antes de avanzar. Recomendacin: reducir superficie o aumentar tolerancia a experimentos.",adjustClosing:"Si estos ajustes son aceptables, podemos re-evaluar. Feliz de sugerir alternativas o referir a otro perfil.",rejectBody:"No es el mejor fit. Requieres un perfil distinto o ms capacidad operativa interna.",rejectClosing:"Prefiero no comprometer un resultado que no pueda garantizar. Te dejo con sugerencias y referencias si las necesitas."},decisionScaleTitle:"Escala de decisin",decisionScale:{accept:"70: Acepto y propongo Sprint 0 inmediato.",adjust:"40-69: Requiere ajustes de scope/riesgo.",reject:"<40: Rechazo tcnico, sugiero alternativas."}}}},r=(0,n.createContext)(void 0);e.s(["LanguageProvider",0,({children:e})=>{let[a,s]=(0,n.useState)("en");return(0,n.useEffect)(()=>{let e=localStorage.getItem("language");e&&("en"===e||"es"===e)&&s(e)},[]),(0,t.jsx)(r.Provider,{value:{language:a,setLanguage:s,toggleLanguage:()=>{let e="en"===a?"es":"en";s(e),localStorage.setItem("language",e)},t:e=>{let t=e.split("."),n=i[a];for(let i of t)if(!n||"object"!=typeof n||!(i in n))return e;else n=n[i];return n}},children:e})},"useLanguage",0,()=>{let e=(0,n.useContext)(r);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}],8768)},76938,e=>{"use strict";var t=e.i(43476),n=e.i(22016),i=e.i(18566),r=e.i(46932),a=e.i(88653),s=e.i(32137),o=e.i(75254);let l=(0,o.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),u=(0,o.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var c=e.i(71645);e.i(38359);var d=e.i(8768);let h=()=>{let{language:e,toggleLanguage:n}=(0,d.useLanguage)();return(0,t.jsx)("button",{onClick:n,className:"relative px-3 py-1 rounded-full border border-neutral-200 dark:border-white/10 bg-neutral-100 dark:bg-neutral-900 text-xs font-medium text-neutral-600 dark:text-neutral-300 hover:text-black dark:hover:text-white transition-colors overflow-hidden",children:(0,t.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"en"===e?"text-black dark:text-white font-bold":"opacity-50",children:"EN"}),(0,t.jsx)("span",{className:"opacity-30",children:"/"}),(0,t.jsx)("span",{className:"es"===e?"text-black dark:text-white font-bold":"opacity-50",children:"ES"})]})})};e.s(["Navbar",0,()=>{let e=(0,i.usePathname)(),[o,p]=(0,c.useState)(!1);(0,c.useRef)([]);let{t:f}=(0,d.useLanguage)(),m=[{name:f("nav.home"),path:"/"},{name:f("nav.projects"),path:"/#projects"},{name:f("nav.evidence"),path:"/evidence-layer"},{name:f("nav.contact"),path:"/contact"}];return(0,t.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-white/10",children:[(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,t.jsx)(n.default,{href:"/",className:"text-2xl font-bold text-white tracking-tighter",children:"AMP"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(h,{}),(0,t.jsx)("button",{className:"p-2 text-neutral-400 hover:text-white transition-colors",onClick:()=>p(!o),"aria-label":"Toggle menu",children:o?(0,t.jsx)(u,{size:24}):(0,t.jsx)(l,{size:24})})]})]})}),(0,t.jsx)(a.AnimatePresence,{children:o&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden absolute top-24 left-0 right-0 bg-black border-b border-white/10 p-4",children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:m.map(i=>(0,t.jsx)(n.default,{href:i.path,className:(0,s.cn)("text-xl font-bold transition-colors hover:text-white",e===i.path?"text-white":"text-neutral-500"),onClick:()=>p(!1),children:i.name},i.path))})})})]})}],76938)},24478,(e,t,n)=>{"use strict";n.ConcurrentRoot=1,n.ContinuousEventPriority=8,n.DefaultEventPriority=32,n.DiscreteEventPriority=2,n.IdleEventPriority=0x10000000,n.LegacyRoot=0,n.NoEventPriority=0},39695,(e,t,n)=>{"use strict";t.exports=e.r(24478)},55838,(e,t,n)=>{"use strict";var i=e.r(71645),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,s=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return o(function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})},[e,n,t]),s(function(){return u(r)&&c({inst:r}),e(function(){u(r)&&c({inst:r})})},[e]),l(n),n};n.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},2239,(e,t,n)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,n)=>{"use strict";var i=e.r(71645),r=e.r(2239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,o=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var p=s(e,(d=u(function(){function e(e){if(!l){if(l=!0,s=e,e=i(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=i(e);return void 0!==r&&r(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,i,r]))[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},30224,(e,t,n)=>{"use strict";t.exports=e.r(52822)},29779,(e,t,n)=>{"use strict";function i(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(0<s(r,t))e[i]=t,e[n]=r,n=i;else break}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<r&&0>s(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[o]=n,i=o);else if(u<r&&0>s(c,n))e[i]=c,e[u]=n,i=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,f=null,m=3,g=!1,v=!1,y=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(h);null!==t;){if(null===t.callback)a(h);else if(t.startTime<=e)a(h),t.sortIndex=t.expirationTime,i(d,t);else break;t=r(h)}}function w(e){if(y=!1,S(e),!v)if(null!==r(d))v=!0,R();else{var t=r(h);null!==t&&N(w,t.startTime-e)}}var M=!1,T=-1,E=5,A=-1;function C(){return!(n.unstable_now()-A<E)}function I(){if(M){var e=n.unstable_now();A=e;var t=!0;try{e:{v=!1,y&&(y=!1,b(T),T=-1),g=!0;var i=m;try{t:{for(S(e),f=r(d);null!==f&&!(f.expirationTime>e&&C());){var s=f.callback;if("function"==typeof s){f.callback=null,m=f.priorityLevel;var l=s(f.expirationTime<=e);if(e=n.unstable_now(),"function"==typeof l){f.callback=l,S(e),t=!0;break t}f===r(d)&&a(d),S(e)}else a(d);f=r(d)}if(null!==f)t=!0;else{var u=r(h);null!==u&&N(w,u.startTime-e),t=!1}}break e}finally{f=null,m=i,g=!1}}}finally{t?o():M=!1}}}if("function"==typeof _)o=function(){_(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,k=P.port2;P.port1.onmessage=I,o=function(){k.postMessage(null)}}else o=function(){x(I,0)};function R(){M||(M=!0,o())}function N(e,t){T=x(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,R())},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(d)},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},n.unstable_scheduleCallback=function(e,t,a){var s=n.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=a+o,e={id:p++,callback:t,priorityLevel:e,startTime:a,expirationTime:o,sortIndex:-1},a>s?(e.sortIndex=a,i(h,e),null===r(d)&&e===r(h)&&(y?(b(T),T=-1):y=!0,N(w,a-s))):(e.sortIndex=o,i(d,e),v||g||(v=!0,R())),e},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},28563,(e,t,n)=>{"use strict";t.exports=e.r(29779)},40336,(e,t,n)=>{"use strict";var i=e.i(47167);t.exports=function(t){function n(e,t,n,i){return new iR(e,t,n,i)}function r(){}function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ra&&e[ra]||e["@@iterator"])?e:null}function o(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===rs?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i0:return"Fragment";case iQ:return"Portal";case i2:return"Profiler";case i1:return"StrictMode";case i8:return"Suspense";case i9:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case i5:return(e.displayName||"Context")+".Provider";case i4:return(e._context.displayName||"Context")+".Consumer";case i6:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case i7:return null!==(t=e.displayName||null)?t:o(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return o(e(t))}catch(e){}}return null}function l(e){if(void 0===rn)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);rn=t&&t[1]||"",ri=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+rn+e+ri}function u(e,t){if(!e||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split("\n"),c=o.split("\n");for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(1!==i||1!==r)do if(i--,r--,0>r||u[i]!==c[r]){var d="\n"+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r)break}}}finally{rl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?l(n):""}function c(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return l(e.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return u(e.type,!1);case 11:return u(e.type.render,!1);case 1:return u(e.type,!0);default:return""}}(e),e=e.return;while(e)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function h(e){if(d(e)!==e)throw Error(a(188))}function p(e){var t=e.alternate;if(!t){if(null===(t=d(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return h(r),e;if(s===i)return h(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function f(e){return{current:e}}function m(e){0>a4||(e.current=a3[a4],a3[a4]=null,a4--)}function g(e,t){a3[++a4]=e.current,e.current=t}function v(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function y(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=0x7ffffff&n;return 0!==o?0!=(n=o&~r)?i=v(n):0!=(a&=o)?i=v(a):e||0!=(s=o&~s)&&(i=v(s)):0!=(o=n&~r)?i=v(o):0!==a?i=v(a):e||0!=(s=n&~s)&&(i=v(s)),0===i?0:0!==t&&t!==i&&0==(t&r)&&((r=i&-i)>=(s=t&-t)||32===r&&0!=(4194176&s))?t:i}function x(e,t){return 0==(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function b(){var e=a7;return 0==(4194176&(a7<<=1))&&(a7=128),e}function _(){var e=se;return 0==(0x3c00000&(se<<=1))&&(se=4194304),e}function S(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function w(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function M(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-a6(t);e.entangledLanes|=t,e.entanglements[i]=0x40000000|e.entanglements[i]|4194218&n}function T(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-a6(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function E(e){return 2<(e&=-e)?8<e?0!=(0x7ffffff&e)?32:0x10000000:8:2}function A(e,t){if("object"==typeof e&&null!==e){var n=sp.get(e);return void 0!==n?n:(t={value:e,source:t,stack:c(t)},sp.set(e,t),t)}return{value:e,source:t,stack:c(t)}}function C(e,t){sf[sm++]=sv,sf[sm++]=sg,sg=e,sv=t}function I(e,t,n){sy[sx++]=s_,sy[sx++]=sS,sy[sx++]=sb,sb=e;var i=s_;e=sS;var r=32-a6(i)-1;i&=~(1<<r),n+=1;var a=32-a6(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,s_=1<<32-a6(t)+r|n<<r|i,sS=a+e}else s_=1<<a|n<<r|i,sS=e}function P(e){null!==e.return&&(C(e,1),I(e,1,0))}function k(e){for(;e===sg;)sg=sf[--sm],sf[sm]=null,sv=sf[--sm],sf[sm]=null;for(;e===sb;)sb=sy[--sx],sy[sx]=null,sS=sy[--sx],sy[sx]=null,s_=sy[--sx],sy[sx]=null}function R(e,t){g(sT,t),g(sM,e),g(sw,null),e=rf(t),m(sw),g(sw,e)}function N(){m(sw),m(sM),m(sT)}function D(e){null!==e.memoizedState&&g(sE,e);var t=sw.current,n=rm(t,e.type);t!==n&&(g(sM,e),g(sw,n))}function L(e){sM.current===e&&(m(sw),m(sM)),sE.current===e&&(m(sE),rE?rV._currentValue=rB:rV._currentValue2=rB)}function U(e){throw $(A(Error(a(418,"")),e)),sR}function O(e,t){if(!rI)throw Error(a(175));aE(e.stateNode,e.type,e.memoizedProps,t,e)||U(e)}function z(e){for(sA=e.return;sA;)switch(sA.tag){case 3:case 27:sk=!0;return;case 5:case 13:sk=!1;return;default:sA=sA.return}}function j(e){if(!rI||e!==sA)return!1;if(!sI)return z(e),sI=!0,!1;var t=!1;if(aJ?3!==e.tag&&27!==e.tag&&(5!==e.tag||aD(e.type)&&!r_(e.type,e.memoizedProps))&&(t=!0):3!==e.tag&&(5!==e.tag||aD(e.type)&&!r_(e.type,e.memoizedProps))&&(t=!0),t&&sC&&U(e),z(e),13===e.tag){if(!rI)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));sC=aI(e)}else sC=sA?ax(e.stateNode):null;return!0}function F(){rI&&(sC=sA=null,sI=!1)}function $(e){null===sP?sP=[e]:sP.push(e)}function B(){for(var e=sD,t=sL=sD=0;t<e;){var n=sN[t];sN[t++]=null;var i=sN[t];sN[t++]=null;var r=sN[t];sN[t++]=null;var a=sN[t];if(sN[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==a&&W(n,r,a)}}function V(e,t,n,i){sN[sD++]=e,sN[sD++]=t,sN[sD++]=n,sN[sD++]=i,sL|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function G(e,t,n,i){return V(e,t,n,i),Z(e)}function H(e,t){return V(e,null,null,t),Z(e)}function W(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==t&&3===e.tag&&(a=e.stateNode,r=31-a6(n),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[t]:e.push(t),t.lane=0x20000000|n)}function Z(e){if(50<lc)throw lc=0,ld=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function X(e){var t;e!==sO&&null===e.next&&(null===sO?sU=sO=e:sO=sO.next=e),sj=!0,sz||(sz=!0,t=Y,rH?rW(function(){0!=(6&oW)?st(ss,t):t()}):st(ss,t))}function q(e,t){if(!sF&&sj){sF=!0;do for(var n=!1,i=sU;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=0xc000055&(a=(1<<31-a6(42|e)+1)-1&(r&~(s&~o)))?0xc000055&a|1:a?2|a:0}0!==a&&(n=!0,Q(i,a))}else a=oq,0==(3&(a=y(i,i===oZ?a:0)))||x(i,a)||(n=!0,Q(i,a));i=i.next}while(n)sF=!1}}function Y(){sj=sz=!1;var e=0;0!==s$&&(rL()&&(e=s$),s$=0);for(var t=sa(),n=null,i=sU;null!==i;){var r=i.next,a=J(i,t);0===a?(i.next=null,null===n?sU=r:n.next=r,null===r&&(sO=n)):(n=i,(0!==e||0!=(3&a))&&(sj=!0)),i=r}q(e,!1)}function J(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-0x3c00001&e.pendingLanes;0<a;){var s=31-a6(a),o=1<<s,l=r[s];-1===l?(0==(o&n)||0!=(o&i))&&(r[s]=function(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=oZ,n=oq,n=y(e,e===t?n:0),i=e.callbackNode,0===n||e===t&&2===oY||null!==e.cancelPendingCommit)return null!==i&&null!==i&&sn(i),e.callbackNode=null,e.callbackPriority=0;if(0==(3&n)||x(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&sn(i),E(n)){case 2:case 8:n=so;break;case 32:default:n=sl;break;case 0x10000000:n=su}return n=st(n,i=K.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&sn(i),e.callbackPriority=2,e.callbackNode=null,2}function K(e,t){var n=e.callbackNode;if(iM()&&e.callbackNode!==n)return null;var i=oq;return 0===(i=y(e,e===oZ?i:0))?null:(ii(e,i,t),J(e,sa()),null!=e.callbackNode&&e.callbackNode===n?K.bind(null,e):null)}function Q(e,t){if(iM())return null;ii(e,t,!0)}function ee(){return 0===s$&&(s$=b()),s$}function et(){if(0==--sV&&null!==sB){null!==sH&&(sH.status="fulfilled");var e=sB;sB=null,sG=0,sH=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function en(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ei(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ea(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&oW)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Z(e),W(e,null,n),t}return V(e,i,t,n),Z(e)}function es(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194176&n))){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,T(e,n)}}function eo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function el(){if(sZ){var e=sH;if(null!==e)throw e}}function eu(e,t,n,i){sZ=!1;var r=e.updateQueue;sW=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var d=r.baseState;for(s=0,c=u=l=null,o=a;;){var h=-0x20000001&o.lane,p=h!==o.lane;if(p?(oq&h)===h:(i&h)===h){0!==h&&h===sG&&(sZ=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,m=o;switch(h=t,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(n,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(n,d,h):f))break e;d=iY({},d,h);break e;case 2:sW=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=h;if(null===(o=o.next))if(null===(o=r.shared.pending))break;else o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===a&&(r.shared.lanes=0),o3|=s,e.lanes=s,e.memoizedState=d}}function ec(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function ed(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ec(n[e],t)}function eh(e,t){if(sh(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sX.call(t,r)||!sh(e[r],t[r]))return!1}return!0}function ep(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ef(){}function em(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ef,ef),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===sq)throw Error(a(483));throw e;default:if("string"==typeof t.status)t.then(ef,ef);else{if(null!==(e=oZ)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===sq)throw Error(a(483));throw e}throw sK=t,sq}}function eg(){if(null===sK)throw Error(a(459));var e=sK;return sK=null,e}function ev(e){var t=s0;return s0+=1,null===sQ&&(sQ=[]),em(sQ,e,t)}function ey(e,t){e.ref=void 0!==(t=t.props.ref)?t:null}function ex(e,t){if(t.$$typeof===iJ)throw Error(a(525));throw Error(a(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eb(e){return(0,e._init)(e._payload)}function e_(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function i(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=iD(e,t)).index=0,e.sibling=null,e}function l(t,n,i){return(t.index=i,e)?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=0x2000002,n):i:(t.flags|=0x2000002,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=0x2000002),t}function c(e,t,n,i){return null===t||6!==t.tag?(t=ij(n,e.mode,i)).return=e:(t=o(t,n)).return=e,t}function d(e,t,n,i){var r=n.type;return r===i0?p(e,t,n.props.children,i,n.key):(null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===re&&eb(r)===t.type)?ey(t=o(t,n.props),n):ey(t=iU(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=iF(n,e.mode,i)).return=e:(t=o(t,n.children||[])).return=e,t}function p(e,t,n,i,r){return null===t||7!==t.tag?(t=iO(n,e.mode,i,r)).return=e:(t=o(t,n)).return=e,t}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=ij(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case iK:return ey(n=iU(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case iQ:return(t=iF(t,e.mode,n)).return=e,t;case re:return f(e,t=(0,t._init)(t._payload),n)}if(ru(t)||s(t))return(t=iO(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,ev(t),n);if(t.$$typeof===i5)return f(e,nl(e,t),n);ex(e,t)}return null}function m(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case iK:return n.key===r?d(e,t,n,i):null;case iQ:return n.key===r?h(e,t,n,i):null;case re:return m(e,t,n=(r=n._init)(n._payload),i)}if(ru(n)||s(n))return null!==r?null:p(e,t,n,i,null);if("function"==typeof n.then)return m(e,t,ev(n),i);if(n.$$typeof===i5)return m(e,t,nl(e,n),i);ex(e,n)}return null}function g(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case iK:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case iQ:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case re:return g(e,t,n,i=(0,i._init)(i._payload),r)}if(ru(i)||s(i))return p(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return g(e,t,n,ev(i),r);if(i.$$typeof===i5)return g(e,t,n,nl(t,i),r);ex(t,i)}return null}return function(c,d,h,p){try{s0=0;var v=function n(c,d,h,p){if("object"==typeof h&&null!==h&&h.type===i0&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case iK:e:{for(var v=h.key;null!==d;){if(d.key===v){if((v=h.type)===i0){if(7===d.tag){i(c,d.sibling),(p=o(d,h.props.children)).return=c,c=p;break e}}else if(d.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===re&&eb(v)===d.type){i(c,d.sibling),ey(p=o(d,h.props),h),p.return=c,c=p;break e}i(c,d);break}t(c,d),d=d.sibling}h.type===i0?(p=iO(h.props.children,c.mode,p,h.key)).return=c:(ey(p=iU(h.type,h.key,h.props,null,c.mode,p),h),p.return=c),c=p}return u(c);case iQ:e:{for(v=h.key;null!==d;){if(d.key===v)if(4===d.tag&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){i(c,d.sibling),(p=o(d,h.children||[])).return=c,c=p;break e}else{i(c,d);break}t(c,d),d=d.sibling}(p=iF(h,c.mode,p)).return=c,c=p}return u(c);case re:return n(c,d,h=(v=h._init)(h._payload),p)}if(ru(h))return function(n,a,s,o){for(var u=null,c=null,d=a,h=a=0,p=null;null!==d&&h<s.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var v=m(n,d,s[h],o);if(null===v){null===d&&(d=p);break}e&&d&&null===v.alternate&&t(n,d),a=l(v,a,h),null===c?u=v:c.sibling=v,c=v,d=p}if(h===s.length)return i(n,d),sI&&C(n,h),u;if(null===d){for(;h<s.length;h++)null!==(d=f(n,s[h],o))&&(a=l(d,a,h),null===c?u=d:c.sibling=d,c=d);return sI&&C(n,h),u}for(d=r(d);h<s.length;h++)null!==(p=g(d,n,h,s[h],o))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),a=l(p,a,h),null===c?u=p:c.sibling=p,c=p);return e&&d.forEach(function(e){return t(n,e)}),sI&&C(n,h),u}(c,d,h,p);if(s(h)){if("function"!=typeof(v=s(h)))throw Error(a(150));return function(n,s,o,u){if(null==o)throw Error(a(151));for(var c=null,d=null,h=s,p=s=0,v=null,y=o.next();null!==h&&!y.done;p++,y=o.next()){h.index>p?(v=h,h=null):v=h.sibling;var x=m(n,h,y.value,u);if(null===x){null===h&&(h=v);break}e&&h&&null===x.alternate&&t(n,h),s=l(x,s,p),null===d?c=x:d.sibling=x,d=x,h=v}if(y.done)return i(n,h),sI&&C(n,p),c;if(null===h){for(;!y.done;p++,y=o.next())null!==(y=f(n,y.value,u))&&(s=l(y,s,p),null===d?c=y:d.sibling=y,d=y);return sI&&C(n,p),c}for(h=r(h);!y.done;p++,y=o.next())null!==(y=g(h,n,p,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),s=l(y,s,p),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(n,e)}),sI&&C(n,p),c}(c,d,h=v.call(h),p)}if("function"==typeof h.then)return n(c,d,ev(h),p);if(h.$$typeof===i5)return n(c,d,nl(c,h),p);ex(c,h)}return"string"==typeof h&&""!==h||"number"==typeof h||"bigint"==typeof h?(h=""+h,null!==d&&6===d.tag?(i(c,d.sibling),(p=o(d,h)).return=c):(i(c,d),(p=ij(h,c.mode,p)).return=c),u(c=p)):i(c,d)}(c,d,h,p);return sQ=null,v}catch(e){if(e===sq)throw e;var y=n(29,e,null,c.mode);return y.lanes=p,y.return=c,y}finally{}}}function eS(e,t){g(s4,e=o1),g(s3,t),o1=e|t.baseLanes}function ew(){g(s4,o1),g(s3,s3.current)}function eM(){o1=s4.current,m(s3),m(s4)}function eT(e){var t=e.alternate;g(s8,1&s8.current),g(s5,e),null===s6&&(null===t||null!==s3.current?s6=e:null!==t.memoizedState&&(s6=e))}function eE(e){if(22===e.tag){if(g(s8,s8.current),g(s5,e),null===s6){var t=e.alternate;null!==t&&null!==t.memoizedState&&(s6=e)}}else eA(e)}function eA(){g(s8,s8.current),g(s5,s5.current)}function eC(e){m(s5),s6===e&&(s6=null),m(s8)}function eI(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ap(n)||af(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function eP(){throw Error(a(321))}function ek(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sh(e[n],t[n]))return!1;return!0}function eR(e,t,n,i,r,a){return s9=a,s7=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.H=null===e||null===e.memoizedState?od:oh,or=!1,a=n(i,r),or=!1,oi&&(a=eD(t,n,i,r)),eN(e),a}function eN(e){ro.H=oc;var t=null!==oe&&null!==oe.next;if(s9=0,ot=oe=s7=null,on=!1,os=0,oo=null,t)throw Error(a(300));null===e||ov||null!==(e=e.dependencies)&&na(e)&&(ov=!0)}function eD(e,t,n,i){s7=e;var r=0;do{if(oi&&(oo=null),os=0,oi=!1,25<=r)throw Error(a(301));if(r+=1,ot=oe=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}ro.H=op,s=t(n,i)}while(oi)return s}function eL(){var e=ro.H,t=e.useState()[0];return t="function"==typeof t.then?e$(t):t,e=e.useState()[0],(null!==oe?oe.memoizedState:null)!==e&&(s7.flags|=1024),t}function eU(){var e=0!==oa;return oa=0,e}function eO(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ez(e){if(on){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}on=!1}s9=0,ot=oe=s7=null,oi=!1,os=oa=0,oo=null}function ej(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ot?s7.memoizedState=ot=e:ot=ot.next=e,ot}function eF(){if(null===oe){var e=s7.alternate;e=null!==e?e.memoizedState:null}else e=oe.next;var t=null===ot?s7.memoizedState:ot.next;if(null!==t)ot=t,oe=e;else{if(null===e){if(null===s7.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(oe=e).memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},null===ot?s7.memoizedState=ot=e:ot=ot.next=e}return ot}function e$(e){var t=os;return os+=1,null===oo&&(oo=[]),e=em(oo,e,t),t=s7,null===(null===ot?t.memoizedState:ot.next)&&(ro.H=null===(t=t.alternate)||null===t.memoizedState?od:oh),e}function eB(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return e$(e);if(e.$$typeof===i5)return no(e)}throw Error(a(438,String(e)))}function eV(e){var t=null,n=s7.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=s7.alternate;null!==i&&null!==(i=i.updateQueue)&&null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=ou(),s7.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=rr;return t.index++,n}function eG(e,t){return"function"==typeof t?t(e):t}function eH(e){return eW(eF(),oe,e)}function eW(e,t,n){var i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{t=r.next;var l=o=null,u=null,c=t,d=!1;do{var h=-0x20000001&c.lane;if(h!==c.lane?(oq&h)===h:(s9&h)===h){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===sG&&(d=!0);else if((s9&p)===p){c=c.next,p===sG&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,o=s):u=u.next=h,s7.lanes|=p,o3|=p;h=c.action,or&&n(s,h),s=c.hasEagerState?c.eagerState:n(s,h)}else p={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,o=s):u=u.next=p,s7.lanes|=h,o3|=h;c=c.next}while(null!==c&&c!==t)if(null===u?o=s:u.next=l,!sh(s,e.memoizedState)&&(ov=!0,d&&null!==(n=sH)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=u,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function eZ(e){var t=eF(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r)sh(s,t.memoizedState)||(ov=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function eX(e,t,n){var i=s7,r=eF(),s=sI;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!sh((oe||r).memoizedState,n);if(o&&(r.memoizedState=n,ov=!0),r=r.queue,tu(eJ.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||null!==ot&&1&ot.memoizedState.tag){if(i.flags|=2048,tr(9,eY.bind(null,i,r,n,t),{destroy:void 0},null),null===oZ)throw Error(a(349));s||0!=(60&s9)||eq(i,t,n)}return n}function eq(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=s7.updateQueue)?(t=ou(),s7.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function eY(e,t,n,i){t.value=n,t.getSnapshot=i,eK(t)&&eQ(e)}function eJ(e,t,n){return n(function(){eK(t)&&eQ(e)})}function eK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sh(e,n)}catch(e){return!0}}function eQ(e){var t=H(e,2);null!==t&&it(t,e,2)}function e0(e){var t=ej();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eG,lastRenderedState:e},t}function e1(e,t,n,i){return e.baseState=n,eW(e,oe,"function"==typeof i?i:eG)}function e2(e,t,n,i,r){if(tI(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==ro.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,e3(t,s)):(s.next=n.next,t.pending=n.next=s)}}function e3(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=ro.T,s={};ro.T=s;try{var o=n(r,i),l=ro.S;null!==l&&l(s,o),e4(e,t,o)}catch(n){e6(e,t,n)}finally{ro.T=a}}else try{a=n(r,i),e4(e,t,a)}catch(n){e6(e,t,n)}}function e4(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){e5(e,t,n)},function(n){return e6(e,t,n)}):e5(e,t,n)}function e5(e,t,n){t.status="fulfilled",t.value=n,e8(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,e3(e,n)))}function e6(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do t.status="rejected",t.reason=n,e8(t),t=t.next;while(t!==i)}e.action=null}function e8(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function e9(e,t){return t}function e7(e,t){if(sI){var n=oZ.formState;if(null!==n){e:{var i=s7;if(sI){if(sC){var r=av(sC,sk);if(r){sC=ax(r),i=ay(r);break e}}U(i)}i=!1}i&&(t=n[0])}}(n=ej()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e9,lastRenderedState:t},n.queue=i,n=tE.bind(null,s7,i),i.dispatch=n,i=e0(!1);var a=tC.bind(null,s7,!1,i.queue);return i=ej(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=e2.bind(null,s7,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function te(e){return tt(eF(),oe,e)}function tt(e,t,n){t=eW(e,t,e9)[0],e=eH(eG)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?e$(t):t;var i=eF(),r=i.queue,a=r.dispatch;return n!==i.memoizedState&&(s7.flags|=2048,tr(9,tn.bind(null,r,n),{destroy:void 0},null)),[t,a,e]}function tn(e,t){e.action=t}function ti(e){var t=eF(),n=oe;if(null!==n)return tt(t,n,e);eF(),t=t.memoizedState;var i=(n=eF()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function tr(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=s7.updateQueue)&&(t=ou(),s7.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ta(){return eF().memoizedState}function ts(e,t,n,i){var r=ej();s7.flags|=e,r.memoizedState=tr(1|t,n,{destroy:void 0},void 0===i?null:i)}function to(e,t,n,i){var r=eF();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==oe&&null!==i&&ek(i,oe.memoizedState.deps)?r.memoizedState=tr(t,n,a,i):(s7.flags|=e,r.memoizedState=tr(1|t,n,a,i))}function tl(e,t){ts(8390656,8,e,t)}function tu(e,t){to(2048,8,e,t)}function tc(e,t){return to(4,2,e,t)}function td(e,t){return to(4,4,e,t)}function th(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.current=e=e(),function(){t.current=null}}function tp(e,t,n){n=null!=n?n.concat([e]):null,to(4,4,th.bind(null,t,e),n)}function tf(){}function tm(e,t){var n=eF();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ek(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function tg(e,t){var n=eF();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ek(t,i[1])?i[0]:(n.memoizedState=[i=e(),t],i)}function tv(e,t,n){return void 0===n||0!=(0x40000000&s9)?e.memoizedState=t:(e.memoizedState=n,e=ie(),s7.lanes|=e,o3|=e,n)}function ty(e,t,n,i){return sh(n,t)?n:null!==s3.current?(sh(e=tv(e,n,i),t)||(ov=!0),e):0==(42&s9)?(ov=!0,e.memoizedState=n):(e=ie(),s7.lanes|=e,o3|=e,t)}function tx(e,t,n,i,r){var a=rN();rR(0!==a&&8>a?a:8);var s=ro.T,o={};ro.T=o,tC(e,!1,t,n);try{var l=r(),u=ro.S;if(null!==u&&u(o,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c,d,h=(c=[],d={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},l.then(function(){d.status="fulfilled",d.value=i;for(var e=0;e<c.length;e++)(0,c[e])(i)},function(e){for(d.status="rejected",d.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),d);tA(e,t,h,n7(e))}else tA(e,t,i,n7(e))}catch(n){tA(e,t,{then:function(){},status:"rejected",reason:n},n7())}finally{rR(a),ro.T=s}}function tb(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:rB,baseState:rB,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eG,lastRenderedState:rB},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eG,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function t_(){return no(rV)}function tS(){return eF().memoizedState}function tw(){return eF().memoizedState}function tM(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=n7(),i=ea(t,e=er(n),n);null!==i&&(it(i,t,n),es(i,t,n)),t={cache:nc()},e.payload=t;return}t=t.return}}function tT(e,t,n){var i=n7();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},tI(e)?tP(t,n):null!==(n=G(e,t,n,i))&&(it(n,e,i),tk(n,t,i))}function tE(e,t,n){tA(e,t,n,n7())}function tA(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(tI(e))tP(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,sh(o,s))return V(e,t,r,0),null===oZ&&B(),!1}catch(e){}finally{}if(null!==(n=G(e,t,r,i)))return it(n,e,i),tk(n,t,i),!0}return!1}function tC(e,t,n,i){if(i={lane:2,revertLane:ee(),action:i,hasEagerState:!1,eagerState:null,next:null},tI(e)){if(t)throw Error(a(479))}else null!==(t=G(e,n,i,2))&&it(t,e,2)}function tI(e){var t=e.alternate;return e===s7||null!==t&&t===s7}function tP(e,t){oi=on=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tk(e,t,n){if(0!=(4194176&n)){var i=t.lanes;i&=e.pendingLanes,t.lanes=n|=i,T(e,n)}}function tR(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:iY({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function tN(e,t,n,i,r,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!t.prototype||!t.prototype.isPureReactComponent||!eh(n,i)||!eh(r,a)}function tD(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&of.enqueueReplaceState(t,t.state,null)}function tL(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=iY({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function tU(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function tO(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function tz(e,t,n){return(n=er(n)).tag=3,n.payload={element:null},n.callback=function(){tU(e,t)},n}function tj(e){return(e=er(e)).tag=3,e}function tF(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){tO(t,n,i)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){tO(t,n,i),"function"!=typeof r&&(null===lr?lr=new Set([this]):lr.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}function t$(e,t,n,i){t.child=null===e?s2(t,null,n,i):s1(t,e.child,n,i)}function tB(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)"ref"!==o&&(s[o]=i[o])}else s=i;return(ns(t),i=eR(e,t,n,s,a,r),o=eU(),null===e||ov)?(sI&&o&&P(t),t.flags|=1,t$(e,t,i,r),t.child):(eO(e,t,r),t8(e,t,r))}function tV(e,t,n,i,r){if(null===e){var a=n.type;return"function"!=typeof a||iN(a)||void 0!==a.defaultProps||null!==n.compare?((e=iU(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,tG(e,t,a,i,r))}if(a=e.child,!t9(e,r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:eh)(s,i)&&e.ref===t.ref)return t8(e,t,r)}return t.flags|=1,(e=iD(a,i)).ref=t.ref,e.return=t,t.child=e}function tG(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(eh(a,i)&&e.ref===t.ref)if(ov=!1,t.pendingProps=i=a,!t9(e,r))return t.lanes=e.lanes,t8(e,t,r);else 0!=(131072&e.flags)&&(ov=!0)}return tX(e,t,n,i,r)}function tH(e,t,n){var i=t.pendingProps,r=i.children,a=0!=(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(tZ(e,t),"hidden"===i.mode||a){if(0!=(128&t.flags)){if(i=null!==s?s.baseLanes|n:n,null!==e){for(a=0,r=t.child=e.child;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return tW(e,t,i,n)}if(0==(0x20000000&n))return t.lanes=t.childLanes=0x20000000,tW(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&np(t,null!==s?s.cachePool:null),null!==s?eS(t,s):ew(),eE(t)}else null!==s?(np(t,s.cachePool),eS(t,s),eA(t),t.memoizedState=null):(null!==e&&np(t,null),ew(),eA(t));return t$(e,t,r,n),t.child}function tW(e,t,n,i){var r=nh();return t.memoizedState={baseLanes:n,cachePool:r=null===r?null:{parent:rE?oT._currentValue:oT._currentValue2,pool:r}},null!==e&&np(t,null),ew(),eE(t),null!==e&&nr(e,t,i,!0),null}function tZ(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));(null===e||e.ref!==n)&&(t.flags|=2097664)}}function tX(e,t,n,i,r){return(ns(t),n=eR(e,t,n,i,void 0,r),i=eU(),null===e||ov)?(sI&&i&&P(t),t.flags|=1,t$(e,t,n,r),t.child):(eO(e,t,r),t8(e,t,r))}function tq(e,t,n,i,r,a){return(ns(t),t.updateQueue=null,n=eD(t,i,n,r),eN(e),i=eU(),null===e||ov)?(sI&&i&&P(t),t.flags|=1,t$(e,t,n,a),t.child):(eO(e,t,a),t8(e,t,a))}function tY(e,t,n,i,r){if(ns(t),null===t.stateNode){var a=a5,s=n.contextType;"object"==typeof s&&null!==s&&(a=no(s)),t.memoizedState=null!==(a=new n(i,a)).state&&void 0!==a.state?a.state:null,a.updater=of,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},en(t),s=n.contextType,a.context="object"==typeof s&&null!==s?no(s):a5,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(tR(t,n,s,i),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&of.enqueueReplaceState(a,a.state,null),eu(t,i,a,r),el(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=tL(n,o);a.props=l;var u=a.context,c=n.contextType;s=a5,"object"==typeof c&&null!==c&&(s=no(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||u!==s)&&tD(t,a,i,s),sW=!1;var h=t.memoizedState;a.state=h,eu(t,i,a,r),el(),u=t.memoizedState,o||h!==u||sW?("function"==typeof d&&(tR(t,n,d,i),u=t.memoizedState),(l=sW||tN(t,n,l,i,h,u,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=s,i=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ei(e,t),c=tL(n,s=t.memoizedProps),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,l=a5,"object"==typeof u&&null!==u&&(l=no(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&tD(t,a,i,l),sW=!1,h=t.memoizedState,a.state=h,eu(t,i,a,r),el();var p=t.memoizedState;s!==d||h!==p||sW||null!==e&&null!==e.dependencies&&na(e.dependencies)?("function"==typeof o&&(tR(t,n,o,i),p=t.memoizedState),(c=sW||tN(t,n,c,i,h,p,l)||null!==e&&null!==e.dependencies&&na(e.dependencies))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,tZ(e,t),i=0!=(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=s1(t,e.child,null,r),t.child=s1(t,null,n,r)):t$(e,t,n,r),t.memoizedState=a.state,e=t.child):e=t8(e,t,r),e}function tJ(e,t,n,i){return F(),t.flags|=256,t$(e,t,n,i),t.child}function tK(e){return{baseLanes:e,cachePool:nf()}}function tQ(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=o6),e}function t0(e,t,i){var r,s=t.pendingProps,o=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s8.current)),r&&(o=!0,t.flags&=-129),r=0!=(32&t.flags),t.flags&=-33,null===e){if(sI){if(o?eT(t):eA(t),sI){var u,c=sC;(u=c)&&(null!==(c=aT(c,sk))?(t.memoizedState={dehydrated:c,treeContext:null!==sb?{id:s_,overflow:sS}:null,retryLane:0x20000000},(u=n(18,null,null,0)).stateNode=c,u.return=t,t.child=u,sA=t,sC=null,u=!0):u=!1),u||U(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return af(c)?t.lanes=16:t.lanes=0x20000000,null;eC(t)}return(c=s.children,s=s.fallback,o)?(eA(t),c=t2({mode:"hidden",children:c},o=t.mode),s=iO(s,o,i,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(o=t.child).memoizedState=tK(i),o.childLanes=tQ(e,r,i),t.memoizedState=oy,s):(eT(t),t1(t,c))}if(null!==(u=e.memoizedState)&&null!==(c=u.dehydrated)){if(l)256&t.flags?(eT(t),t.flags&=-257,t=t3(e,t,i)):null!==t.memoizedState?(eA(t),t.child=e.child,t.flags|=128,t=null):(eA(t),o=s.fallback,c=t.mode,s=t2({mode:"visible",children:s.children},c),o=iO(o,c,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,s1(t,e.child,null,i),(s=t.child).memoizedState=tK(i),s.childLanes=tQ(e,r,i),t.memoizedState=oy,t=o);else if(eT(t),af(c))r=am(c).digest,(s=Error(a(419))).stack="",s.digest=r,$({value:s,source:null,stack:null}),t=t3(e,t,i);else if(ov||nr(e,t,i,!1),r=0!=(i&e.childLanes),ov||r){if(null!==(r=oZ)){if(0!=(42&(s=i&-i)))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:s=64;break;case 0x10000000:s=0x8000000;break;default:s=0}if(0!==(s=0!=(s&(r.suspendedLanes|i))?0:s)&&s!==u.retryLane)throw u.retryLane=s,H(e,s),it(r,e,s),og}ap(c)||im(),t=t3(e,t,i)}else ap(c)?(t.flags|=128,t.child=e.child,ag(c,t=iP.bind(null,e)),t=null):(e=u.treeContext,rI&&(sC=aS(c),sA=t,sI=!0,sP=null,sk=!1,null!==e&&(sy[sx++]=s_,sy[sx++]=sS,sy[sx++]=sb,s_=e.id,sS=e.overflow,sb=t)),t=t1(t,s.children),t.flags|=4096);return t}return o?(eA(t),o=s.fallback,c=t.mode,l=(u=e.child).sibling,(s=iD(u,{mode:"hidden",children:s.children})).subtreeFlags=0x1e00000&u.subtreeFlags,null!==l?o=iD(l,o):(o=iO(o,c,i,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,null===(c=e.child.memoizedState)?c=tK(i):(null!==(u=c.cachePool)?(l=rE?oT._currentValue:oT._currentValue2,u=u.parent!==l?{parent:l,pool:l}:u):u=nf(),c={baseLanes:c.baseLanes|i,cachePool:u}),o.memoizedState=c,o.childLanes=tQ(e,r,i),t.memoizedState=oy,s):(eT(t),e=(i=e.child).sibling,(i=iD(i,{mode:"visible",children:s.children})).return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i)}function t1(e,t){return(t=t2({mode:"visible",children:t},e.mode)).return=e,e.child=t}function t2(e,t){return iz(e,t,0,null)}function t3(e,t,n){return s1(t,e.child,null,n),e=t1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t4(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),nn(e.return,t,n)}function t5(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function t6(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(t$(e,t,i.children,n),0!=(2&(i=s8.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&t4(e,n,t);else if(19===e.tag)t4(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(g(s8,i),r){case"forwards":for(r=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===eI(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),t5(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eI(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}t5(t,!0,n,null,a);break;case"together":t5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function t8(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),o3|=t.lanes,0==(n&t.childLanes)){if(null===e)return null;else if(nr(e,t,n,!1),0==(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=iD(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=iD(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function t9(e,t){return 0!=(e.lanes&t)||!!(null!==(e=e.dependencies)&&na(e))}function t7(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ov=!0;else{if(!t9(e,n)&&0==(128&t.flags))return ov=!1,function(e,t,n){switch(t.tag){case 3:R(t,t.stateNode.containerInfo),ne(t,oT,e.memoizedState.cache),F();break;case 27:case 5:D(t);break;case 4:R(t,t.stateNode.containerInfo);break;case 10:ne(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i){if(null!==i.dehydrated)return eT(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return t0(e,t,n);return eT(t),null!==(e=t8(e,t,n))?e.sibling:null}eT(t);break;case 19:var r=0!=(128&e.flags);if((i=0!=(n&t.childLanes))||(nr(e,t,n,!1),i=0!=(n&t.childLanes)),r){if(i)return t6(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),g(s8,s8.current),!i)return null;break;case 22:case 23:return t.lanes=0,tH(e,t,n);case 24:ne(t,oT,e.memoizedState.cache)}return t8(e,t,n)}(e,t,n);ov=0!=(131072&e.flags)}else ov=!1,sI&&0!=(1048576&t.flags)&&I(t,sv,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"==typeof i)iN(i)?(e=tL(i,e),t.tag=1,t=tY(null,t,i,e,n)):(t.tag=0,t=tX(null,t,i,e,n));else{if(null!=i){if((r=i.$$typeof)===i6){t.tag=11,t=tB(null,t,i,e,n);break e}else if(r===i7){t.tag=14,t=tV(null,t,i,e,n);break e}}throw Error(a(306,t=o(i)||i,""))}}return t;case 0:return tX(e,t,t.type,t.pendingProps,n);case 1:return r=tL(i=t.type,t.pendingProps),tY(e,t,i,r,n);case 3:e:{if(R(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;i=(r=t.memoizedState).element,ei(e,t),eu(t,s,null,n);var l=t.memoizedState;if(ne(t,oT,s=l.cache),s!==r.cache&&ni(t,[oT],n,!0),el(),s=l.element,rI&&r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=tJ(e,t,s,n);break e}else if(s!==i){$(i=A(Error(a(424)),t)),t=tJ(e,t,s,n);break e}else for(rI&&(sC=a_(t.stateNode.containerInfo),sA=t,sI=!0,sP=null,sk=!0),n=s2(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(F(),s===i){t=t8(e,t,n);break e}t$(e,t,s,n)}t=t.child}return t;case 26:if(aO)return tZ(e,t),null===e?(n=aF(t.type,null,t.pendingProps,null))?t.memoizedState=n:sI||(t.stateNode=aW(t.type,t.pendingProps,sT.current,t)):t.memoizedState=aF(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(aJ)return D(t),null===e&&aJ&&sI&&(i=t.stateNode=aK(t.type,t.pendingProps,sT.current,sw.current,!1),sA=t,sk=!0,sC=ab(i)),i=t.pendingProps.children,null!==e||sI?t$(e,t,i,n):t.child=s1(t,null,i,n),tZ(e,t),t.child;case 5:return null===e&&sI&&(aL(t.type,t.pendingProps,sw.current),(r=i=sC)&&(null!==(i=aw(i,t.type,t.pendingProps,sk))?(t.stateNode=i,sA=t,sC=ab(i),sk=!1,r=!0):r=!1),r||U(t)),D(t),r=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,r_(r,s)?i=null:null!==l&&r_(r,l)&&(t.flags|=32),null!==t.memoizedState&&(r=eR(e,t,eL,null,null,n),rE?rV._currentValue=r:rV._currentValue2=r),tZ(e,t),t$(e,t,i,n),t.child;case 6:return null===e&&sI&&(aU(t.pendingProps,sw.current),(e=n=sC)&&(null!==(n=aM(n,t.pendingProps,sk))?(t.stateNode=n,sA=t,sC=null,e=!0):e=!1),e||U(t)),null;case 13:return t0(e,t,n);case 4:return R(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=s1(t,null,i,n):t$(e,t,i,n),t.child;case 11:return tB(e,t,t.type,t.pendingProps,n);case 7:return t$(e,t,t.pendingProps,n),t.child;case 8:case 12:return t$(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ne(t,t.type,i.value),t$(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ns(t),i=i(r=no(r)),t.flags|=1,t$(e,t,i,n),t.child;case 14:return tV(e,t,t.type,t.pendingProps,n);case 15:return tG(e,t,t.type,t.pendingProps,n);case 19:return t6(e,t,n);case 22:return tH(e,t,n);case 24:return ns(t),i=no(oT),null===e?(null===(r=nh())&&(r=oZ,s=nc(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},en(t),ne(t,oT,r)):(0!=(e.lanes&n)&&(ei(e,t),eu(t,null,null,n),el()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),ne(t,oT,i)):(ne(t,oT,i=s.cache),i!==r.cache&&ni(t,[oT],n,!0))),t$(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ne(e,t,n){rE?(g(ox,t._currentValue),t._currentValue=n):(g(ox,t._currentValue2),t._currentValue2=n)}function nt(e){var t=ox.current;rE?e._currentValue=t:e._currentValue2=t,m(ox)}function nn(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ni(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var o=r.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),nn(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),nn(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function nr(e,t,n,i){e=null;for(var r=t,s=!1;null!==r;){if(!s){if(0!=(524288&r.flags))s=!0;else if(0!=(262144&r.flags))break}if(10===r.tag){var o=r.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=r.type;sh(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===sE.current){if(null===(o=r.alternate))throw Error(a(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(rV):e=[rV])}r=r.return}null!==e&&ni(t,e,n,i),t.flags|=262144}function na(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!sh(rE?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function ns(e){ob=e,o_=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function no(e){return nu(ob,e)}function nl(e,t){return null===ob&&ns(e),nu(e,t)}function nu(e,t){var n=rE?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===o_){if(null===e)throw Error(a(308));o_=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else o_=o_.next=t;return n}function nc(){return{controller:new oS,data:new Map,refCount:0}}function nd(e){e.refCount--,0===e.refCount&&ow(oM,function(){e.controller.abort()})}function nh(){var e=oA.current;return null!==e?e:oZ.pooledCache}function np(e,t){null===t?g(oA,oA.current):g(oA,t.pool)}function nf(){var e=nh();return null===e?null:{parent:rE?oT._currentValue:oT._currentValue2,pool:e}}function nm(e){e.flags|=4}function ng(e,t){if(null!==e&&e.child===t.child)return!1;if(0!=(16&t.flags))return!0;for(e=t.child;null!==e;){if(0!=(13878&e.flags)||0!=(13878&e.subtreeFlags))return!0;e=e.sibling}return!1}function nv(e,t,n,i){if(rA)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)rx(e,n.stateNode);else if(!(4===n.tag||aJ&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(rC)for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=ad(a,r.type,r.memoizedProps)),rx(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=ah(a,r.memoizedProps)),rx(e,a);else if(4!==r.tag){if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),nv(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ny(e,t){if(rC&&ng(e,t)){var n=(e=t.stateNode).containerInfo,i=ao();!function e(t,n,i,r){if(rC)for(var a=n.child;null!==a;){if(5===a.tag){var s=a.stateNode;i&&r&&(s=ad(s,a.type,a.memoizedProps)),al(t,s)}else if(6===a.tag)s=a.stateNode,i&&r&&(s=ah(s,a.memoizedProps)),al(t,s);else if(4!==a.tag){if(22===a.tag&&null!==a.memoizedState)null!==(s=a.child)&&(s.return=a),e(t,a,null===a.memoizedProps||"manual"!==a.memoizedProps.mode,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}(i,t,!1,!1),e.pendingChildren=i,nm(t),au(n,i)}}function nx(e,t,n,i){if(rA)e.memoizedProps!==i&&nm(t);else if(rC){var r=e.stateNode,a=e.memoizedProps;if((e=ng(e,t))||a!==i){var s=sw.current;(a=as(r,n,a,i,!e,null))===r?t.stateNode=r:(rb(a,n,i,s)&&nm(t),t.stateNode=a,e?nv(a,t,!1,!1):nm(t))}else t.stateNode=r}}function nb(e,t,n){if(rO(t,n)){if(e.flags|=0x1000000,!rz(t,n))if(id())e.flags|=8192;else throw sK=sJ,sY}else e.flags&=-0x1000001}function n_(e,t){if(aX(t)){if(e.flags|=0x1000000,!aq(t))if(id())e.flags|=8192;else throw sK=sJ,sY}else e.flags&=-0x1000001}function nS(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_():0x20000000,e.lanes|=t,o8|=t)}function nw(e,t){if(!sI)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nM(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=0x1e00000&r.subtreeFlags,i|=0x1e00000&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nT(e,t){switch(k(t),t.tag){case 3:nt(oT),N();break;case 26:case 27:case 5:L(t);break;case 4:N();break;case 13:eC(t);break;case 19:m(s8);break;case 10:nt(t.type);break;case 22:case 23:eC(t),eM(),null!==e&&m(oA);break;case 24:nt(oT)}}function nE(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create;n.inst.destroy=i=a()}n=n.next}while(n!==r)}}catch(e){iE(t,t.return,e)}}function nA(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,r=t;try{o()}catch(e){iE(r,n,e)}}}i=i.next}while(i!==a)}}catch(e){iE(t,t.return,e)}}function nC(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ed(t,n)}catch(t){iE(e,e.return,t)}}}function nI(e,t,n){n.props=tL(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){iE(e,t,n)}}function nP(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=rp(i);break;default:r=i}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){iE(e,t,n)}}function nk(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){iE(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){iE(e,t,n)}else n.current=null}function nR(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{r4(i,t,n,e)}catch(t){iE(e,e.return,t)}}function nN(e,t,n){try{r5(e.stateNode,e.type,n,t,e)}catch(t){iE(e,e.return,t)}}function nD(e){return 5===e.tag||3===e.tag||!!aO&&26===e.tag||!!aJ&&27===e.tag||4===e.tag}function nL(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&(aJ?27!==e.tag:1)&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nU(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?r6(n,e,t):r1(n,e);else if(!(4===i||aJ&&27===i)&&null!==(e=e.child))for(nU(e,t,n),e=e.sibling;null!==e;)nU(e,t,n),e=e.sibling}function nO(e,t,n){e=e.containerInfo;try{ac(e,n)}catch(e){iE(t,t.return,e)}}function nz(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:nW(e,n),4&i&&nE(5,n);break;case 1:if(nW(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){iE(n,n.return,e)}else{var r=tL(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){iE(n,n.return,e)}}64&i&&nC(n),512&i&&nP(n,n.return);break;case 3:if(nW(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=rp(n.child.stateNode);break;case 1:e=n.child.stateNode}try{ed(i,e)}catch(e){iE(n,n.return,e)}}break;case 26:if(aO){nW(e,n),512&i&&nP(n,n.return);break}case 27:case 5:nW(e,n),null===t&&4&i&&nR(n),512&i&&nP(n,n.return);break;case 12:default:nW(e,n);break;case 13:nW(e,n),4&i&&n$(e,n);break;case 22:if(!(r=null!==n.memoizedState||oC)){t=null!==t&&null!==t.memoizedState||oI;var a=oC,s=oI;oC=r,(oI=t)&&!s?function e(t,n,i){for(i=i&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,a=t,s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(a,s,i),nE(4,s);break;case 1:if(e(a,s,i),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(e){iE(r,r.return,e)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var u=a.shared.hiddenCallbacks;if(null!==u)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)ec(u[a],l)}catch(e){iE(r,r.return,e)}}i&&64&o&&nC(s),nP(s,s.return);break;case 26:case 27:case 5:e(a,s,i),i&&null===r&&4&o&&nR(s),nP(s,s.return);break;case 12:default:e(a,s,i);break;case 13:e(a,s,i),i&&4&o&&n$(a,s);break;case 22:null===s.memoizedState&&e(a,s,i),nP(s,s.return)}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):nW(e,n),oC=a,oI=s}512&i&&("manual"===n.memoizedProps.mode?nP(n,n.return):nk(n,n.return))}}function nj(e,t,n){for(n=n.child;null!==n;)nF(e,t,n),n=n.sibling}function nF(e,t,n){if(sd&&"function"==typeof sd.onCommitFiberUnmount)try{sd.onCommitFiberUnmount(sc,n)}catch(e){}switch(n.tag){case 26:if(aO){oI||nk(n,t),nj(e,t,n),n.memoizedState?aB(n.memoizedState):n.stateNode&&aH(n.stateNode);break}case 27:if(aJ){oI||nk(n,t);var i=oD,r=oL;oD=n.stateNode,nj(e,t,n),a1(n.stateNode),oD=i,oL=r;break}case 5:oI||nk(n,t);case 6:if(rA){if(i=oD,r=oL,oD=null,nj(e,t,n),oD=i,oL=r,null!==oD)if(oL)try{r7(oD,n.stateNode)}catch(e){iE(n,t,e)}else try{r9(oD,n.stateNode)}catch(e){iE(n,t,e)}}else nj(e,t,n);break;case 18:rA&&null!==oD&&(oL?aN(oD,n.stateNode):aR(oD,n.stateNode));break;case 4:rA?(i=oD,r=oL,oD=n.stateNode.containerInfo,oL=!0,nj(e,t,n),oD=i,oL=r):(rC&&nO(n.stateNode,n,ao()),nj(e,t,n));break;case 0:case 11:case 14:case 15:oI||nA(2,n,t),oI||nA(4,n,t),nj(e,t,n);break;case 1:oI||(nk(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&nI(n,t,i)),nj(e,t,n);break;case 21:default:nj(e,t,n);break;case 22:oI||nk(n,t),oI=(i=oI)||null!==n.memoizedState,nj(e,t,n),oI=i}}function n$(e,t){if(rI&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{ak(e)}catch(e){iE(t,t.return,e)}}function nB(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ok),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ok),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var i=ik.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function nV(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],s=e,o=t;if(rA){var l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:oD=l.stateNode,oL=!1;break e;case 3:case 4:oD=l.stateNode.containerInfo,oL=!0;break e}l=l.return}if(null===oD)throw Error(a(160));nF(s,o,r),oD=null,oL=!1}else nF(s,o,r);null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)nG(t,e),t=t.sibling}function nG(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nV(t,e),nH(e),4&i&&(nA(3,e,e.return),nE(3,e),nA(5,e,e.return));break;case 1:nV(t,e),nH(e),512&i&&(oI||null===n||nk(n,n.return)),64&i&&oC&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:if(aO){var r=oU;nV(t,e),nH(e),512&i&&(oI||null===n||nk(n,n.return)),4&i&&(i=null!==n?n.memoizedState:null,t=e.memoizedState,null===n?null===t?null===e.stateNode?e.stateNode=aV(r,e.type,e.memoizedProps,e):aG(r,e.type,e.stateNode):e.stateNode=a$(r,t,e.memoizedProps):i!==t?(null===i?null!==n.stateNode&&aH(n.stateNode):aB(i),null===t?aG(r,e.type,e.stateNode):a$(r,t,e.memoizedProps)):null===t&&null!==e.stateNode&&nN(e,e.memoizedProps,n.memoizedProps));break}case 27:if(aJ&&4&i&&null===e.alternate){r=e.stateNode;var s=e.memoizedProps;try{aQ(r),a0(e.type,s,r,e)}catch(t){iE(e,e.return,t)}}case 5:if(nV(t,e),nH(e),512&i&&(oI||null===n||nk(n,n.return)),rA){if(32&e.flags){t=e.stateNode;try{ae(t)}catch(t){iE(e,e.return,t)}}4&i&&null!=e.stateNode&&(t=e.memoizedProps,nN(e,t,null!==n?n.memoizedProps:t)),1024&i&&(oP=!0)}break;case 6:if(nV(t,e),nH(e),4&i&&rA){if(null===e.stateNode)throw Error(a(162));i=e.memoizedProps,n=null!==n?n.memoizedProps:i,t=e.stateNode;try{r3(t,n,i)}catch(t){iE(e,e.return,t)}}break;case 3:if(aO?(aZ(),r=oU,oU=aj(t.containerInfo),nV(t,e),oU=r):nV(t,e),nH(e),4&i){if(rA&&rI&&null!==n&&n.memoizedState.isDehydrated)try{aP(t.containerInfo)}catch(t){iE(e,e.return,t)}if(rC){i=t.containerInfo,n=t.pendingChildren;try{ac(i,n)}catch(t){iE(e,e.return,t)}}}oP&&(oP=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&rG(n.stateNode),t=t.sibling}}(e));break;case 4:aO?(n=oU,oU=aj(e.stateNode.containerInfo),nV(t,e),nH(e),oU=n):(nV(t,e),nH(e)),4&i&&rC&&nO(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:default:nV(t,e),nH(e);break;case 13:nV(t,e),nH(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(lt=sa()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,nB(e,i));break;case 22:512&i&&(oI||null===n||nk(n,n.return)),r=null!==e.memoizedState;var o=null!==n&&null!==n.memoizedState,l=oC,u=oI;if(oC=l||r,oI=u||o,nV(t,e),oI=u,oC=l,nH(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=r?-2&t._visibility:1|t._visibility,r&&(t=oC||oI,null===n||o||t||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nA(4,n,n.return),e(n);break;case 1:nk(n,n.return);var i=n.stateNode;"function"==typeof i.componentWillUnmount&&nI(n,n.return,i),e(n);break;case 26:case 27:case 5:nk(n,n.return),e(n);break;case 22:nk(n,n.return),null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),rA&&(null===e.memoizedProps||"manual"!==e.memoizedProps.mode))){e:if(n=null,rA)for(t=e;;){if(5===t.tag||aO&&26===t.tag||aJ&&27===t.tag){if(null===n){o=n=t;try{s=o.stateNode,r?at(s):ai(o.stateNode,o.memoizedProps)}catch(e){iE(o,o.return,e)}}}else if(6===t.tag){if(null===n){o=t;try{var c=o.stateNode;r?an(c):ar(c,o.memoizedProps)}catch(e){iE(o,o.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,nB(e,n));break;case 19:nV(t,e),nH(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,nB(e,i));case 21:}}function nH(e){var t=e.flags;if(2&t){try{if(rA&&(!aJ||27!==e.tag)){e:{for(var n=e.return;null!==n;){if(nD(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 27:if(aJ){var r=i.stateNode,s=nL(e);nU(e,s,r);break}case 5:var o=i.stateNode;32&i.flags&&(ae(o),i.flags&=-33);var l=nL(e);nU(e,l,o);break;case 3:case 4:var u=i.stateNode.containerInfo,c=nL(e);!function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?r8(i,t,n):r2(i,t);else if(!(4===r||aJ&&27===r)&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,c,u);break;default:throw Error(a(161))}}}catch(t){iE(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function nW(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)nz(e,t.alternate,t),t=t.sibling}function nZ(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&nd(n))}function nX(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&nd(e))}function nq(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nY(e,t,n,i),t=t.sibling}function nY(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:nq(e,t,n,i),2048&r&&nE(9,t);break;case 3:nq(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&nd(e)));break;case 12:if(2048&r){nq(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){iE(t,t.return,e)}}else nq(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?nq(e,t,n,i):nJ(e,t):4&a._visibility?nq(e,t,n,i):(a._visibility|=4,function e(t,n,i,r,a){for(a=a&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(t,s,i,r,a),nE(8,s);break;case 23:break;case 22:var l=s.stateNode;null!==s.memoizedState?4&l._visibility?e(t,s,i,r,a):nJ(t,s):(l._visibility|=4,e(t,s,i,r,a)),a&&2048&o&&nZ(s.alternate,s);break;case 24:e(t,s,i,r,a),a&&2048&o&&nX(s.alternate,s);break;default:e(t,s,i,r,a)}n=n.sibling}}(e,t,n,i,0!=(10256&t.subtreeFlags))),2048&r&&nZ(t.alternate,t);break;case 24:nq(e,t,n,i),2048&r&&nX(t.alternate,t);break;default:nq(e,t,n,i)}}function nJ(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,i=n.flags;switch(n.tag){case 22:nJ(e,n),2048&i&&nZ(n.alternate,n);break;case 24:nJ(e,n),2048&i&&nX(n.alternate,n);break;default:nJ(e,n)}t=t.sibling}}function nK(e){if(e.subtreeFlags&oO)for(e=e.child;null!==e;)nQ(e),e=e.sibling}function nQ(e){switch(e.tag){case 26:nK(e),e.flags&oO&&(null!==e.memoizedState?aY(oU,e.memoizedState,e.memoizedProps):rF(e.type,e.memoizedProps));break;case 5:nK(e),e.flags&oO&&rF(e.type,e.memoizedProps);break;case 3:case 4:if(aO){var t=oU;oU=aj(e.stateNode.containerInfo),nK(e),oU=t}else nK(e);break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=oO,oO=0x1000000,nK(e),oO=t):nK(e));break;default:nK(e)}}function n0(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function n1(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];oR=i,n3(i,e)}n0(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)n2(e),e=e.sibling}function n2(e){switch(e.tag){case 0:case 11:case 15:n1(e),2048&e.flags&&nA(9,e,e.return);break;case 3:case 12:default:n1(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];oR=r,n3(r,t)}n0(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:nA(8,n,n.return),e(n);break;case 22:4&(i=n.stateNode)._visibility&&(i._visibility&=-5,e(n));break;default:e(n)}t=t.sibling}}(e)):n1(e)}}function n3(e,t){for(;null!==oR;){var n=oR;switch(n.tag){case 0:case 11:case 15:nA(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:nd(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,oR=i;else for(n=e;null!==oR;){var r=(i=oR).sibling,a=i.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&rU(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(i),i===n){oR=null;break}if(null!==r){r.return=a,oR=r;break}oR=a}}}function n4(e){var t=rP(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=rX(e)))throw Error(a(362));return e.stateNode.current}function n5(e,t){var n=e.tag;switch(t.$$typeof){case oj:if(e.type===t.value)return!0;break;case oF:e:{for(n=0,t=t.value,e=[e,0];n<e.length;){var i=e[n++],r=i.tag,s=e[n++],o=t[s];if(5!==r&&26!==r&&27!==r||!rJ(i)){for(;null!=o&&n5(i,o);)o=t[++s];if(s===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}}t=!1}return t;case o$:if((5===n||26===n||27===n)&&rK(e.stateNode,t.value))return!0;break;case oV:if((5===n||6===n||26===n||27===n)&&null!==(e=rY(e))&&0<=e.indexOf(t.value))return!0;break;case oB:if((5===n||26===n||27===n)&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function n6(e){switch(e.$$typeof){case oj:return"<"+(o(e.value)||"Unknown")+">";case oF:return":has("+(n6(e)||"")+")";case o$:return'[role="'+e.value+'"]';case oV:return'"'+e.value+'"';case oB:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function n8(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],a=r.tag,s=e[i++],o=t[s];if(5!==a&&26!==a&&27!==a||!rJ(r)){for(;null!=o&&n5(r,o);)o=t[++s];if(s===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,s),r=r.sibling}}return n}function n9(e,t){if(!rZ)throw Error(a(363));e=n8(e=n4(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],r=i.tag;if(5===r||26===r||27===r)rJ(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}function n7(){if(0!=(2&oW)&&0!==oq)return oq&-oq;if(null!==ro.T){var e=sG;return 0!==e?e:ee()}return rD()}function ie(){0===o6&&(o6=0==(0x20000000&oq)||sI?b():0x20000000);var e=s5.current;return null!==e&&(e.flags|=32),o6}function it(e,t,n){(e===oZ&&2===oY||null!==e.cancelPendingCommit)&&(iu(e,0),is(e,oq,o6,!1)),w(e,n),(0==(2&oW)||e!==oZ)&&(e===oZ&&(0==(2&oW)&&(o4|=n),4===o2&&is(e,oq,o6,!1)),X(e))}function ii(e,t,n){if(0!=(6&oW))throw Error(a(327));for(var i=!n&&0==(60&t)&&0==(t&e.expiredLanes)||x(e,t),r=i?function(e,t){var n=oW;oW|=2;var i=ih(),r=ip();oZ!==e||oq!==t?(li=null,ln=sa()+500,iu(e,t)):oQ=x(e,t);e:for(;;)try{if(0!==oY&&null!==oX){t=oX;var s=oJ;t:switch(oY){case 1:oY=0,oJ=null,ix(e,t,s,1);break;case 2:if(ep(s)){oY=0,oJ=null,iy(t);break}t=function(){2===oY&&oZ===e&&(oY=7),X(e)},s.then(t,t);break e;case 3:oY=7;break e;case 4:oY=5;break e;case 7:ep(s)?(oY=0,oJ=null,iy(t)):(oY=0,oJ=null,ix(e,t,s,7));break;case 5:var o=null;switch(oX.tag){case 26:o=oX.memoizedState;case 5:case 27:var l=oX,u=l.type,c=l.pendingProps;if(o?aq(o):rz(u,c)){oY=0,oJ=null;var d=l.sibling;if(null!==d)oX=d;else{var h=l.return;null!==h?(oX=h,ib(h)):oX=null}break t}}oY=0,oJ=null,ix(e,t,s,5);break;case 6:oY=0,oJ=null,ix(e,t,s,6);break;case 8:il(),o2=6;break e;default:throw Error(a(462))}}for(;null!==oX&&!si();)iv(oX);break}catch(t){ic(e,t)}return(o_=ob=null,ro.H=i,ro.A=r,oW=n,null!==oX)?0:(oZ=null,oq=0,B(),o2)}(e,t):ig(e,t,!0),s=i;;){if(0===r)oQ&&!i&&is(e,t,0,!1);else if(6===r)is(e,t,0,!oK);else{if(n=e.current.alternate,s&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!sh(a(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){r=ig(e,t,!1),s=!1;continue}if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-0x20000001&e.pendingLanes)?o:0x20000000&o?0x20000000:0;if(0!==o){t=o;e:{r=o9;var l=rI&&e.current.memoizedState.isDehydrated;if(l&&(iu(e,o).flags|=256),2!==(o=ig(e,o,!1))){if(o0&&!l){e.errorRecoveryDisabledLanes|=s,o4|=s,r=4;break e}s=o7,o7=r,null!==s&&ir(s)}r=o}if(s=!1,2!==r)continue}}if(1===r){iu(e,0),is(e,t,0,!0);break}e:{switch(i=e,r){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){is(i,t,o6,!oK);break e}break;case 2:o7=null;break;case 3:case 5:break;default:throw Error(a(329))}if(i.finishedWork=n,i.finishedLanes=t,(0x3c00000&t)===t&&10<(s=lt+300-sa())){if(is(i,t,o6,!oK),0!==y(i,0))break e;i.timeoutHandle=rw(ia.bind(null,i,n,o7,li,le,t,o6,o4,o8,oK,2,-0,0),s);break e}ia(i,n,o7,li,le,t,o6,o4,o8,oK,0,-0,0)}}break}X(e)}function ir(e){null===o7?o7=e:o7.push.apply(o7,e)}function ia(e,t,n,i,r,a,s,o,l,u,c,d,h){var p=t.subtreeFlags;if((8192&p||0x1002000==(0x1002000&p))&&(rj(),nQ(t),null!==(t=r$()))){e.cancelPendingCommit=t(iS.bind(null,e,n,i,r,s,o,l,1,d,h)),is(e,a,s,!u);return}iS(e,n,i,r,s,o,l,c,d,h)}function is(e,t,n,i){t&=~o5,t&=~o4,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-a6(r),s=1<<a;i[a]=-1,r&=~s}0!==n&&M(e,n,t)}function io(){return 0!=(6&oW)||(q(0,!1),!1)}function il(){if(null!==oX){if(0===oY)var e=oX.return;else e=oX,o_=ob=null,ez(e),sQ=null,s0=0,e=oX;for(;null!==e;)nT(e.alternate,e),e=e.return;oX=null}}function iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==rT&&(e.timeoutHandle=rT,rM(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),il(),oZ=e,oX=n=iD(e.current,null),oq=t,oY=0,oJ=null,oK=!1,oQ=x(e,t),o0=!1,o8=o6=o5=o4=o3=o2=0,o7=o9=null,le=!1,0!=(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-a6(i),a=1<<r;t|=e[r],i&=~a}return o1=t,B(),n}function ic(e,t){s7=null,ro.H=oc,t===sq?(t=eg(),oY=3):t===sY?(t=eg(),oY=4):oY=t===og?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,oJ=t,null===oX&&(o2=1,tU(e,A(t,e.current)))}function id(){var e=s5.current;return null===e||((4194176&oq)===oq?null===s6:((0x3c00000&oq)===oq||0!=(0x20000000&oq))&&e===s6)}function ih(){var e=ro.H;return ro.H=oc,null===e?oc:e}function ip(){var e=ro.A;return ro.A=oz,e}function im(){o2=4,oK||(4194176&oq)!==oq&&null!==s5.current||(oQ=!0),0==(0x7ffffff&o3)&&0==(0x7ffffff&o4)||null===oZ||is(oZ,oq,o6,!1)}function ig(e,t,n){var i=oW;oW|=2;var r=ih(),a=ip();(oZ!==e||oq!==t)&&(li=null,iu(e,t)),t=!1;var s=o2;e:for(;;)try{if(0!==oY&&null!==oX){var o=oX,l=oJ;switch(oY){case 8:il(),s=6;break e;case 3:case 2:case 6:null===s5.current&&(t=!0);var u=oY;if(oY=0,oJ=null,ix(e,o,l,u),n&&oQ){s=0;break e}break;default:u=oY,oY=0,oJ=null,ix(e,o,l,u)}}(function(){for(;null!==oX;)iv(oX)})(),s=o2;break}catch(t){ic(e,t)}return t&&e.shellSuspendCounter++,o_=ob=null,oW=i,ro.H=r,ro.A=a,null===oX&&(oZ=null,oq=0,B()),s}function iv(e){var t=t7(e.alternate,e,o1);e.memoizedProps=e.pendingProps,null===t?ib(e):oX=t}function iy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=tq(n,t,t.pendingProps,t.type,void 0,oq);break;case 11:t=tq(n,t,t.pendingProps,t.type.render,t.ref,oq);break;case 5:ez(t);default:nT(n,t),t=t7(n,t=oX=iL(t,o1),o1)}e.memoizedProps=e.pendingProps,null===t?ib(e):oX=t}function ix(e,t,n,i){o_=ob=null,ez(t),sQ=null,s0=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&nr(t,n,r,!0),null!==(n=s5.current)){switch(n.tag){case 13:return null===s6?im():null===n.alternate&&0===o2&&(o2=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===sJ?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),iA(e,i,r)),!1;case 22:return n.flags|=65536,i===sJ?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),iA(e,i,r)),!1}throw Error(a(435,n.tag))}return iA(e,i,r),im(),!1}if(sI)return null!==(t=s5.current)?(0==(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==sR&&$(A(e=Error(a(422),{cause:i}),n))):(i!==sR&&$(A(t=Error(a(423),{cause:i}),n)),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=A(i,n),r=tz(e.stateNode,i,r),eo(e,r),4!==o2&&(o2=2)),!1;var s=Error(a(520),{cause:i});if(s=A(s,n),null===o9?o9=[s]:o9.push(s),4!==o2&&(o2=2),null===t)return!0;i=A(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=tz(n.stateNode,i,e),eo(n,e),!1;case 1:if(t=n.type,s=n.stateNode,0==(128&n.flags)&&("function"==typeof t.getDerivedStateFromError||null!==s&&"function"==typeof s.componentDidCatch&&(null===lr||!lr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,tF(r=tj(r),e,n,i),eo(n,r),!1}n=n.return}while(null!==n)return!1}(e,r,t,n,oq)){o2=1,tU(e,A(n,e.current)),oX=null;return}}catch(t){if(null!==r)throw oX=r,t;o2=1,tU(e,A(n,e.current)),oX=null;return}32768&t.flags?(sI||1===i?e=!0:oQ||0!=(0x20000000&oq)?e=!1:(oK=e=!0,(2===i||3===i||6===i)&&null!==(i=s5.current)&&13===i.tag&&(i.flags|=16384)),i_(t,e)):ib(t)}function ib(e){var t=e;do{if(0!=(32768&t.flags))return void i_(t,oK);e=t.return;var n=function(e,t,n){var i=t.pendingProps;switch(k(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nM(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nt(oT),N(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(j(t)?nm(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==sP&&(ir(sP),sP=null))),ny(e,t),nM(t),null;case 26:if(aO){n=t.type;var r=t.memoizedState;return null===e?(nm(t),null!==r?(nM(t),n_(t,r)):(nM(t),nb(t,n,i))):r?r!==e.memoizedState?(nm(t),nM(t),n_(t,r)):(nM(t),t.flags&=-0x1000001):(rA?e.memoizedProps!==i&&nm(t):nx(e,t,n,i),nM(t),nb(t,n,i)),null}case 27:if(aJ){if(L(t),n=sT.current,r=t.type,null!==e&&null!=t.stateNode)rA?e.memoizedProps!==i&&nm(t):nx(e,t,r,i);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nM(t),null}e=sw.current,j(t)?O(t,e):(e=aK(r,i,n,e,!0),t.stateNode=e,nm(t))}return nM(t),null}case 5:if(L(t),n=t.type,null!==e&&null!=t.stateNode)nx(e,t,n,i);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nM(t),null}e=sw.current,j(t)?O(t,e):(nv(r=ry(n,i,sT.current,e,t),t,!1,!1),t.stateNode=r,rb(r,n,i,e)&&nm(t))}return nM(t),nb(t,t.type,t.pendingProps),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,rA?n!==i&&nm(t):rC&&(n!==i?(t.stateNode=rS(i,sT.current,sw.current,t),nm(t)):t.stateNode=e.stateNode);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));if(e=sT.current,n=sw.current,j(t)){if(!rI)throw Error(a(176));if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=sA))switch(r.tag){case 27:case 5:i=r.memoizedProps}aA(e,n,t,i)||U(t)}else t.stateNode=rS(i,e,n,t)}return nM(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=j(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!rI)throw Error(a(344));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));aC(r,t)}else F(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nM(t),r=!1}else null!==sP&&(ir(sP),sP=null),r=!0;if(!r){if(256&t.flags)return eC(t),t;return eC(t),null}}if(eC(t),0!=(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){i=t.child,r=null,null!==i.alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nS(t,t.updateQueue),nM(t),null;case 4:return N(),ny(e,t),null===e&&rk(t.stateNode.containerInfo),nM(t),null;case 10:return nt(t.type),nM(t),null;case 19:if(m(s8),null===(r=t.memoizedState))return nM(t),null;if(i=0!=(128&t.flags),null===(s=r.rendering))if(i)nw(r,!1);else{if(0!==o2||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=eI(e))){for(t.flags|=128,nw(r,!1),e=s.updateQueue,t.updateQueue=e,nS(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)iL(n,e),n=n.sibling;return g(s8,1&s8.current|2),t.child}e=e.sibling}null!==r.tail&&sa()>ln&&(t.flags|=128,i=!0,nw(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eI(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nS(t,e),nw(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!sI)return nM(t),null}else 2*sa()-r.renderingStartTime>ln&&0x20000000!==n&&(t.flags|=128,i=!0,nw(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}if(null!==r.tail)return t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=sa(),t.sibling=null,e=s8.current,g(s8,i?1&e|2:1&e),t;return nM(t),null;case 22:case 23:return eC(t),eM(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!=(0x20000000&n)&&0==(128&t.flags)&&(nM(t),6&t.subtreeFlags&&(t.flags|=8192)):nM(t),null!==(n=t.updateQueue)&&nS(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&m(oA),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nt(oT),nM(t),null;case 25:return null}throw Error(a(156,t.tag))}(t.alternate,t,o1);if(null!==n){oX=n;return}if(null!==(t=t.sibling)){oX=t;return}oX=t=e}while(null!==t)0===o2&&(o2=5)}function i_(e,t){do{var n=function(e,t){switch(k(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return nt(oT),N(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return L(t),null;case 13:if(eC(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));F()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return m(s8),null;case 4:return N(),null;case 10:return nt(t.type),null;case 22:case 23:return eC(t),eM(),null!==e&&m(oA),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return nt(oT),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,oX=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){oX=e;return}oX=e=n}while(null!==e)o2=6,oX=null}function iS(e,t,n,i,r,s,o,l,u,c){var d=ro.T,h=rN();try{rR(2),ro.T=null,function(e,t,n,i,r,s,o,l){do iM();while(null!==ls)if(0!=(6&oW))throw Error(a(327));var u,c,d=e.finishedWork;if(i=e.finishedLanes,null!==d){if(e.finishedWork=null,e.finishedLanes=0,d===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var h=d.lanes|d.childLanes;!function(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-a6(n),d=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];null!==p&&(p.lane&=-0x20000001)}n&=~d}0!==i&&M(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,i,h|=sL,s,o,l),e===oZ&&(oX=oZ=null,oq=0),0==(10256&d.subtreeFlags)&&0==(10256&d.flags)||la||(la=!0,ll=h,lu=n,u=sl,c=function(){return iM(!0),null},st(u,c)),n=0!=(15990&d.flags),0!=(15990&d.subtreeFlags)||n?(n=ro.T,ro.T=null,s=rN(),rR(2),o=oW,oW|=4,function(e,t){for(rg(e.containerInfo),oR=t;null!==oR;)if(t=(e=oR).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,oR=t;else for(;null!==oR;){var n=(e=oR).alternate;switch(t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&t)&&null!==n){t=void 0;var i=e,r=n.memoizedProps;n=n.memoizedState;var s=i.stateNode;try{var o=tL(i.type,r,i.elementType===i.type);t=s.getSnapshotBeforeUpdate(o,n),s.__reactInternalSnapshotBeforeUpdate=t}catch(e){iE(i,i.return,e)}}break;case 3:0!=(1024&t)&&rA&&aa(e.stateNode.containerInfo);break;default:if(0!=(1024&t))throw Error(a(163))}if(null!==(t=e.sibling)){t.return=e.return,oR=t;break}oR=e.return}o=oN,oN=!1}(e,d),nG(d,e),rv(e.containerInfo),e.current=d,nz(e,d.alternate,d),sr(),oW=o,rR(s),ro.T=n):e.current=d,la?(la=!1,ls=e,lo=i):iw(e,h),0===(h=e.pendingLanes)&&(lr=null);var p=d.stateNode;if(sd&&"function"==typeof sd.onCommitFiberRoot)try{sd.onCommitFiberRoot(sc,p,void 0,128==(128&p.current.flags))}catch(e){}if(X(e),null!==t)for(r=e.onRecoverableError,d=0;d<t.length;d++)r((h=t[d]).value,{componentStack:h.stack});0!=(3&lo)&&iM(),h=e.pendingLanes,0!=(4194218&i)&&0!=(42&h)?e===ld?lc++:(lc=0,ld=e):lc=0,q(0,!1)}}(e,t,n,i,h,r,s,o,l,u,c)}finally{ro.T=d,rR(h)}}function iw(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,nd(t))}function iM(){if(null!==ls){var e=ls,t=ll;ll=0;var n=E(lo),i=32>n?32:n;n=ro.T;var r=rN();try{if(rR(i),ro.T=null,null===ls)var s=!1;else{i=lu,lu=null;var o=ls,l=lo;if(ls=null,lo=0,0!=(6&oW))throw Error(a(331));var u=oW;if(oW|=4,n2(o.current),nY(o,o.current,l,i),oW=u,q(0,!1),sd&&"function"==typeof sd.onPostCommitFiberRoot)try{sd.onPostCommitFiberRoot(sc,o)}catch(e){}s=!0}return s}finally{rR(r),ro.T=n,iw(e,t)}}return!1}function iT(e,t,n){t=A(n,t),t=tz(e.stateNode,t,2),null!==(e=ea(e,t,2))&&(w(e,2),X(e))}function iE(e,t,n){if(3===e.tag)iT(e,e,n);else for(;null!==t;){if(3===t.tag){iT(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===lr||!lr.has(i))){e=A(n,e),null!==(i=ea(t,n=tj(2),2))&&(tF(n,i,t,e),w(i,2),X(i));break}}t=t.return}}function iA(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new oH;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(o0=!0,r.add(n),e=iC.bind(null,e,t,n),t.then(e,e))}function iC(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oZ===e&&(oq&n)===n&&(4===o2||3===o2&&(0x3c00000&oq)===oq&&300>sa()-lt?0==(2&oW)&&iu(e,0):o5|=n,o8===oq&&(o8=0)),X(e)}function iI(e,t){0===t&&(t=_()),null!==(e=H(e,t))&&(w(e,t),X(e))}function iP(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),iI(e,n)}function ik(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(t),iI(e,n)}function iR(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function iN(e){return!(!(e=e.prototype)||!e.isReactComponent)}function iD(e,t){var i=e.alternate;return null===i?((i=n(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=0x1e00000&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function iL(e,t){e.flags&=0x1e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,e.dependencies=null===(t=n.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function iU(e,t,i,r,s,o){var l=0;if(r=e,"function"==typeof e)iN(e)&&(l=1);else if("string"==typeof e)l=aO&&aJ?az(e,i,sw.current)?26:a2(e)?27:5:aO?az(e,i,sw.current)?26:5:aJ&&a2(e)?27:5;else e:switch(e){case i0:return iO(i.children,s,o,t);case i1:l=8,s|=24;break;case i2:return(e=n(12,i,t,2|s)).elementType=i2,e.lanes=o,e;case i8:return(e=n(13,i,t,s)).elementType=i8,e.lanes=o,e;case i9:return(e=n(19,i,t,s)).elementType=i9,e.lanes=o,e;case rt:return iz(i,s,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case i3:case i5:l=10;break e;case i4:l=9;break e;case i6:l=11;break e;case i7:l=14;break e;case re:l=16,r=null;break e}l=29,i=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=n(l,i,t,s)).elementType=e,t.type=r,t.lanes=o,t}function iO(e,t,i,r){return(e=n(7,e,r,t)).lanes=i,e}function iz(e,t,i,r){(e=n(22,e,r,t)).elementType=rt,e.lanes=i;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=s._current;if(null===e)throw Error(a(456));if(0==(2&s._pendingVisibility)){var t=H(e,2);null!==t&&(s._pendingVisibility|=2,it(t,e,2))}},attach:function(){var e=s._current;if(null===e)throw Error(a(456));if(0!=(2&s._pendingVisibility)){var t=H(e,2);null!==t&&(s._pendingVisibility&=-3,it(t,e,2))}}};return e.stateNode=s,e}function ij(e,t,i){return(e=n(6,e,null,t)).lanes=i,e}function iF(e,t,i){return(t=n(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i$(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rT,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S(0),this.hiddenUpdates=S(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function iB(e,t,i,r,a,s,o,l,u,c,d,h){return e=new i$(e,t,i,o,l,u,c,h),t=1,!0===s&&(t|=24),s=n(3,null,null,t),e.current=s,s.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:i,cache:t},en(s),e}function iV(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,e=Object.keys(e).join(",")))}return null===(e=null!==(e=p(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:rp(e.stateNode)}function iG(e,t,n,i,r,a){r=r?a5:a5,null===i.context?i.context=r:i.pendingContext=r,(i=er(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=ea(e,i,t))&&(it(n,e,t),es(n,e,t))}function iH(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function iW(e,t){iH(e,t),(e=e.alternate)&&iH(e,t)}var iZ={},iX=e.r(71645),iq=e.r(28563),iY=Object.assign,iJ=Symbol.for("react.element"),iK=Symbol.for("react.transitional.element"),iQ=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),i2=Symbol.for("react.profiler"),i3=Symbol.for("react.provider"),i4=Symbol.for("react.consumer"),i5=Symbol.for("react.context"),i6=Symbol.for("react.forward_ref"),i8=Symbol.for("react.suspense"),i9=Symbol.for("react.suspense_list"),i7=Symbol.for("react.memo"),re=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var rt=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var rn,ri,rr=Symbol.for("react.memo_cache_sentinel"),ra=Symbol.iterator,rs=Symbol.for("react.client.reference"),ro=iX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rl=!1,ru=Array.isArray,rc=t.rendererVersion,rd=t.rendererPackageName,rh=t.extraDevToolsConfig,rp=t.getPublicInstance,rf=t.getRootHostContext,rm=t.getChildHostContext,rg=t.prepareForCommit,rv=t.resetAfterCommit,ry=t.createInstance,rx=t.appendInitialChild,rb=t.finalizeInitialChildren,r_=t.shouldSetTextContent,rS=t.createTextInstance,rw=t.scheduleTimeout,rM=t.cancelTimeout,rT=t.noTimeout,rE=t.isPrimaryRenderer;t.warnsIfNotActing;var rA=t.supportsMutation,rC=t.supportsPersistence,rI=t.supportsHydration,rP=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var rk=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var rR=t.setCurrentUpdatePriority,rN=t.getCurrentUpdatePriority,rD=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var rL=t.shouldAttemptEagerTransition,rU=t.detachDeletedInstance;t.requestPostPaintCallback;var rO=t.maySuspendCommit,rz=t.preloadInstance,rj=t.startSuspendingCommit,rF=t.suspendInstance,r$=t.waitForCommitToBeReady,rB=t.NotPendingTransition,rV=t.HostTransitionContext,rG=t.resetFormInstance;t.bindToConsole;var rH=t.supportsMicrotasks,rW=t.scheduleMicrotask,rZ=t.supportsTestSelectors,rX=t.findFiberRoot,rq=t.getBoundingRect,rY=t.getTextContent,rJ=t.isHiddenSubtree,rK=t.matchAccessibilityRole,rQ=t.setFocusIfFocusable,r0=t.setupIntersectionObserver,r1=t.appendChild,r2=t.appendChildToContainer,r3=t.commitTextUpdate,r4=t.commitMount,r5=t.commitUpdate,r6=t.insertBefore,r8=t.insertInContainerBefore,r9=t.removeChild,r7=t.removeChildFromContainer,ae=t.resetTextContent,at=t.hideInstance,an=t.hideTextInstance,ai=t.unhideInstance,ar=t.unhideTextInstance,aa=t.clearContainer,as=t.cloneInstance,ao=t.createContainerChildSet,al=t.appendChildToContainerChildSet,au=t.finalizeContainerChildren,ac=t.replaceContainerChildren,ad=t.cloneHiddenInstance,ah=t.cloneHiddenTextInstance,ap=t.isSuspenseInstancePending,af=t.isSuspenseInstanceFallback,am=t.getSuspenseInstanceFallbackErrorDetails,ag=t.registerSuspenseInstanceRetry,av=t.canHydrateFormStateMarker,ay=t.isFormStateMarkerMatching,ax=t.getNextHydratableSibling,ab=t.getFirstHydratableChild,a_=t.getFirstHydratableChildWithinContainer,aS=t.getFirstHydratableChildWithinSuspenseInstance,aw=t.canHydrateInstance,aM=t.canHydrateTextInstance,aT=t.canHydrateSuspenseInstance,aE=t.hydrateInstance,aA=t.hydrateTextInstance,aC=t.hydrateSuspenseInstance,aI=t.getNextHydratableInstanceAfterSuspenseInstance,aP=t.commitHydratedContainer,ak=t.commitHydratedSuspenseInstance,aR=t.clearSuspenseBoundary,aN=t.clearSuspenseBoundaryFromContainer,aD=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var aL=t.validateHydratableInstance,aU=t.validateHydratableTextInstance,aO=t.supportsResources,az=t.isHostHoistableType,aj=t.getHoistableRoot,aF=t.getResource,a$=t.acquireResource,aB=t.releaseResource,aV=t.hydrateHoistable,aG=t.mountHoistable,aH=t.unmountHoistable,aW=t.createHoistableInstance,aZ=t.prepareToCommitHoistables,aX=t.mayResourceSuspendCommit,aq=t.preloadResource,aY=t.suspendResource,aJ=t.supportsSingletons,aK=t.resolveSingletonInstance,aQ=t.clearSingleton,a0=t.acquireSingletonInstance,a1=t.releaseSingletonInstance,a2=t.isHostSingletonType,a3=[],a4=-1,a5={},a6=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(a8(e)/a9|0)|0},a8=Math.log,a9=Math.LN2,a7=128,se=4194304,st=iq.unstable_scheduleCallback,sn=iq.unstable_cancelCallback,si=iq.unstable_shouldYield,sr=iq.unstable_requestPaint,sa=iq.unstable_now,ss=iq.unstable_ImmediatePriority,so=iq.unstable_UserBlockingPriority,sl=iq.unstable_NormalPriority,su=iq.unstable_IdlePriority,sc=(iq.log,iq.unstable_setDisableYieldValue,null),sd=null,sh="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sp=new WeakMap,sf=[],sm=0,sg=null,sv=0,sy=[],sx=0,sb=null,s_=1,sS="",sw=f(null),sM=f(null),sT=f(null),sE=f(null),sA=null,sC=null,sI=!1,sP=null,sk=!1,sR=Error(a(519)),sN=[],sD=0,sL=0,sU=null,sO=null,sz=!1,sj=!1,sF=!1,s$=0,sB=null,sV=0,sG=0,sH=null,sW=!1,sZ=!1,sX=Object.prototype.hasOwnProperty,sq=Error(a(460)),sY=Error(a(474)),sJ={then:function(){}},sK=null,sQ=null,s0=0,s1=e_(!0),s2=e_(!1),s3=f(null),s4=f(0),s5=f(null),s6=null,s8=f(0),s9=0,s7=null,oe=null,ot=null,on=!1,oi=!1,or=!1,oa=0,os=0,oo=null,ol=0,ou=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},oc={readContext:no,use:eB,useCallback:eP,useContext:eP,useEffect:eP,useImperativeHandle:eP,useLayoutEffect:eP,useInsertionEffect:eP,useMemo:eP,useReducer:eP,useRef:eP,useState:eP,useDebugValue:eP,useDeferredValue:eP,useTransition:eP,useSyncExternalStore:eP,useId:eP};oc.useCacheRefresh=eP,oc.useMemoCache=eP,oc.useHostTransitionStatus=eP,oc.useFormState=eP,oc.useActionState=eP,oc.useOptimistic=eP;var od={readContext:no,use:eB,useCallback:function(e,t){return ej().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:tl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ts(4194308,4,th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){ts(4,2,e,t)},useMemo:function(e,t){var n=ej();t=void 0===t?null:t;var i=e();return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ej();if(void 0!==n)var r=n(t);else r=t;return i.memoizedState=i.baseState=r,i.queue=e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},e=e.dispatch=tT.bind(null,s7,e),[i.memoizedState,e]},useRef:function(e){return ej().memoizedState={current:e}},useState:function(e){var t=(e=e0(e)).queue,n=tE.bind(null,s7,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tf,useDeferredValue:function(e,t){return tv(ej(),e,t)},useTransition:function(){var e=e0(!1);return e=tx.bind(null,s7,e.queue,!0,!1),ej().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=s7,r=ej();if(sI){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===oZ)throw Error(a(349));0!=(60&oq)||eq(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,tl(eJ.bind(null,i,s,e),[e]),i.flags|=2048,tr(9,eY.bind(null,i,s,n,t),{destroy:void 0},null),n},useId:function(){var e=ej(),t=oZ.identifierPrefix;if(sI){var n=sS,i=s_;t=":"+t+"R"+(n=(i&~(1<<32-a6(i)-1)).toString(32)+n),0<(n=oa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ol++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ej().memoizedState=tM.bind(null,s7)}};od.useMemoCache=eV,od.useHostTransitionStatus=t_,od.useFormState=e7,od.useActionState=e7,od.useOptimistic=function(e){var t=ej();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tC.bind(null,s7,!0,n),n.dispatch=t,[e,t]};var oh={readContext:no,use:eB,useCallback:tm,useContext:no,useEffect:tu,useImperativeHandle:tp,useInsertionEffect:tc,useLayoutEffect:td,useMemo:tg,useReducer:eH,useRef:ta,useState:function(){return eH(eG)},useDebugValue:tf,useDeferredValue:function(e,t){return ty(eF(),oe.memoizedState,e,t)},useTransition:function(){var e=eH(eG)[0],t=eF().memoizedState;return["boolean"==typeof e?e:e$(e),t]},useSyncExternalStore:eX,useId:tS};oh.useCacheRefresh=tw,oh.useMemoCache=eV,oh.useHostTransitionStatus=t_,oh.useFormState=te,oh.useActionState=te,oh.useOptimistic=function(e,t){return e1(eF(),oe,e,t)};var op={readContext:no,use:eB,useCallback:tm,useContext:no,useEffect:tu,useImperativeHandle:tp,useInsertionEffect:tc,useLayoutEffect:td,useMemo:tg,useReducer:eZ,useRef:ta,useState:function(){return eZ(eG)},useDebugValue:tf,useDeferredValue:function(e,t){var n=eF();return null===oe?tv(n,e,t):ty(n,oe.memoizedState,e,t)},useTransition:function(){var e=eZ(eG)[0],t=eF().memoizedState;return["boolean"==typeof e?e:e$(e),t]},useSyncExternalStore:eX,useId:tS};op.useCacheRefresh=tw,op.useMemoCache=eV,op.useHostTransitionStatus=t_,op.useFormState=ti,op.useActionState=ti,op.useOptimistic=function(e,t){var n=eF();return null!==oe?e1(n,oe,e,t):(n.baseState=e,[e,n.queue.dispatch])};var of={isMounted:function(e){return!!(e=e._reactInternals)&&d(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=n7(),r=er(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=ea(e,r,i))&&(it(t,e,i),es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=n7(),r=er(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ea(e,r,i))&&(it(t,e,i),es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=n7(),i=er(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=ea(e,i,n))&&(it(t,e,n),es(t,e,n))}},om="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof i.default&&"function"==typeof i.default.emit)return void i.default.emit("uncaughtException",e);console.error(e)},og=Error(a(461)),ov=!1,oy={dehydrated:null,treeContext:null,retryLane:0},ox=f(null),ob=null,o_=null,oS="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ow=iq.unstable_scheduleCallback,oM=iq.unstable_NormalPriority,oT={$$typeof:i5,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},oE=ro.S;ro.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===sB){var n=sB=[];sV=0,sG=ee(),sH={status:"pending",value:void 0,then:function(e){n.push(e)}}}sV++,t.then(et,et)}(0,t),null!==oE&&oE(e,t)};var oA=f(null),oC=!1,oI=!1,oP=!1,ok="function"==typeof WeakSet?WeakSet:Set,oR=null,oN=!1,oD=null,oL=!1,oU=null,oO=8192,oz={getCacheForType:function(e){var t=no(oT),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},oj=0,oF=1,o$=2,oB=3,oV=4;if("function"==typeof Symbol&&Symbol.for){var oG=Symbol.for;oj=oG("selector.component"),oF=oG("selector.has_pseudo_class"),o$=oG("selector.role"),oB=oG("selector.test_id"),oV=oG("selector.text")}var oH="function"==typeof WeakMap?WeakMap:Map,oW=0,oZ=null,oX=null,oq=0,oY=0,oJ=null,oK=!1,oQ=!1,o0=!1,o1=0,o2=0,o3=0,o4=0,o5=0,o6=0,o8=0,o9=null,o7=null,le=!1,lt=0,ln=1/0,li=null,lr=null,la=!1,ls=null,lo=0,ll=0,lu=null,lc=0,ld=null;return iZ.attemptContinuousHydration=function(e){if(13===e.tag){var t=H(e,0x4000000);null!==t&&it(t,e,0x4000000),iW(e,0x4000000)}},iZ.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=n7(),n=H(e,t);null!==n&&it(n,e,t),iW(e,t)}},iZ.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=v(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-a6(t);e.entanglements[1]|=n,t&=~n}X(e),0==(6&oW)&&(ln=sa()+500,q(0,!1))}}break;case 13:null!==(t=H(e,2))&&it(t,e,2),io(),iW(e,2)}},iZ.batchedUpdates=function(e,t){return e(t)},iZ.createComponentSelector=function(e){return{$$typeof:oj,value:e}},iZ.createContainer=function(e,t,n,i,r,a,s,o,l,u){return iB(e,t,!1,null,n,i,a,s,o,l,u,null)},iZ.createHasPseudoClassSelector=function(e){return{$$typeof:oF,value:e}},iZ.createHydrationContainer=function(e,t,n,i,r,a,s,o,l,u,c,d,h){var p;return(e=iB(n,i,!0,e,r,a,o,l,u,c,d,h)).context=(p=null,a5),n=e.current,(r=er(i=n7())).callback=null!=t?t:null,ea(n,r,i),e.current.lanes=i,w(e,i),X(e),e},iZ.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:iQ,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},iZ.createRoleSelector=function(e){return{$$typeof:o$,value:e}},iZ.createTestNameSelector=function(e){return{$$typeof:oB,value:e}},iZ.createTextSelector=function(e){return{$$typeof:oV,value:e}},iZ.defaultOnCaughtError=function(e){console.error(e)},iZ.defaultOnRecoverableError=function(e){om(e)},iZ.defaultOnUncaughtError=function(e){om(e)},iZ.deferredUpdates=function(e){var t=ro.T,n=rN();try{return rR(32),ro.T=null,e()}finally{rR(n),ro.T=t}},iZ.discreteUpdates=function(e,t,n,i,r){var a=ro.T,s=rN();try{return rR(2),ro.T=null,e(t,n,i,r)}finally{rR(s),ro.T=a,0===oW&&(ln=sa()+500)}},iZ.findAllNodes=n9,iZ.findBoundingRects=function(e,t){if(!rZ)throw Error(a(363));t=n9(e,t),e=[];for(var n=0;n<t.length;n++)e.push(rq(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var i=n.x,r=i+n.width,s=n.y,o=s+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,h=u.y,p=h+u.height;if(i>=c&&s>=h&&r<=d&&o<=p){e.splice(t,1);break}if(i!==c||n.width!==u.width||p<s||h>o){if(!(s!==h||n.height!==u.height||d<i||c>r)){c>i&&(u.width+=c-i,u.x=i),d<r&&(u.width=r-c),e.splice(t,1);break}}else{h>s&&(u.height+=h-s,u.y=s),p<o&&(u.height=o-h),e.splice(t,1);break}}}return e},iZ.findHostInstance=iV,iZ.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=p(e))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(4!==t.tag&&null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:rp(e.stateNode)},iZ.findHostInstanceWithWarning=function(e){return iV(e)},iZ.flushPassiveEffects=iM,iZ.flushSyncFromReconciler=function(e){var t=oW;oW|=1;var n=ro.T,i=rN();try{if(rR(2),ro.T=null,e)return e()}finally{rR(i),ro.T=n,0==(6&(oW=t))&&q(0,!1)}},iZ.flushSyncWork=io,iZ.focusWithin=function(e,t){if(!rZ)throw Error(a(363));for(t=Array.from(t=n8(e=n4(e),t)),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!rJ(n)){if((5===i||26===i||27===i)&&rQ(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},iZ.getFindAllNodesFailureDescription=function(e,t){if(!rZ)throw Error(a(363));var n=0,i=[];e=[n4(e),0];for(var r=0;r<e.length;){var s=e[r++],o=s.tag,l=e[r++],u=t[l];if((5!==o&&26!==o&&27!==o||!rJ(s))&&(n5(s,u)&&(i.push(n6(u)),++l>n&&(n=l)),l<t.length))for(s=s.child;null!==s;)e.push(s,l),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(n6(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},iZ.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return rp(e.child.stateNode);default:return e.child.stateNode}},iZ.injectIntoDevTools=function(){var e={bundleType:0,version:rc,rendererPackageName:rd,currentDispatcherRef:ro,findFiberByHostInstance:rP,reconcilerVersion:"19.0.0"};if(null!==rh&&(e.rendererConfig=rh),"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{sc=t.inject(e),sd=t}catch(e){}e=!!t.checkDCE}}return e},iZ.isAlreadyRendering=function(){return!1},iZ.observeVisibleRects=function(e,t,n,i){if(!rZ)throw Error(a(363));var r=r0(e=n9(e,t),n,i).disconnect;return{disconnect:function(){r()}}},iZ.shouldError=function(){return null},iZ.shouldSuspend=function(){return!1},iZ.startHostTransition=function(e,t,n,i){if(5!==e.tag)throw Error(a(476));var s=tb(e).queue;tx(e,s,t,rB,null===n?r:function(){var t=tb(e).next.queue;return tA(e,t,{},n7()),n(i)})},iZ.updateContainer=function(e,t,n,i){var r=t.current,a=n7();return iG(r,a,e,t,n,i),a},iZ.updateContainerSync=function(e,t,n,i){return 0===t.tag&&iM(),iG(t.current,2,e,t,n,i),2},iZ},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})},98133,(e,t,n)=>{"use strict";t.exports=e.r(40336)},45015,(e,t,n)=>{"use strict";function i(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(0<s(r,t))e[i]=t,e[n]=r,n=i;else break}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<r&&0>s(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[o]=n,i=o);else if(u<r&&0>s(c,n))e[i]=c,e[u]=n,i=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,f=null,m=3,g=!1,v=!1,y=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(h);null!==t;){if(null===t.callback)a(h);else if(t.startTime<=e)a(h),t.sortIndex=t.expirationTime,i(d,t);else break;t=r(h)}}function w(e){if(y=!1,S(e),!v)if(null!==r(d))v=!0,R();else{var t=r(h);null!==t&&N(w,t.startTime-e)}}var M=!1,T=-1,E=5,A=-1;function C(){return!(n.unstable_now()-A<E)}function I(){if(M){var e=n.unstable_now();A=e;var t=!0;try{e:{v=!1,y&&(y=!1,b(T),T=-1),g=!0;var i=m;try{t:{for(S(e),f=r(d);null!==f&&!(f.expirationTime>e&&C());){var s=f.callback;if("function"==typeof s){f.callback=null,m=f.priorityLevel;var l=s(f.expirationTime<=e);if(e=n.unstable_now(),"function"==typeof l){f.callback=l,S(e),t=!0;break t}f===r(d)&&a(d),S(e)}else a(d);f=r(d)}if(null!==f)t=!0;else{var u=r(h);null!==u&&N(w,u.startTime-e),t=!1}}break e}finally{f=null,m=i,g=!1}}}finally{t?o():M=!1}}}if("function"==typeof _)o=function(){_(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,k=P.port2;P.port1.onmessage=I,o=function(){k.postMessage(null)}}else o=function(){x(I,0)};function R(){M||(M=!0,o())}function N(e,t){T=x(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,R())},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(d)},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},n.unstable_scheduleCallback=function(e,t,a){var s=n.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=a+o,e={id:p++,callback:t,priorityLevel:e,startTime:a,expirationTime:o,sortIndex:-1},a>s?(e.sortIndex=a,i(h,e),null===r(d)&&e===r(h)&&(y?(b(T),T=-1):y=!0,N(w,a-s))):(e.sortIndex=o,i(d,e),v||g||(v=!0,R())),e},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},95087,(e,t,n)=>{"use strict";t.exports=e.r(45015)},83797,e=>{"use strict";let t,n,i,r,a,s,o,l,u,c,d,h,p,f,m,g,v,y;var x,b,_,S=e.i(43476),w=e.i(71645);e.i(47167);var M=w,T=e.i(39695);let E={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},A={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},C="attached",I="detached",P="srgb",k="srgb-linear",R="linear",N="srgb",D="300 es",L={COMPUTE:"compute",RENDER:"render"},U={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},O={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function z(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}let j={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function F(e,t){return new j[e](t)}function $(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function B(){let e=$("canvas");return e.style.display="block",e}let V={},G=null;function H(e){G=e}function W(){return G}function Z(...e){let t="THREE."+e.shift();G?G("log",t,...e):console.log(t,...e)}function X(...e){let t="THREE."+e.shift();G?G("warn",t,...e):console.warn(t,...e)}function q(...e){let t="THREE."+e.shift();G?G("error",t,...e):console.error(t,...e)}function Y(...e){let t=e.join(" ");t in V||(V[t]=!0,X(...e))}class J{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){let n=this._listeners;return void 0!==n&&void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){let n=this._listeners;if(void 0===n)return;let i=n[e];if(void 0!==i){let e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){let t=this._listeners;if(void 0===t)return;let n=t[e.type];if(void 0!==n){e.target=this;let t=n.slice(0);for(let n=0,i=t.length;n<i;n++)t[n].call(this,e);e.target=null}}}let K=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Q=1234567,ee=Math.PI/180,et=180/Math.PI;function en(){let e=0xffffffff*Math.random()|0,t=0xffffffff*Math.random()|0,n=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0;return(K[255&e]+K[e>>8&255]+K[e>>16&255]+K[e>>24&255]+"-"+K[255&t]+K[t>>8&255]+"-"+K[t>>16&15|64]+K[t>>24&255]+"-"+K[63&n|128]+K[n>>8&255]+"-"+K[n>>16&255]+K[n>>24&255]+K[255&i]+K[i>>8&255]+K[i>>16&255]+K[i>>24&255]).toLowerCase()}function ei(e,t,n){return Math.max(t,Math.min(n,e))}function er(e,t){return(e%t+t)%t}function ea(e,t,n){return(1-n)*e+n*t}function es(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/0xffffffff;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/0x7fffffff,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw Error("Invalid component type.")}}function eo(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(0xffffffff*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(0x7fffffff*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw Error("Invalid component type.")}}let el={DEG2RAD:ee,RAD2DEG:et,generateUUID:en,clamp:ei,euclideanModulo:er,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:ea,damp:function(e,t,n,i){return ea(e,t,1-Math.exp(-n*i))},pingpong:function(e,t=1){return t-Math.abs(er(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Q=e);let t=Q+=0x6d2b79f5;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/0x100000000},degToRad:function(e){return e*ee},radToDeg:function(e){return e*et},isPowerOfTwo:function(e){return(e&e-1)==0&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){let a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),u=a((t+i)/2),c=s((t+i)/2),d=a((t-i)/2),h=s((t-i)/2),p=a((i-t)/2),f=s((i-t)/2);switch(r){case"XYX":e.set(o*c,l*d,l*h,o*u);break;case"YZY":e.set(l*h,o*c,l*d,o*u);break;case"ZXZ":e.set(l*d,l*h,o*c,o*u);break;case"XZX":e.set(o*c,l*f,l*p,o*u);break;case"YXY":e.set(l*p,o*c,l*f,o*u);break;case"ZYZ":e.set(l*f,l*p,o*c,o*u);break;default:X("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:eo,denormalize:es};class eu{constructor(e=0,t=0){eu.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(ei(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:Math.acos(ei(this.dot(e)/t,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ec{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,a,s){let o=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],d=r[a+0],h=r[a+1],p=r[a+2],f=r[a+3];if(s<=0){e[t+0]=o,e[t+1]=l,e[t+2]=u,e[t+3]=c;return}if(s>=1){e[t+0]=d,e[t+1]=h,e[t+2]=p,e[t+3]=f;return}if(c!==f||o!==d||l!==h||u!==p){let e=o*d+l*h+u*p+c*f;e<0&&(d=-d,h=-h,p=-p,f=-f,e=-e);let t=1-s;if(e<.9995){let n=Math.acos(e),i=Math.sin(n);o=o*(t=Math.sin(t*n)/i)+d*(s=Math.sin(s*n)/i),l=l*t+h*s,u=u*t+p*s,c=c*t+f*s}else{let e=1/Math.sqrt((o=o*t+d*s)*o+(l=l*t+h*s)*l+(u=u*t+p*s)*u+(c=c*t+f*s)*c);o*=e,l*=e,u*=e,c*=e}}e[t]=o,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,i,r,a){let s=n[i],o=n[i+1],l=n[i+2],u=n[i+3],c=r[a],d=r[a+1],h=r[a+2],p=r[a+3];return e[t]=s*p+u*c+o*h-l*d,e[t+1]=o*p+u*d+l*c-s*h,e[t+2]=l*p+u*h+s*d-o*c,e[t+3]=u*p-s*c-o*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){let n=e._x,i=e._y,r=e._z,a=e._order,s=Math.cos,o=Math.sin,l=s(n/2),u=s(i/2),c=s(r/2),d=o(n/2),h=o(i/2),p=o(r/2);switch(a){case"XYZ":this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p;break;case"YXZ":this._x=d*u*c+l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p;break;case"ZXY":this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c-d*h*p;break;case"ZYX":this._x=d*u*c-l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c+d*h*p;break;case"YZX":this._x=d*u*c+l*h*p,this._y=l*h*c+d*u*p,this._z=l*u*p-d*h*c,this._w=l*u*c-d*h*p;break;case"XZY":this._x=d*u*c-l*h*p,this._y=l*h*c-d*u*p,this._z=l*u*p+d*h*c,this._w=l*u*c+d*h*p;break;default:X("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],s=t[5],o=t[9],l=t[2],u=t[6],c=t[10],d=n+s+c;if(d>0){let e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(u-o)*e,this._y=(r-l)*e,this._z=(a-i)*e}else if(n>s&&n>c){let e=2*Math.sqrt(1+n-s-c);this._w=(u-o)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(r+l)/e}else if(s>c){let e=2*Math.sqrt(1+s-n-c);this._w=(r-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(o+u)/e}else{let e=2*Math.sqrt(1+c-n-s);this._w=(a-i)/e,this._x=(r+l)/e,this._y=(o+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ei(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(0===n)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,r=e._z,a=e._w,s=t._x,o=t._y,l=t._z,u=t._w;return this._x=n*u+a*s+i*l-r*o,this._y=i*u+a*o+r*s-n*l,this._z=r*u+a*l+n*o-i*s,this._w=a*u-n*s-i*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,r=e._z,a=e._w,s=this.dot(e);s<0&&(n=-n,i=-i,r=-r,a=-a,s=-s);let o=1-t;if(s<.9995){let e=Math.acos(s),l=Math.sin(e);o=Math.sin(o*e)/l,t=Math.sin(t*e)/l,this._x=this._x*o+n*t,this._y=this._y*o+i*t,this._z=this._z*o+r*t,this._w=this._w*o+a*t,this._onChangeCallback()}else this._x=this._x*o+n*t,this._y=this._y*o+i*t,this._z=this._z*o+r*t,this._w=this._w*o+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ed{constructor(e=0,t=0,n=0){ed.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ep.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ep.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,s=e.z,o=e.w,l=2*(a*i-s*n),u=2*(s*t-r*i),c=2*(r*n-a*t);return this.x=t+o*l+a*c-s*u,this.y=n+o*u+s*l-r*c,this.z=i+o*c+r*u-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this.z=ei(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this.z=ei(this.z,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(ei(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,r=e.z,a=t.x,s=t.y,o=t.z;return this.x=i*o-r*s,this.y=r*a-n*o,this.z=n*s-i*a,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return eh.copy(this).projectOnVector(e),this.sub(eh)}reflect(e){return this.sub(eh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:Math.acos(ei(this.dot(e)/t,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}let eh=new ed,ep=new ec;class ef{constructor(e,t,n,i,r,a,s,o,l){ef.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,s,o,l)}set(e,t,n,i,r,a,s,o,l){let u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=t,u[4]=r,u[5]=o,u[6]=n,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,a=n[0],s=n[3],o=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],x=i[7],b=i[2],_=i[5],S=i[8];return r[0]=a*f+s*v+o*b,r[3]=a*m+s*y+o*_,r[6]=a*g+s*x+o*S,r[1]=l*f+u*v+c*b,r[4]=l*m+u*y+c*_,r[7]=l*g+u*x+c*S,r[2]=d*f+h*v+p*b,r[5]=d*m+h*y+p*_,r[8]=d*g+h*x+p*S,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8];return t*a*u-t*s*l-n*r*u+n*s*o+i*r*l-i*a*o}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=u*a-s*l,d=s*o-u*r,h=l*r-a*o,p=t*c+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);let f=1/p;return e[0]=c*f,e[1]=(i*l-u*n)*f,e[2]=(s*n-i*a)*f,e[3]=d*f,e[4]=(u*t-i*o)*f,e[5]=(i*r-s*t)*f,e[6]=h*f,e[7]=(n*o-l*t)*f,e[8]=(a*t-n*r)*f,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,s){let o=Math.cos(r),l=Math.sin(r);return this.set(n*o,n*l,-n*(o*a+l*s)+a+e,-i*l,i*o,-i*(-l*a+o*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(em.makeScale(e,t)),this}rotate(e){return this.premultiply(em.makeRotation(-e)),this}translate(e,t){return this.premultiply(em.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}let em=new ef,eg=new ef().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ev=new ef().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715),ey=(h=[.64,.33,.3,.6,.15,.06],p=[.2126,.7152,.0722],f=[.3127,.329],(d={enabled:!0,workingColorSpace:k,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n&&(this.spaces[t].transfer===N&&(e.r=ex(e.r),e.g=ex(e.g),e.b=ex(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===N&&(e.r=eb(e.r),e.g=eb(e.g),e.b=eb(e.b))),e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return""===e?R:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(e,t){return Y("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),d.workingToColorSpace(e,t)},toWorkingColorSpace:function(e,t){return Y("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),d.colorSpaceToWorking(e,t)}}).define({[k]:{primaries:h,whitePoint:f,transfer:R,toXYZ:eg,fromXYZ:ev,luminanceCoefficients:p,workingColorSpaceConfig:{unpackColorSpace:P},outputColorSpaceConfig:{drawingBufferColorSpace:P}},[P]:{primaries:h,whitePoint:f,transfer:N,toXYZ:eg,fromXYZ:ev,luminanceCoefficients:p,outputColorSpaceConfig:{drawingBufferColorSpace:P}}}),d);function ex(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function eb(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class e_{static getDataURL(e,n="image/png"){let i;if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)i=e;else{void 0===t&&(t=$("canvas")),t.width=e.width,t.height=e.height;let n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),i=t}return i.toDataURL(n)}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let t=$("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*ex(r[e]/255);return n.putImageData(i,0,0),t}if(!e.data)return X("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e;{let t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*ex(t[e]/255)):t[e]=ex(t[e]);return{data:t,width:e.width,height:e.height}}}}let eS=0;class ew{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eS++}),this.uuid=en(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){let t=this.data;return"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(eM(i[t].image)):e.push(eM(i[t]))}else e=eM(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function eM(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?e_.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(X("Texture: Unable to serialize Texture."),{})}let eT=0,eE=new ed;class eA extends J{constructor(e=eA.DEFAULT_IMAGE,t=eA.DEFAULT_MAPPING,n=1001,i=1001,r=1006,a=1008,s=1023,o=1009,l=eA.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eT++}),this.uuid=en(),this.name="",this.source=new ew(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=o,this.offset=new eu(0,0),this.repeat=new eu(1,1),this.center=new eu(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ef,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!e&&!!e.depth&&e.depth>1,this.pmremVersion=0}get width(){return this.source.getSize(eE).x}get height(){return this.source.getSize(eE).y}get depth(){return this.source.getSize(eE).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(let t in e){let n=e[t];if(void 0===n){X(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}let i=this[t];if(void 0===i){X(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}eA.DEFAULT_IMAGE=null,eA.DEFAULT_MAPPING=300,eA.DEFAULT_ANISOTROPY=1;class eC{constructor(e=0,t=0,n=0,i=1){eC.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r,a=e.elements,s=a[0],o=a[4],l=a[8],u=a[1],c=a[5],d=a[9],h=a[2],p=a[6],f=a[10];if(.01>Math.abs(o-u)&&.01>Math.abs(l-h)&&.01>Math.abs(d-p)){if(.1>Math.abs(o+u)&&.1>Math.abs(l+h)&&.1>Math.abs(d+p)&&.1>Math.abs(s+c+f-3))return this.set(1,0,0,0),this;t=Math.PI;let e=(s+1)/2,a=(c+1)/2,m=(f+1)/2,g=(o+u)/4,v=(l+h)/4,y=(d+p)/4;return e>a&&e>m?e<.01?(n=0,i=.707106781,r=.707106781):(i=g/(n=Math.sqrt(e)),r=v/n):a>m?a<.01?(n=.707106781,i=0,r=.707106781):(n=g/(i=Math.sqrt(a)),r=y/i):m<.01?(n=.707106781,i=.707106781,r=0):(n=v/(r=Math.sqrt(m)),i=y/r),this.set(n,i,r,t),this}let m=Math.sqrt((p-d)*(p-d)+(l-h)*(l-h)+(u-o)*(u-o));return .001>Math.abs(m)&&(m=1),this.x=(p-d)/m,this.y=(l-h)/m,this.z=(u-o)/m,this.w=Math.acos((s+c+f-1)/2),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this.z=ei(this.z,e.z,t.z),this.w=ei(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this.z=ei(this.z,e,t),this.w=ei(this.w,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(ei(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class eI extends J{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new eC(0,0,e,t),this.scissorTest=!1,this.viewport=new eC(0,0,e,t);const i=new eA({width:e,height:t,depth:n.depth});this.textures=[];const r=n.count;for(let e=0;e<r;e++)this.textures[e]=i.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){let t={minFilter:1006,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let e=0;e<this.textures.length;e++)this.textures[e].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,!0!==this.textures[i].isData3DTexture&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;let n=Object.assign({},e.textures[t].image);this.textures[t].source=new ew(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eP extends eI{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class ek extends eA{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class eR extends eP{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ek(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class eN extends eA{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class eD extends eP{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new eN(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class eL{constructor(e=new ed(Infinity,Infinity,Infinity),t=new ed(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(eO.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(eO.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=eO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(void 0!==n){let i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,eO):eO.fromBufferAttribute(i,t),eO.applyMatrix4(e.matrixWorld),this.expandByPoint(eO);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),ez.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),ez.copy(n.boundingBox)),ez.applyMatrix4(e.matrixWorld),this.union(ez)}let i=e.children;for(let e=0,n=i.length;e<n;e++)this.expandByObject(i[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,eO),eO.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eH),eW.subVectors(this.max,eH),ej.subVectors(e.a,eH),eF.subVectors(e.b,eH),e$.subVectors(e.c,eH),eB.subVectors(eF,ej),eV.subVectors(e$,eF),eG.subVectors(ej,e$);let t=[0,-eB.z,eB.y,0,-eV.z,eV.y,0,-eG.z,eG.y,eB.z,0,-eB.x,eV.z,0,-eV.x,eG.z,0,-eG.x,-eB.y,eB.x,0,-eV.y,eV.x,0,-eG.y,eG.x,0];return!!eq(t,ej,eF,e$,eW)&&!!eq(t=[1,0,0,0,1,0,0,0,1],ej,eF,e$,eW)&&(eZ.crossVectors(eB,eV),eq(t=[eZ.x,eZ.y,eZ.z],ej,eF,e$,eW))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,eO).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(eO).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(eU[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),eU[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),eU[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),eU[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),eU[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),eU[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),eU[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),eU[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(eU)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}let eU=[new ed,new ed,new ed,new ed,new ed,new ed,new ed,new ed],eO=new ed,ez=new eL,ej=new ed,eF=new ed,e$=new ed,eB=new ed,eV=new ed,eG=new ed,eH=new ed,eW=new ed,eZ=new ed,eX=new ed;function eq(e,t,n,i,r){for(let a=0,s=e.length-3;a<=s;a+=3){eX.fromArray(e,a);let s=r.x*Math.abs(eX.x)+r.y*Math.abs(eX.y)+r.z*Math.abs(eX.z),o=t.dot(eX),l=n.dot(eX),u=i.dot(eX);if(Math.max(-Math.max(o,l,u),Math.min(o,l,u))>s)return!1}return!0}let eY=new eL,eJ=new ed,eK=new ed;class eQ{constructor(e=new ed,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):eY.setFromPoints(e).getCenter(n);let i=0;for(let t=0,r=e.length;t<r;t++)i=Math.max(i,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;eJ.subVectors(e,this.center);let t=eJ.lengthSq();if(t>this.radius*this.radius){let e=Math.sqrt(t),n=(e-this.radius)*.5;this.center.addScaledVector(eJ,n/e),this.radius+=n}return this}union(e){return e.isEmpty()||(this.isEmpty()?this.copy(e):!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(eK.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(eJ.copy(e.center).add(eK)),this.expandByPoint(eJ.copy(e.center).sub(eK)))),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let e0=new ed,e1=new ed,e2=new ed,e3=new ed,e4=new ed,e5=new ed,e6=new ed;class e8{constructor(e=new ed,t=new ed(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,e0)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=e0.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(e0.copy(this.origin).addScaledVector(this.direction,t),e0.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){let r,a,s,o;e1.copy(e).add(t).multiplyScalar(.5),e2.copy(t).sub(e).normalize(),e3.copy(this.origin).sub(e1);let l=.5*e.distanceTo(t),u=-this.direction.dot(e2),c=e3.dot(this.direction),d=-e3.dot(e2),h=e3.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(r=u*d-c,a=u*c-d,o=l*p,r>=0)if(a>=-o)if(a<=o){let e=1/p;r*=e,a*=e,s=r*(r+u*a+2*c)+a*(u*r+a+2*d)+h}else s=-(r=Math.max(0,-(u*(a=l)+c)))*r+a*(a+2*d)+h;else s=-(r=Math.max(0,-(u*(a=-l)+c)))*r+a*(a+2*d)+h;else a<=-o?(a=(r=Math.max(0,-(-u*l+c)))>0?-l:Math.min(Math.max(-l,-d),l),s=-r*r+a*(a+2*d)+h):a<=o?(r=0,s=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):(a=(r=Math.max(0,-(u*l+c)))>0?l:Math.min(Math.max(-l,-d),l),s=-r*r+a*(a+2*d)+h);else a=u>0?-l:l,s=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*d)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,r),i&&i.copy(e1).addScaledVector(e2,a),s}intersectSphere(e,t){e0.subVectors(e.center,this.origin);let n=e0.dot(this.direction),i=e0.dot(e0)-n*n,r=e.radius*e.radius;if(i>r)return null;let a=Math.sqrt(r-i),s=n-a,o=n+a;return o<0?null:s<0?this.at(o,t):this.at(s,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return!!(0===t||e.normal.dot(this.direction)*t<0)}intersectBox(e,t){let n,i,r,a,s,o,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return(l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),u>=0?(r=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(r=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||r>i||((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),c>=0?(s=(e.min.z-d.z)*c,o=(e.max.z-d.z)*c):(s=(e.max.z-d.z)*c,o=(e.min.z-d.z)*c),n>o||s>i||((s>n||n!=n)&&(n=s),(o<i||i!=i)&&(i=o),i<0)))?null:this.at(n>=0?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,e0)}intersectTriangle(e,t,n,i,r){let a;e4.subVectors(t,e),e5.subVectors(n,e),e6.crossVectors(e4,e5);let s=this.direction.dot(e6);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}e3.subVectors(this.origin,e);let o=a*this.direction.dot(e5.crossVectors(e3,e5));if(o<0)return null;let l=a*this.direction.dot(e4.cross(e3));if(l<0||o+l>s)return null;let u=-a*e3.dot(e6);return u<0?null:this.at(u/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class e9{constructor(e,t,n,i,r,a,s,o,l,u,c,d,h,p,f,m){e9.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,s,o,l,u,c,d,h,p,f,m)}set(e,t,n,i,r,a,s,o,l,u,c,d,h,p,f,m){let g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=s,g[13]=o,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new e9().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/e7.setFromMatrixColumn(e,0).length(),r=1/e7.setFromMatrixColumn(e,1).length(),a=1/e7.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),s=Math.sin(n),o=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){let e=a*u,n=a*c,i=s*u,r=s*c;t[0]=o*u,t[4]=-o*c,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-s*o,t[2]=r-e*l,t[6]=i+n*l,t[10]=a*o}else if("YXZ"===e.order){let e=o*u,n=o*c,i=l*u,r=l*c;t[0]=e+r*s,t[4]=i*s-n,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-s,t[2]=n*s-i,t[6]=r+e*s,t[10]=a*o}else if("ZXY"===e.order){let e=o*u,n=o*c,i=l*u,r=l*c;t[0]=e-r*s,t[4]=-a*c,t[8]=i+n*s,t[1]=n+i*s,t[5]=a*u,t[9]=r-e*s,t[2]=-a*l,t[6]=s,t[10]=a*o}else if("ZYX"===e.order){let e=a*u,n=a*c,i=s*u,r=s*c;t[0]=o*u,t[4]=i*l-n,t[8]=e*l+r,t[1]=o*c,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=s*o,t[10]=a*o}else if("YZX"===e.order){let e=a*o,n=a*l,i=s*o,r=s*l;t[0]=o*u,t[4]=r-e*c,t[8]=i*c+n,t[1]=c,t[5]=a*u,t[9]=-s*u,t[2]=-l*u,t[6]=n*c+i,t[10]=e-r*c}else if("XZY"===e.order){let e=a*o,n=a*l,i=s*o,r=s*l;t[0]=o*u,t[4]=-c,t[8]=l*u,t[1]=e*c+r,t[5]=a*u,t[9]=n*c-i,t[2]=i*c-n,t[6]=s*u,t[10]=r*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tt,e,tn)}lookAt(e,t,n){let i=this.elements;return ta.subVectors(e,t),0===ta.lengthSq()&&(ta.z=1),ta.normalize(),ti.crossVectors(n,ta),0===ti.lengthSq()&&(1===Math.abs(n.z)?ta.x+=1e-4:ta.z+=1e-4,ta.normalize(),ti.crossVectors(n,ta)),ti.normalize(),tr.crossVectors(ta,ti),i[0]=ti.x,i[4]=tr.x,i[8]=ta.x,i[1]=ti.y,i[5]=tr.y,i[9]=ta.y,i[2]=ti.z,i[6]=tr.z,i[10]=ta.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,a=n[0],s=n[4],o=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],_=i[0],S=i[4],w=i[8],M=i[12],T=i[1],E=i[5],A=i[9],C=i[13],I=i[2],P=i[6],k=i[10],R=i[14],N=i[3],D=i[7],L=i[11],U=i[15];return r[0]=a*_+s*T+o*I+l*N,r[4]=a*S+s*E+o*P+l*D,r[8]=a*w+s*A+o*k+l*L,r[12]=a*M+s*C+o*R+l*U,r[1]=u*_+c*T+d*I+h*N,r[5]=u*S+c*E+d*P+h*D,r[9]=u*w+c*A+d*k+h*L,r[13]=u*M+c*C+d*R+h*U,r[2]=p*_+f*T+m*I+g*N,r[6]=p*S+f*E+m*P+g*D,r[10]=p*w+f*A+m*k+g*L,r[14]=p*M+f*C+m*R+g*U,r[3]=v*_+y*T+x*I+b*N,r[7]=v*S+y*E+x*P+b*D,r[11]=v*w+y*A+x*k+b*L,r[15]=v*M+y*C+x*R+b*U,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],s=e[5],o=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(r*o*c-i*l*c-r*s*d+n*l*d+i*s*h-n*o*h)+e[7]*(t*o*h-t*l*d+r*a*d-i*a*h+i*l*u-r*o*u)+e[11]*(t*l*c-t*s*h-r*a*c+n*a*h+r*s*u-n*l*u)+e[15]*(-i*s*u-t*o*c+t*s*d+i*a*c-n*a*d+n*o*u)}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=c*m*l-f*d*l+f*o*h-s*m*h-c*o*g+s*d*g,y=p*d*l-u*m*l-p*o*h+a*m*h+u*o*g-a*d*g,x=u*f*l-p*c*l+p*s*h-a*f*h-u*s*g+a*c*g,b=p*c*o-u*f*o-p*s*d+a*f*d+u*s*m-a*c*m,_=t*v+n*y+i*x+r*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let S=1/_;return e[0]=v*S,e[1]=(f*d*r-c*m*r-f*i*h+n*m*h+c*i*g-n*d*g)*S,e[2]=(s*m*r-f*o*r+f*i*l-n*m*l-s*i*g+n*o*g)*S,e[3]=(c*o*r-s*d*r-c*i*l+n*d*l+s*i*h-n*o*h)*S,e[4]=y*S,e[5]=(u*m*r-p*d*r+p*i*h-t*m*h-u*i*g+t*d*g)*S,e[6]=(p*o*r-a*m*r-p*i*l+t*m*l+a*i*g-t*o*g)*S,e[7]=(a*d*r-u*o*r+u*i*l-t*d*l-a*i*h+t*o*h)*S,e[8]=x*S,e[9]=(p*c*r-u*f*r-p*n*h+t*f*h+u*n*g-t*c*g)*S,e[10]=(a*f*r-p*s*r+p*n*l-t*f*l-a*n*g+t*s*g)*S,e[11]=(u*s*r-a*c*r-u*n*l+t*c*l+a*n*h-t*s*h)*S,e[12]=b*S,e[13]=(u*f*i-p*c*i+p*n*d-t*f*d-u*n*m+t*c*m)*S,e[14]=(p*s*i-a*f*i-p*n*o+t*f*o+a*n*m-t*s*m)*S,e[15]=(a*c*i-u*s*i+u*n*o-t*c*o-a*n*d+t*s*d)*S,this}scale(e){let t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,s=e.y,o=e.z,l=r*a,u=r*s;return this.set(l*a+n,l*s-i*o,l*o+i*s,0,l*s+i*o,u*s+n,u*o-i*a,0,l*o-i*s,u*o+i*a,r*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,r=t._x,a=t._y,s=t._z,o=t._w,l=r+r,u=a+a,c=s+s,d=r*l,h=r*u,p=r*c,f=a*u,m=a*c,g=s*c,v=o*l,y=o*u,x=o*c,b=n.x,_=n.y,S=n.z;return i[0]=(1-(f+g))*b,i[1]=(h+x)*b,i[2]=(p-y)*b,i[3]=0,i[4]=(h-x)*_,i[5]=(1-(d+g))*_,i[6]=(m+v)*_,i[7]=0,i[8]=(p+y)*S,i[9]=(m-v)*S,i[10]=(1-(d+f))*S,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,r=e7.set(i[0],i[1],i[2]).length(),a=e7.set(i[4],i[5],i[6]).length(),s=e7.set(i[8],i[9],i[10]).length();0>this.determinant()&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],te.copy(this);let o=1/r,l=1/a,u=1/s;return te.elements[0]*=o,te.elements[1]*=o,te.elements[2]*=o,te.elements[4]*=l,te.elements[5]*=l,te.elements[6]*=l,te.elements[8]*=u,te.elements[9]*=u,te.elements[10]*=u,t.setFromRotationMatrix(te),n.x=r,n.y=a,n.z=s,this}makePerspective(e,t,n,i,r,a,s=2e3,o=!1){let l,u,c=this.elements;if(o)l=r/(a-r),u=a*r/(a-r);else if(2e3===s)l=-(a+r)/(a-r),u=-2*a*r/(a-r);else if(2001===s)l=-a/(a-r),u=-a*r/(a-r);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=2*r/(t-e),c[4]=0,c[8]=(t+e)/(t-e),c[12]=0,c[1]=0,c[5]=2*r/(n-i),c[9]=(n+i)/(n-i),c[13]=0,c[2]=0,c[6]=0,c[10]=l,c[14]=u,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,i,r,a,s=2e3,o=!1){let l,u,c=this.elements;if(o)l=1/(a-r),u=a/(a-r);else if(2e3===s)l=-2/(a-r),u=-(a+r)/(a-r);else if(2001===s)l=-1/(a-r),u=-r/(a-r);else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=2/(t-e),c[4]=0,c[8]=0,c[12]=-(t+e)/(t-e),c[1]=0,c[5]=2/(n-i),c[9]=0,c[13]=-(n+i)/(n-i),c[2]=0,c[6]=0,c[10]=l,c[14]=u,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}let e7=new ed,te=new e9,tt=new ed(0,0,0),tn=new ed(1,1,1),ti=new ed,tr=new ed,ta=new ed,ts=new e9,to=new ec;class tl{constructor(e=0,t=0,n=0,i=tl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,r=i[0],a=i[4],s=i[8],o=i[1],l=i[5],u=i[9],c=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(ei(s,-1,1)),.9999999>Math.abs(s)?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-ei(u,-1,1)),.9999999>Math.abs(u)?(this._y=Math.atan2(s,h),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(ei(d,-1,1)),.9999999>Math.abs(d)?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-ei(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(d,h),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(ei(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-ei(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:X("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return ts.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ts,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return to.setFromEuler(this),this.setFromQuaternion(to,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}tl.DEFAULT_ORDER="XYZ";class tu{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&1<<e)!=0}}let tc=0,td=new ed,th=new ec,tp=new e9,tf=new ed,tm=new ed,tg=new ed,tv=new ec,ty=new ed(1,0,0),tx=new ed(0,1,0),tb=new ed(0,0,1),t_={type:"added"},tS={type:"removed"},tw={type:"childadded",child:null},tM={type:"childremoved",child:null};class tT extends J{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tc++}),this.uuid=en(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tT.DEFAULT_UP.clone();const e=new ed,t=new tl,n=new ec,i=new ed(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new e9},normalMatrix:{value:new ef}}),this.matrix=new e9,this.matrixWorld=new e9,this.matrixAutoUpdate=tT.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tT.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new tu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.multiply(th),this}rotateOnWorldAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.premultiply(th),this}rotateX(e){return this.rotateOnAxis(ty,e)}rotateY(e){return this.rotateOnAxis(tx,e)}rotateZ(e){return this.rotateOnAxis(tb,e)}translateOnAxis(e,t){return td.copy(e).applyQuaternion(this.quaternion),this.position.add(td.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ty,e)}translateY(e){return this.translateOnAxis(tx,e)}translateZ(e){return this.translateOnAxis(tb,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(tp.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?tf.copy(e):tf.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),tm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?tp.lookAt(tm,tf,this.up):tp.lookAt(tf,tm,this.up),this.quaternion.setFromRotationMatrix(tp),i&&(tp.extractRotation(i.matrixWorld),th.setFromRotationMatrix(tp),this.quaternion.premultiply(th.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?q("Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(t_),tw.child=e,this.dispatchEvent(tw),tw.child=null):q("Object3D.add: object not an instance of THREE.Object3D.",e),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}let t=this.children.indexOf(e);return -1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(tS),tM.child=e,this.dispatchEvent(tM),tM.child=null),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),tp.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),tp.multiply(e.parent.matrixWorld)),e.applyMatrix4(tp),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(t_),tw.child=e,this.dispatchEvent(tw),tw.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);let i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tm,e,tg),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tm,tv,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){let e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});let i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(e=>({...e})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(i.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);let t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){let n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){let i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){let n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){let t=a(e.geometries),i=a(e.materials),r=a(e.textures),s=a(e.images),o=a(e.shapes),l=a(e.skeletons),u=a(e.animations),c=a(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=i,n;function a(e){let t=[];for(let n in e){let i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){let n=e.children[t];this.add(n.clone())}return this}}tT.DEFAULT_UP=new ed(0,1,0),tT.DEFAULT_MATRIX_AUTO_UPDATE=!0,tT.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let tE=new ed,tA=new ed,tC=new ed,tI=new ed,tP=new ed,tk=new ed,tR=new ed,tN=new ed,tD=new ed,tL=new ed,tU=new eC,tO=new eC,tz=new eC;class tj{constructor(e=new ed,t=new ed,n=new ed){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),tE.subVectors(e,t),i.cross(tE);let r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){tE.subVectors(i,t),tA.subVectors(n,t),tC.subVectors(e,t);let a=tE.dot(tE),s=tE.dot(tA),o=tE.dot(tC),l=tA.dot(tA),u=tA.dot(tC),c=a*l-s*s;if(0===c)return r.set(0,0,0),null;let d=1/c,h=(l*o-s*u)*d,p=(a*u-s*o)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,tI)&&tI.x>=0&&tI.y>=0&&tI.x+tI.y<=1}static getInterpolation(e,t,n,i,r,a,s,o){return null===this.getBarycoord(e,t,n,i,tI)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(r,tI.x),o.addScaledVector(a,tI.y),o.addScaledVector(s,tI.z),o)}static getInterpolatedAttribute(e,t,n,i,r,a){return tU.setScalar(0),tO.setScalar(0),tz.setScalar(0),tU.fromBufferAttribute(e,t),tO.fromBufferAttribute(e,n),tz.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(tU,r.x),a.addScaledVector(tO,r.y),a.addScaledVector(tz,r.z),a}static isFrontFacing(e,t,n,i){return tE.subVectors(n,t),tA.subVectors(e,t),0>tE.cross(tA).dot(i)}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return tE.subVectors(this.c,this.b),tA.subVectors(this.a,this.b),.5*tE.cross(tA).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tj.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tj.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return tj.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return tj.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tj.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n,i,r=this.a,a=this.b,s=this.c;tP.subVectors(a,r),tk.subVectors(s,r),tN.subVectors(e,r);let o=tP.dot(tN),l=tk.dot(tN);if(o<=0&&l<=0)return t.copy(r);tD.subVectors(e,a);let u=tP.dot(tD),c=tk.dot(tD);if(u>=0&&c<=u)return t.copy(a);let d=o*c-u*l;if(d<=0&&o>=0&&u<=0)return n=o/(o-u),t.copy(r).addScaledVector(tP,n);tL.subVectors(e,s);let h=tP.dot(tL),p=tk.dot(tL);if(p>=0&&h<=p)return t.copy(s);let f=h*l-o*p;if(f<=0&&l>=0&&p<=0)return i=l/(l-p),t.copy(r).addScaledVector(tk,i);let m=u*p-h*c;if(m<=0&&c-u>=0&&h-p>=0)return tR.subVectors(s,a),i=(c-u)/(c-u+(h-p)),t.copy(a).addScaledVector(tR,i);let g=1/(m+f+d);return n=f*g,i=d*g,t.copy(r).addScaledVector(tP,n).addScaledVector(tk,i)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tF={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32},t$={h:0,s:0,l:0},tB={h:0,s:0,l:0};function tV(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*6*(2/3-n):e}class tG{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){return void 0===t&&void 0===n?e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e):this.setRGB(e,t,n),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=P){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ey.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=ey.workingColorSpace){return this.r=e,this.g=t,this.b=n,ey.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=ey.workingColorSpace){if(e=er(e,1),t=ei(t,0,1),n=ei(n,0,1),0===t)this.r=this.g=this.b=n;else{let i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=tV(r,i,e+1/3),this.g=tV(r,i,e),this.b=tV(r,i,e-1/3)}return ey.colorSpaceToWorking(this,i),this}setStyle(e,t=P){let n;function i(t){void 0!==t&&1>parseFloat(t)&&X("Color: Alpha component of "+e+" will be ignored.")}if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let r,a=n[1],s=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:X("Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=n[1],r=i.length;if(3===r)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,t);if(6===r)return this.setHex(parseInt(i,16),t);X("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=P){let n=tF[e.toLowerCase()];return void 0!==n?this.setHex(n,t):X("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ex(e.r),this.g=ex(e.g),this.b=ex(e.b),this}copyLinearToSRGB(e){return this.r=eb(e.r),this.g=eb(e.g),this.b=eb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=P){return ey.workingToColorSpace(tH.copy(this),e),65536*Math.round(ei(255*tH.r,0,255))+256*Math.round(ei(255*tH.g,0,255))+Math.round(ei(255*tH.b,0,255))}getHexString(e=P){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ey.workingColorSpace){let n,i;ey.workingToColorSpace(tH.copy(this),t);let r=tH.r,a=tH.g,s=tH.b,o=Math.max(r,a,s),l=Math.min(r,a,s),u=(l+o)/2;if(l===o)n=0,i=0;else{let e=o-l;switch(i=u<=.5?e/(o+l):e/(2-o-l),o){case r:n=(a-s)/e+6*(a<s);break;case a:n=(s-r)/e+2;break;case s:n=(r-a)/e+4}n/=6}return e.h=n,e.s=i,e.l=u,e}getRGB(e,t=ey.workingColorSpace){return ey.workingToColorSpace(tH.copy(this),t),e.r=tH.r,e.g=tH.g,e.b=tH.b,e}getStyle(e=P){ey.workingToColorSpace(tH.copy(this),e);let t=tH.r,n=tH.g,i=tH.b;return e!==P?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(e,t,n){return this.getHSL(t$),this.setHSL(t$.h+e,t$.s+t,t$.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(t$),e.getHSL(tB);let n=ea(t$.h,tB.h,t),i=ea(t$.s,tB.s,t),r=ea(t$.l,tB.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let tH=new tG;tG.NAMES=tF;let tW=0;class tZ extends J{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tW++}),this.uuid=en(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tG(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){X(`Material: parameter '${t}' has value of undefined.`);continue}let i=this[t];if(void 0===i){X(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function i(e){let t=[];for(let n in e){let i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let e=t.length;n=Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class tX extends tZ{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tG(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}let tq=function(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let e=0;e<256;++e){let t=e-127;t<-27?(i[e]=0,i[256|e]=32768,r[e]=24,r[256|e]=24):t<-14?(i[e]=1024>>-t-14,i[256|e]=1024>>-t-14|32768,r[e]=-t-1,r[256|e]=-t-1):t<=15?(i[e]=t+15<<10,i[256|e]=t+15<<10|32768,r[e]=13,r[256|e]=13):t<128?(i[e]=31744,i[256|e]=64512,r[e]=24,r[256|e]=24):(i[e]=31744,i[256|e]=64512,r[e]=13,r[256|e]=13)}let a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;(8388608&t)==0;)t<<=1,n-=8388608;t&=-8388609,n+=0x38800000,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=0x38000000+(e-1024<<13);for(let e=1;e<31;++e)s[e]=e<<23;s[31]=0x47800000,s[32]=0x80000000;for(let e=33;e<63;++e)s[e]=0x80000000+(e-32<<23);s[63]=0xc7800000;for(let e=1;e<64;++e)32!==e&&(o[e]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}();function tY(e){Math.abs(e)>65504&&X("DataUtils.toHalfFloat(): Value out of range."),e=ei(e,-65504,65504),tq.floatView[0]=e;let t=tq.uint32View[0],n=t>>23&511;return tq.baseTable[n]+((8388607&t)>>tq.shiftTable[n])}function tJ(e){let t=e>>10;return tq.uint32View[0]=tq.mantissaTable[tq.offsetTable[t]+(1023&e)]+tq.exponentTable[t],tq.floatView[0]}class tK{static toHalfFloat(e){return tY(e)}static fromHalfFloat(e){return tJ(e)}}let tQ=new ed,t0=new eu,t1=0;class t2{constructor(e,t,n=!1){if(Array.isArray(e))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:t1++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)t0.fromBufferAttribute(this,t),t0.applyMatrix3(e),this.setXY(t,t0.x,t0.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)tQ.fromBufferAttribute(this,t),tQ.applyMatrix3(e),this.setXYZ(t,tQ.x,tQ.y,tQ.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)tQ.fromBufferAttribute(this,t),tQ.applyMatrix4(e),this.setXYZ(t,tQ.x,tQ.y,tQ.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)tQ.fromBufferAttribute(this,t),tQ.applyNormalMatrix(e),this.setXYZ(t,tQ.x,tQ.y,tQ.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)tQ.fromBufferAttribute(this,t),tQ.transformDirection(e),this.setXYZ(t,tQ.x,tQ.y,tQ.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=es(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=eo(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array),r=eo(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class t3 extends t2{constructor(e,t,n){super(new Int8Array(e),t,n)}}class t4 extends t2{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class t5 extends t2{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class t6 extends t2{constructor(e,t,n){super(new Int16Array(e),t,n)}}class t8 extends t2{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class t9 extends t2{constructor(e,t,n){super(new Int32Array(e),t,n)}}class t7 extends t2{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class ne extends t2{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=tJ(this.array[e*this.itemSize]);return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize]=tY(t),this}getY(e){let t=tJ(this.array[e*this.itemSize+1]);return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+1]=tY(t),this}getZ(e){let t=tJ(this.array[e*this.itemSize+2]);return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+2]=tY(t),this}getW(e){let t=tJ(this.array[e*this.itemSize+3]);return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=eo(t,this.array)),this.array[e*this.itemSize+3]=tY(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array)),this.array[e+0]=tY(t),this.array[e+1]=tY(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array)),this.array[e+0]=tY(t),this.array[e+1]=tY(n),this.array[e+2]=tY(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array),r=eo(r,this.array)),this.array[e+0]=tY(t),this.array[e+1]=tY(n),this.array[e+2]=tY(i),this.array[e+3]=tY(r),this}}class nt extends t2{constructor(e,t,n){super(new Float32Array(e),t,n)}}let nn=0,ni=new e9,nr=new tT,na=new ed,ns=new eL,no=new eL,nl=new ed;class nu extends J{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nn++}),this.uuid=en(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(z(e)?t7:t8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let t=new ef().getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}let i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ni.makeRotationFromQuaternion(e),this.applyMatrix4(ni),this}rotateX(e){return ni.makeRotationX(e),this.applyMatrix4(ni),this}rotateY(e){return ni.makeRotationY(e),this.applyMatrix4(ni),this}rotateZ(e){return ni.makeRotationZ(e),this.applyMatrix4(ni),this}translate(e,t,n){return ni.makeTranslation(e,t,n),this.applyMatrix4(ni),this}scale(e,t,n){return ni.makeScale(e,t,n),this.applyMatrix4(ni),this}lookAt(e){return nr.lookAt(e),nr.updateMatrix(),this.applyMatrix4(nr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(na).negate(),this.translate(na.x,na.y,na.z),this}setFromPoints(e){let t=this.getAttribute("position");if(void 0===t){let t=[];for(let n=0,i=e.length;n<i;n++){let i=e[n];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new nt(t,3))}else{let n=Math.min(e.length,t.count);for(let i=0;i<n;i++){let n=e[i];t.setXYZ(i,n.x,n.y,n.z||0)}e.length>t.count&&X("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new eL);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){q("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ed(-1/0,-1/0,-1/0),new ed(Infinity,Infinity,Infinity));return}if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];ns.setFromBufferAttribute(n),this.morphTargetsRelative?(nl.addVectors(this.boundingBox.min,ns.min),this.boundingBox.expandByPoint(nl),nl.addVectors(this.boundingBox.max,ns.max),this.boundingBox.expandByPoint(nl)):(this.boundingBox.expandByPoint(ns.min),this.boundingBox.expandByPoint(ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&q('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new eQ);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){q("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ed,1/0);return}if(e){let n=this.boundingSphere.center;if(ns.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];no.setFromBufferAttribute(n),this.morphTargetsRelative?(nl.addVectors(ns.min,no.min),ns.expandByPoint(nl),nl.addVectors(ns.max,no.max),ns.expandByPoint(nl)):(ns.expandByPoint(no.min),ns.expandByPoint(no.max))}ns.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)nl.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(nl));if(t)for(let r=0,a=t.length;r<a;r++){let a=t[r],s=this.morphTargetsRelative;for(let t=0,r=a.count;t<r;t++)nl.fromBufferAttribute(a,t),s&&(na.fromBufferAttribute(e,t),nl.add(na)),i=Math.max(i,n.distanceToSquared(nl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&q('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void q("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new t2(new Float32Array(4*n.count),4));let a=this.getAttribute("tangent"),s=[],o=[];for(let e=0;e<n.count;e++)s[e]=new ed,o[e]=new ed;let l=new ed,u=new ed,c=new ed,d=new eu,h=new eu,p=new eu,f=new ed,m=new ed,g=this.groups;0===g.length&&(g=[{start:0,count:e.count}]);for(let t=0,i=g.length;t<i;++t){let i=g[t],a=i.start,v=i.count;for(let t=a,i=a+v;t<i;t+=3)!function(e,t,i){l.fromBufferAttribute(n,e),u.fromBufferAttribute(n,t),c.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),u.sub(l),c.sub(l),h.sub(d),p.sub(d);let a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(f.copy(u).multiplyScalar(p.y).addScaledVector(c,-h.y).multiplyScalar(a),m.copy(c).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(a),s[e].add(f),s[t].add(f),s[i].add(f),o[e].add(m),o[t].add(m),o[i].add(m))}(e.getX(t+0),e.getX(t+1),e.getX(t+2))}let v=new ed,y=new ed,x=new ed,b=new ed;function _(e){x.fromBufferAttribute(i,e),b.copy(x);let t=s[e];v.copy(t),v.sub(x.multiplyScalar(x.dot(t))).normalize(),y.crossVectors(b,t);let n=y.dot(o[e]);a.setXYZW(e,v.x,v.y,v.z,n<0?-1:1)}for(let t=0,n=g.length;t<n;++t){let n=g[t],i=n.start,r=n.count;for(let t=i,n=i+r;t<n;t+=3)_(e.getX(t+0)),_(e.getX(t+1)),_(e.getX(t+2))}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new t2(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);let i=new ed,r=new ed,a=new ed,s=new ed,o=new ed,l=new ed,u=new ed,c=new ed;if(e)for(let d=0,h=e.count;d<h;d+=3){let h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,f),u.subVectors(a,r),c.subVectors(i,r),u.cross(c),s.fromBufferAttribute(n,h),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),s.add(u),o.add(u),l.add(u),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,s=t.count;e<s;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),u.subVectors(a,r),c.subVectors(i,r),u.cross(c),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)nl.fromBufferAttribute(e,t),nl.normalize(),e.setXYZ(t,nl.x,nl.y,nl.z)}toNonIndexed(){function e(e,t){let n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i),s=0,o=0;for(let r=0,l=t.length;r<l;r++){s=e.isInterleavedBufferAttribute?t[r]*e.data.stride+e.offset:t[r]*i;for(let e=0;e<i;e++)a[o++]=n[s++]}return new t2(a,i,r)}if(null===this.index)return X("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new nu,n=this.index.array,i=this.attributes;for(let r in i){let a=e(i[r],n);t.setAttribute(r,a)}let r=this.morphAttributes;for(let i in r){let a=[],s=r[i];for(let t=0,i=s.length;t<i;t++){let i=e(s[t],n);a.push(i)}t.morphAttributes[i]=a}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let e=0,n=a.length;e<n;e++){let n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){let e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let t=this.parameters;for(let n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let t in n){let i=n[t];e.data.attributes[t]=i.toJSON(e.data)}let i={},r=!1;for(let t in this.morphAttributes){let n=this.morphAttributes[t],a=[];for(let t=0,i=n.length;t<i;t++){let i=n[t];a.push(i.toJSON(e.data))}a.length>0&&(i[t]=a,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let s=this.boundingSphere;return null!==s&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone());let i=e.attributes;for(let e in i){let n=i[e];this.setAttribute(e,n.clone(t))}let r=e.morphAttributes;for(let e in r){let n=[],i=r[e];for(let e=0,r=i.length;e<r;e++)n.push(i[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let e=0,t=a.length;e<t;e++){let t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}let s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());let o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}let nc=new e9,nd=new e8,nh=new eQ,np=new ed,nf=new ed,nm=new ed,ng=new ed,nv=new ed,ny=new ed,nx=new ed,nb=new ed;class n_ extends tT{constructor(e=new nu,t=new tX){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){let n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);let s=this.morphTargetInfluences;if(r&&s){ny.set(0,0,0);for(let n=0,i=r.length;n<i;n++){let i=s[n],o=r[n];0!==i&&(nv.fromBufferAttribute(o,e),a?ny.addScaledVector(nv,i):ny.addScaledVector(nv.sub(t),i))}t.add(ny)}return t}raycast(e,t){let n=this.geometry,i=this.material,r=this.matrixWorld;void 0===i||(null===n.boundingSphere&&n.computeBoundingSphere(),nh.copy(n.boundingSphere),nh.applyMatrix4(r),nd.copy(e.ray).recast(e.near),!1===nh.containsPoint(nd.origin)&&(null===nd.intersectSphere(nh,np)||nd.origin.distanceToSquared(np)>(e.far-e.near)**2)||(nc.copy(r).invert(),nd.copy(e.ray).applyMatrix4(nc),(null===n.boundingBox||!1!==nd.intersectsBox(n.boundingBox))&&this._computeIntersections(e,t,nd)))}_computeIntersections(e,t,n){let i,r=this.geometry,a=this.material,s=r.index,o=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,c=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==s)if(Array.isArray(a))for(let r=0,o=d.length;r<o;r++){let o=d[r],p=a[o.materialIndex],f=Math.max(o.start,h.start),m=Math.min(s.count,Math.min(o.start+o.count,h.start+h.count));for(let r=f;r<m;r+=3)(i=nS(this,p,e,n,l,u,c,s.getX(r),s.getX(r+1),s.getX(r+2)))&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,t.push(i))}else{let r=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);for(let d=r;d<o;d+=3)(i=nS(this,a,e,n,l,u,c,s.getX(d),s.getX(d+1),s.getX(d+2)))&&(i.faceIndex=Math.floor(d/3),t.push(i))}else if(void 0!==o)if(Array.isArray(a))for(let r=0,s=d.length;r<s;r++){let s=d[r],p=a[s.materialIndex],f=Math.max(s.start,h.start),m=Math.min(o.count,Math.min(s.start+s.count,h.start+h.count));for(let r=f;r<m;r+=3)(i=nS(this,p,e,n,l,u,c,r,r+1,r+2))&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=s.materialIndex,t.push(i))}else{let r=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);for(let o=r;o<s;o+=3)(i=nS(this,a,e,n,l,u,c,o,o+1,o+2))&&(i.faceIndex=Math.floor(o/3),t.push(i))}}}function nS(e,t,n,i,r,a,s,o,l,u){e.getVertexPosition(o,nf),e.getVertexPosition(l,nm),e.getVertexPosition(u,ng);let c=function(e,t,n,i,r,a,s,o){if(null===(1===t.side?i.intersectTriangle(s,a,r,!0,o):i.intersectTriangle(r,a,s,0===t.side,o)))return null;nb.copy(o),nb.applyMatrix4(e.matrixWorld);let l=n.ray.origin.distanceTo(nb);return l<n.near||l>n.far?null:{distance:l,point:nb.clone(),object:e}}(e,t,n,i,nf,nm,ng,nx);if(c){let e=new ed;tj.getBarycoord(nx,nf,nm,ng,e),r&&(c.uv=tj.getInterpolatedAttribute(r,o,l,u,e,new eu)),a&&(c.uv1=tj.getInterpolatedAttribute(a,o,l,u,e,new eu)),s&&(c.normal=tj.getInterpolatedAttribute(s,o,l,u,e,new ed),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));let t={a:o,b:l,c:u,normal:new ed,materialIndex:0};tj.getNormal(nf,nm,ng,t.normal),c.face=t,c.barycoord=e}return c}class nw extends nu{constructor(e=1,t=1,n=1,i=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const s=this;i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],c=[];let d=0,h=0;function p(e,t,n,i,r,a,p,f,m,g,v){let y=a/m,x=p/g,b=a/2,_=p/2,S=f/2,w=m+1,M=g+1,T=0,E=0,A=new ed;for(let a=0;a<M;a++){let s=a*x-_;for(let o=0;o<w;o++){let d=o*y-b;A[e]=d*i,A[t]=s*r,A[n]=S,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=f>0?1:-1,u.push(A.x,A.y,A.z),c.push(o/m),c.push(1-a/g),T+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){let n=d+t+w*e,i=d+t+w*(e+1),r=d+(t+1)+w*(e+1),a=d+(t+1)+w*e;o.push(n,i,a),o.push(i,r,a),E+=6}s.addGroup(h,E,v),h+=E,d+=T}p("z","y","x",-1,-1,n,t,e,a=Math.floor(a),r,0),p("z","y","x",1,-1,n,t,-e,a,r,1),p("x","z","y",1,1,e,n,t,i,a,2),p("x","z","y",1,-1,e,n,-t,i,a,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(o),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nw(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nM(e){let t={};for(let n in e)for(let i in t[n]={},e[n]){let r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(X("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}function nT(e){let t={};for(let n=0;n<e.length;n++){let i=nM(e[n]);for(let e in i)t[e]=i[e]}return t}function nE(e){let t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:ey.workingColorSpace}let nA={clone:nM,merge:nT};class nC extends tZ{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nM(e.uniforms),this.uniformsGroups=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);for(let n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){let i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let n={};for(let e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class nI extends tT{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new e9,this.projectionMatrix=new e9,this.projectionMatrixInverse=new e9,this.coordinateSystem=2e3,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let nP=new ed,nk=new eu,nR=new eu;class nN extends nI{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*et*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*ee*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*et*Math.atan(Math.tan(.5*ee*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){nP.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(nP.x,nP.y).multiplyScalar(-e/nP.z),nP.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(nP.x,nP.y).multiplyScalar(-e/nP.z)}getViewSize(e,t){return this.getViewBounds(e,nk,nR),t.subVectors(nR,nk)}setViewOffset(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*ee*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){let e=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/e,t-=a.offsetY*n/s,i*=a.width/e,n*=a.height/s}let s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class nD extends tT{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new nN(-90,1,e,t);i.layers=this.layers,this.add(i);const r=new nN(-90,1,e,t);r.layers=this.layers,this.add(r);const a=new nN(-90,1,e,t);a.layers=this.layers,this.add(a);const s=new nN(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new nN(-90,1,e,t);o.layers=this.layers,this.add(o);const l=new nN(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[n,i,r,a,s,o]=t;for(let e of t)this.remove(e);if(2e3===e)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else if(2001===e)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();let{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[r,a,s,o,l,u]=this.children,c=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;let f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,s),e.setRenderTarget(n,3,i),e.render(t,o),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,i),e.render(t,u),e.setRenderTarget(c,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class nL extends eA{constructor(e=[],t=301,n,i,r,a,s,o,l,u){super(e,t,n,i,r,a,s,o,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nU extends eP{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1};this.texture=new nL([n,n,n,n,n,n]),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new nw(5,5,5),r=new nC({name:"CubemapFromEquirect",uniforms:nM(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;let a=new n_(i,r),s=t.minFilter;return 1008===t.minFilter&&(t.minFilter=1006),new nD(1,10,this).update(e,a),t.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){let r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(r)}}class nO extends tT{constructor(){super(),this.isGroup=!0,this.type="Group"}}let nz={type:"move"};class nj{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new nO,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new nO,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ed,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ed),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new nO,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ed,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ed),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,a=null,s=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){for(let i of(a=!0,e.hand.values())){let e=t.getJointPose(i,n),r=this._getHandJoint(l,i);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}let i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position);l.inputState.pinching&&s>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1);null!==s&&(null===(i=t.getPose(e.targetRaySpace,n))&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(nz)))}return null!==s&&(s.visible=null!==i),null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new nO;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class nF{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new tG(e),this.density=t}clone(){return new nF(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class n${constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new tG(e),this.near=t,this.far=n}clone(){return new n$(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class nB extends tT{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new tl,this.environmentIntensity=1,this.environmentRotation=new tl,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class nV{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=en()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=en()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=en()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}let nG=new ed;class nH{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)nG.fromBufferAttribute(this,t),nG.applyMatrix4(e),this.setXYZ(t,nG.x,nG.y,nG.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)nG.fromBufferAttribute(this,t),nG.applyNormalMatrix(e),this.setXYZ(t,nG.x,nG.y,nG.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)nG.fromBufferAttribute(this,t),nG.transformDirection(e),this.setXYZ(t,nG.x,nG.y,nG.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=es(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=eo(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=eo(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=eo(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=eo(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=eo(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=es(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=es(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=es(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=es(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=eo(t,this.array),n=eo(n,this.array),i=eo(i,this.array),r=eo(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nH(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{Z("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new t2(new this.array.constructor(e),this.itemSize,this.normalized)}}toJSON(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{Z("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}}class nW extends tZ{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tG(0xffffff),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nZ=new ed,nX=new ed,nq=new ed,nY=new eu,nJ=new eu,nK=new e9,nQ=new ed,n0=new ed,n1=new ed,n2=new eu,n3=new eu,n4=new eu;class n5 extends tT{constructor(e=new nW){if(super(),this.isSprite=!0,this.type="Sprite",void 0===n){n=new nu;const e=new nV(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);n.setIndex([0,1,2,0,2,3]),n.setAttribute("position",new nH(e,3,0,!1)),n.setAttribute("uv",new nH(e,2,3,!1))}this.geometry=n,this.material=e,this.center=new eu(.5,.5),this.count=1}raycast(e,t){let n,i;null===e.camera&&q('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nX.setFromMatrixScale(this.matrixWorld),nK.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nq.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&nX.multiplyScalar(-nq.z);let r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));let a=this.center;n6(nQ.set(-.5,-.5,0),nq,a,nX,n,i),n6(n0.set(.5,-.5,0),nq,a,nX,n,i),n6(n1.set(.5,.5,0),nq,a,nX,n,i),n2.set(0,0),n3.set(1,0),n4.set(1,1);let s=e.ray.intersectTriangle(nQ,n0,n1,!1,nZ);if(null===s&&(n6(n0.set(-.5,.5,0),nq,a,nX,n,i),n3.set(0,1),null===(s=e.ray.intersectTriangle(nQ,n1,n0,!1,nZ))))return;let o=e.ray.origin.distanceTo(nZ);o<e.near||o>e.far||t.push({distance:o,point:nZ.clone(),uv:tj.getInterpolation(nZ,nQ,n0,n1,n2,n3,n4,new eu),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function n6(e,t,n,i,r,a){nY.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(nJ.x=a*nY.x-r*nY.y,nJ.y=r*nY.x+a*nY.y):nJ.copy(nY),e.copy(t),e.x+=nJ.x,e.y+=nJ.y,e.applyMatrix4(nK)}let n8=new ed,n9=new ed;class n7 extends tT{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let e=0,n=t.length;e<n;e++){let n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){let i;t=Math.abs(t);let r=this.levels;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){let t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){let e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){n8.setFromMatrixPosition(this.matrixWorld);let n=e.ray.origin.distanceTo(n8);this.getObjectForDistance(n).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){let n,i;n8.setFromMatrixPosition(e.matrixWorld),n9.setFromMatrixPosition(this.matrixWorld);let r=n8.distanceTo(n9)/e.zoom;for(n=1,t[0].object.visible=!0,i=t.length;n<i;n++){let e=t[n].distance;if(t[n].object.visible&&(e-=e*t[n].hysteresis),r>=e)t[n-1].object.visible=!1,t[n].object.visible=!0;else break}for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}}toJSON(e){let t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];let n=this.levels;for(let e=0,i=n.length;e<i;e++){let i=n[e];t.object.levels.push({object:i.object.uuid,distance:i.distance,hysteresis:i.hysteresis})}return t}}let ie=new ed,it=new eC,ii=new eC,ir=new ed,ia=new e9,is=new ed,io=new eQ,il=new e9,iu=new e8;class ic extends n_{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=C,this.bindMatrix=new e9,this.bindMatrixInverse=new e9,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;null===this.boundingBox&&(this.boundingBox=new eL),this.boundingBox.makeEmpty();let t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,is),this.boundingBox.expandByPoint(is)}computeBoundingSphere(){let e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new eQ),this.boundingSphere.makeEmpty();let t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,is),this.boundingSphere.expandByPoint(is)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let n=this.material,i=this.matrixWorld;void 0===n||(null===this.boundingSphere&&this.computeBoundingSphere(),io.copy(this.boundingSphere),io.applyMatrix4(i),!1===e.ray.intersectsSphere(io)||(il.copy(i).invert(),iu.copy(e.ray).applyMatrix4(il),(null===this.boundingBox||!1!==iu.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,iu)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new eC,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);let i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===C?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===I?this.bindMatrixInverse.copy(this.bindMatrix).invert():X("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){let n=this.skeleton,i=this.geometry;it.fromBufferAttribute(i.attributes.skinIndex,e),ii.fromBufferAttribute(i.attributes.skinWeight,e),ie.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){let i=ii.getComponent(e);if(0!==i){let r=it.getComponent(e);ia.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(ir.copy(ie).applyMatrix4(ia),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}class id extends tT{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ih extends eA{constructor(e=null,t=1,n=1,i,r,a,s,o,l=1003,u=1003,c,d){super(null,a,s,o,l,u,i,r,c,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let ip=new e9,im=new e9;class ig{constructor(e=[],t=[]){this.uuid=en(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){X("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new e9)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let t=new e9;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=e.length;i<r;i++){let r=e[i]?e[i].matrixWorld:im;ip.multiplyMatrices(r,t[i]),ip.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new ig(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length),t=new Float32Array((e=Math.max(e=4*Math.ceil(e/4),4))*e*4);t.set(this.boneMatrices);let n=new ih(t,e,e,1023,1015);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let i=e.bones[n],r=t[i];void 0===r&&(X("Skeleton: No bone found with UUID:",i),r=new id),this.bones.push(r),this.boneInverses.push(new e9().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){let r=t[i];e.bones.push(r.uuid);let a=n[i];e.boneInverses.push(a.toArray())}return e}}class iv extends t2{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}let iy=new e9,ix=new e9,ib=[],i_=new eL,iS=new e9,iw=new n_,iM=new eQ;class iT extends n_{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new iv(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,iS)}computeBoundingBox(){let e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new eL),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,iy),i_.copy(e.boundingBox).applyMatrix4(iy),this.boundingBox.union(i_)}computeBoundingSphere(){let e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new eQ),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,iy),iM.copy(e.boundingSphere).applyMatrix4(iy),this.boundingSphere.union(iM)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){let n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=e*(n.length+1)+1;for(let e=0;e<n.length;e++)n[e]=i[r+e]}raycast(e,t){let n=this.matrixWorld,i=this.count;if((iw.geometry=this.geometry,iw.material=this.material,void 0!==iw.material)&&(null===this.boundingSphere&&this.computeBoundingSphere(),iM.copy(this.boundingSphere),iM.applyMatrix4(n),!1!==e.ray.intersectsSphere(iM)))for(let r=0;r<i;r++){this.getMatrixAt(r,iy),ix.multiplyMatrices(n,iy),iw.matrixWorld=ix,iw.raycast(e,ib);for(let e=0,n=ib.length;e<n;e++){let n=ib[e];n.instanceId=r,n.object=this,t.push(n)}ib.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new iv(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){let n=t.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new ih(new Float32Array(i*this.count),i,this.count,1028,1015));let r=this.morphTexture.source.data.data,a=0;for(let e=0;e<n.length;e++)a+=n[e];let s=this.geometry.morphTargetsRelative?1:1-a,o=i*e;r[o]=s,r.set(n,o+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}let iE=new ed,iA=new ed,iC=new ef;class iI{constructor(e=new ed(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=iE.subVectors(n,t).cross(iA.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let n=e.delta(iE),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||iC.getNormalMatrix(e),i=this.coplanarPoint(iE).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}let iP=new eQ,ik=new eu(.5,.5),iR=new ed;class iN{constructor(e=new iI,t=new iI,n=new iI,i=new iI,r=new iI,a=new iI){this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(a),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3,n=!1){let i=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],l=r[3],u=r[4],c=r[5],d=r[6],h=r[7],p=r[8],f=r[9],m=r[10],g=r[11],v=r[12],y=r[13],x=r[14],b=r[15];if(i[0].setComponents(l-a,h-u,g-p,b-v).normalize(),i[1].setComponents(l+a,h+u,g+p,b+v).normalize(),i[2].setComponents(l+s,h+c,g+f,b+y).normalize(),i[3].setComponents(l-s,h-c,g-f,b-y).normalize(),n)i[4].setComponents(o,d,m,x).normalize(),i[5].setComponents(l-o,h-d,g-m,b-x).normalize();else if(i[4].setComponents(l-o,h-d,g-m,b-x).normalize(),2e3===t)i[5].setComponents(l+o,h+d,g+m,b+x).normalize();else if(2001===t)i[5].setComponents(o,d,m,x).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),iP.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),iP.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(iP)}intersectsSprite(e){return iP.center.set(0,0,0),iP.radius=.7071067811865476+ik.distanceTo(e.center),iP.applyMatrix4(e.matrixWorld),this.intersectsSphere(iP)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(iR.x=i.normal.x>0?e.max.x:e.min.x,iR.y=i.normal.y>0?e.max.y:e.min.y,iR.z=i.normal.z>0?e.max.z:e.min.z,0>i.distanceToPoint(iR))return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}clone(){return new this.constructor().copy(this)}}let iD=new e9,iL=new iN;class iU{constructor(){this.coordinateSystem=2e3}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){let i=t.cameras[n];if(iD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),iL.setFromProjectionMatrix(iD,i.coordinateSystem,i.reversedDepth),iL.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){let i=t.cameras[n];if(iD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),iL.setFromProjectionMatrix(iD,i.coordinateSystem,i.reversedDepth),iL.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){let i=t.cameras[n];if(iD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),iL.setFromProjectionMatrix(iD,i.coordinateSystem,i.reversedDepth),iL.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){let i=t.cameras[n];if(iD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),iL.setFromProjectionMatrix(iD,i.coordinateSystem,i.reversedDepth),iL.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){let i=t.cameras[n];if(iD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),iL.setFromProjectionMatrix(iD,i.coordinateSystem,i.reversedDepth),iL.containsPoint(e))return!0}return!1}clone(){return new iU}}function iO(e,t){return e-t}function iz(e,t){return e.z-t.z}function ij(e,t){return t.z-e.z}let iF=new e9,i$=new tG(1,1,1),iB=new iN,iV=new iU,iG=new eL,iH=new eQ,iW=new ed,iZ=new ed,iX=new ed,iq=new class{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){let r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});let s=r[this.index];a.push(s),this.index++,s.start=e,s.count=t,s.z=n,s.index=i}reset(){this.list.length=0,this.index=0}},iY=new n_,iJ=[];function iK(e,t){if(e.constructor!==t.constructor){let n=Math.min(e.length,t.length);for(let i=0;i<n;i++)t[i]=e[i]}else{let n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class iQ extends n_{constructor(e,t,n=2*t,i){super(new nu,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount),t=new ih(new Float32Array((e=Math.max(e=4*Math.ceil(e/4),4))*e*4),e,e,1023,1015);this._matricesTexture=t}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount),t=new ih(new Uint32Array((e=Math.ceil(e))*e),e,e,1029,1014);this._indirectTexture=t}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount),t=new ih(new Float32Array((e=Math.ceil(e))*e*4).fill(1),e,e,1023,1015);t.colorSpace=ey.workingColorSpace,this._colorsTexture=t}_initializeGeometry(e){let t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(let i in e.attributes){let{array:r,itemSize:a,normalized:s}=e.getAttribute(i),o=new t2(new r.constructor(n*a),a,s);t.setAttribute(i,o)}if(null!==e.getIndex()){let e=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new t2(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){let t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(let n in t.attributes){if(!e.hasAttribute(n))throw Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);let i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){let t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){let t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new eL);let e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;let i=t[n].geometryIndex;this.getMatrixAt(n,iF),this.getBoundingBoxAt(i,iG).applyMatrix4(iF),e.union(iG)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new eQ);let e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;let i=t[n].geometryIndex;this.getMatrixAt(n,iF),this.getBoundingSphereAt(i,iH).applyMatrix4(iF),e.union(iH)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw Error("THREE.BatchedMesh: Maximum item count reached.");let t={visible:!0,active:!0,geometryIndex:e},n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(iO),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));let i=this._matricesTexture;iF.identity().toArray(i.image.data,16*n),i.needsUpdate=!0;let r=this._colorsTexture;return r&&(i$.toArray(r.image.data,4*n),r.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){let i;this._initializeGeometry(e),this._validateGeometry(e);let r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;let s=e.getIndex();if(null!==s&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?s.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(iO),a[i=this._availableGeometryIds.shift()]=r):(i=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(i,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,i}setGeometryAt(e,t){if(e>=this._geometryCount)throw Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);let n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),a=t.getIndex(),s=this._geometryInfo[e];if(i&&a.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");let o=s.vertexStart,l=s.reservedVertexCount;for(let e in s.vertexCount=t.getAttribute("position").count,n.attributes){let i=t.getAttribute(e),r=n.getAttribute(e);!function(e,t,n=0){let i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){let r=e.count;for(let a=0;a<r;a++)for(let r=0;r<i;r++)t.setComponent(a+n,r,e.getComponent(a,r))}else t.array.set(e.array,n*i);t.needsUpdate=!0}(i,r,o);let a=i.itemSize;for(let e=i.count;e<l;e++){let t=o+e;for(let e=0;e<a;e++)r.setComponent(t,e,0)}r.needsUpdate=!0,r.addUpdateRange(o*a,l*a)}if(i){let e=s.indexStart,n=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)r.setX(e+t,o+a.getX(t));for(let t=a.count;t<n;t++)r.setX(e+t,o);r.needsUpdate=!0,r.addUpdateRange(e,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,null!==t.boundingBox&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,null!==t.boundingSphere&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){let t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;let n=this._instanceInfo;for(let t=0,i=n.length;t<i;t++)n[t].active&&n[t].geometryIndex===e&&this.deleteInstance(t);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0,n=this._geometryInfo,i=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),r=this.geometry;for(let a=0,s=n.length;a<s;a++){let s=n[i[a]];if(!1!==s.active){if(null!==r.index){if(s.indexStart!==t){let{indexStart:n,vertexStart:i,reservedIndexCount:a}=s,o=r.index,l=o.array,u=e-i;for(let e=n;e<n+a;e++)l[e]=l[e]+u;o.array.copyWithin(t,n,n+a),o.addUpdateRange(t,a),s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){let{vertexStart:t,reservedVertexCount:n}=s,i=r.attributes;for(let r in i){let a=i[r],{array:s,itemSize:o}=a;s.copyWithin(e*o,t*o,(t+n)*o),a.addUpdateRange(e*o,n*o)}s.vertexStart=e}e+=s.reservedVertexCount,s.start=r.index?s.indexStart:s.vertexStart,this._nextIndexStart=r.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;let n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingBox){let e=new eL,t=n.index,r=n.attributes.position;for(let n=i.start,a=i.start+i.count;n<a;n++){let i=n;t&&(i=t.getX(i)),e.expandByPoint(iW.fromBufferAttribute(r,i))}i.boundingBox=e}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;let n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingSphere){let t=new eQ;this.getBoundingBoxAt(e,iG),iG.getCenter(t.center);let r=n.index,a=n.attributes.position,s=0;for(let e=i.start,n=i.start+i.count;e<n;e++){let n=e;r&&(n=r.getX(n)),iW.fromBufferAttribute(a,n),s=Math.max(s,t.center.distanceToSquared(iW))}t.radius=Math.sqrt(s),i.boundingSphere=t}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);let n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);let n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){let t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(iO);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);let i=new Int32Array(e),r=new Int32Array(e);iK(this._multiDrawCounts,i),iK(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;let a=this._indirectTexture,s=this._matricesTexture,o=this._colorsTexture;a.dispose(),this._initIndirectTexture(),iK(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),iK(s.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),iK(o.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){let n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);let i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new nu,this._initializeGeometry(i));let r=this.geometry;for(let e in i.index&&iK(i.index.array,r.index.array),i.attributes)iK(i.attributes[e].array,r.attributes[e].array)}raycast(e,t){let n=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,a=this.geometry;iY.material=this.material,iY.geometry.index=a.index,iY.geometry.attributes=a.attributes,null===iY.geometry.boundingBox&&(iY.geometry.boundingBox=new eL),null===iY.geometry.boundingSphere&&(iY.geometry.boundingSphere=new eQ);for(let a=0,s=n.length;a<s;a++){if(!n[a].visible||!n[a].active)continue;let s=n[a].geometryIndex,o=i[s];iY.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(a,iY.matrixWorld).premultiply(r),this.getBoundingBoxAt(s,iY.geometry.boundingBox),this.getBoundingSphereAt(s,iY.geometry.boundingSphere),iY.raycast(e,iJ);for(let e=0,n=iJ.length;e<n;e++){let n=iJ[e];n.object=this,n.batchId=a,t.push(n)}iJ.length=0}iY.material=null,iY.geometry.index=null,iY.geometry.attributes={},iY.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;let a=i.getIndex(),s=null===a?1:a.array.BYTES_PER_ELEMENT,o=this._instanceInfo,l=this._multiDrawStarts,u=this._multiDrawCounts,c=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data,f=n.isArrayCamera?iV:iB;d&&!n.isArrayCamera&&(iF.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),iB.setFromProjectionMatrix(iF,n.coordinateSystem,n.reversedDepth));let m=0;if(this.sortObjects){iF.copy(this.matrixWorld).invert(),iW.setFromMatrixPosition(n.matrixWorld).applyMatrix4(iF),iZ.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(iF);for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){let t=o[e].geometryIndex;this.getMatrixAt(e,iF),this.getBoundingSphereAt(t,iH).applyMatrix4(iF);let i=!1;if(d&&(i=!f.intersectsSphere(iH,n)),!i){let n=c[t],i=iX.subVectors(iH.center,iW).dot(iZ);iq.push(n.start,n.count,i,e)}}let e=iq.list,t=this.customSort;null===t?e.sort(r.transparent?ij:iz):t.call(this,e,n);for(let t=0,n=e.length;t<n;t++){let n=e[t];l[m]=n.start*s,u[m]=n.count,p[m]=n.index,m++}iq.reset()}else for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){let t=o[e].geometryIndex,i=!1;if(d&&(this.getMatrixAt(e,iF),this.getBoundingSphereAt(t,iH).applyMatrix4(iF),i=!f.intersectsSphere(iH,n)),!i){let n=c[t];l[m]=n.start*s,u[m]=n.count,p[m]=e,m++}}h.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,a){this.onBeforeRender(e,null,i,r,a)}}class i0 extends tZ{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tG(0xffffff),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}let i1=new ed,i2=new ed,i3=new e9,i4=new e8,i5=new eQ,i6=new ed,i8=new ed;class i9 extends tT{constructor(e=new nu,t=new i0){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)i1.fromBufferAttribute(t,e-1),i2.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=i1.distanceTo(i2);e.setAttribute("lineDistance",new nt(n,1))}else X("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),i5.copy(n.boundingSphere),i5.applyMatrix4(i),i5.radius+=r,!1===e.ray.intersectsSphere(i5))return;i3.copy(i).invert(),i4.copy(e.ray).applyMatrix4(i3);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=this.isLineSegments?2:1,u=n.index,c=n.attributes.position;if(null!==u){let n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){let n=i7(this,e,i4,o,u.getX(r),u.getX(r+1),r);n&&t.push(n)}if(this.isLineLoop){let r=i7(this,e,i4,o,u.getX(i-1),u.getX(n),i-1);r&&t.push(r)}}else{let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){let n=i7(this,e,i4,o,r,r+1,r);n&&t.push(n)}if(this.isLineLoop){let r=i7(this,e,i4,o,i-1,n,i-1);r&&t.push(r)}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function i7(e,t,n,i,r,a,s){let o=e.geometry.attributes.position;if(i1.fromBufferAttribute(o,r),i2.fromBufferAttribute(o,a),n.distanceSqToSegment(i1,i2,i6,i8)>i)return;i6.applyMatrix4(e.matrixWorld);let l=t.ray.origin.distanceTo(i6);if(!(l<t.near)&&!(l>t.far))return{distance:l,point:i8.clone().applyMatrix4(e.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:e}}let re=new ed,rt=new ed;class rn extends i9{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)re.fromBufferAttribute(t,e),rt.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+re.distanceTo(rt);e.setAttribute("lineDistance",new nt(n,1))}else X("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ri extends i9{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class rr extends tZ{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tG(0xffffff),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ra=new e9,rs=new e8,ro=new eQ,rl=new ed;class ru extends tT{constructor(e=new nu,t=new rr){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ro.copy(n.boundingSphere),ro.applyMatrix4(i),ro.radius+=r,!1===e.ray.intersectsSphere(ro))return;ra.copy(i).invert(),rs.copy(e.ray).applyMatrix4(ra);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=n.index,u=n.attributes.position;if(null!==l){let n=Math.max(0,a.start),r=Math.min(l.count,a.start+a.count);for(let a=n;a<r;a++){let n=l.getX(a);rl.fromBufferAttribute(u,n),rc(rl,n,o,i,e,t,this)}}else{let n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let a=n;a<r;a++)rl.fromBufferAttribute(u,a),rc(rl,a,o,i,e,t,this)}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function rc(e,t,n,i,r,a,s){let o=rs.distanceSqToPoint(e);if(o<n){let n=new ed;rs.closestPointToPoint(e,n),n.applyMatrix4(i);let l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;a.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:s})}}class rd extends eA{constructor(e,t,n,i,r=1006,a=1006,s,o,l){super(e,t,n,i,r,a,s,o,l),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class rh extends rd{constructor(e,t,n,i,r,a,s,o){super({},e,t,n,i,r,a,s,o),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class rp extends eA{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}}class rf extends eA{constructor(e,t,n,i,r,a,s,o,l,u,c,d){super(null,a,s,o,l,u,i,r,c,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class rm extends rf{constructor(e,t,n,i,r,a){super(e,t,n,r,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=1001,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rg extends rf{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,301),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class rv extends eA{constructor(e,t,n,i,r,a,s,o,l){super(e,t,n,i,r,a,s,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ry extends eA{constructor(e,t,n=1014,i,r,a,s=1003,o=1003,l,u=1026,c=1){if(1026!==u&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:c},i,r,a,s,o,u,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ew(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class rx extends eA{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class rb extends nu{constructor(e=1,t=1,n=4,i=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i,heightSegments:r},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i));const a=[],s=[],o=[],l=[],u=t/2,c=Math.PI/2*e,d=t,h=2*c+d,p=2*n+(r=Math.max(1,Math.floor(r))),f=i+1,m=new ed,g=new ed;for(let v=0;v<=p;v++){let y=0,x=0,b=0,_=0;if(v<=n){const t=v/n,i=t*Math.PI/2;x=-u-e*Math.cos(i),b=e*Math.sin(i),_=-e*Math.cos(i),y=t*c}else if(v<=n+r){const i=(v-n)/r;x=-u+i*t,b=e,_=0,y=c+i*d}else{const t=(v-n-r)/n,i=t*Math.PI/2;x=u+e*Math.sin(i),b=e*Math.cos(i),_=e*Math.sin(i),y=c+d+t*c}const S=Math.max(0,Math.min(1,y/h));let w=0;0===v?w=.5/i:v===p&&(w=-.5/i);for(let e=0;e<=i;e++){const t=e/i,n=t*Math.PI*2,r=Math.sin(n),a=Math.cos(n);g.x=-b*a,g.y=x,g.z=b*r,s.push(g.x,g.y,g.z),m.set(-b*a,_,b*r),m.normalize(),o.push(m.x,m.y,m.z),l.push(t+w,S)}if(v>0){const e=(v-1)*f;for(let t=0;t<i;t++){const n=e+t,i=e+t+1,r=v*f+t,s=v*f+t+1;a.push(n,i,r),a.push(i,s,r)}}}this.setIndex(a),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(o,3)),this.setAttribute("uv",new nt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class r_ extends nu{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],a=[],s=[],o=[],l=new ed,u=new eu;a.push(0,0,0),s.push(0,0,1),o.push(.5,.5);for(let r=0,c=3;r<=t;r++,c+=3){const d=n+r/t*i;l.x=e*Math.cos(d),l.y=e*Math.sin(d),a.push(l.x,l.y,l.z),s.push(0,0,1),u.x=(a[c]/e+1)/2,u.y=(a[c+1]/e+1)/2,o.push(u.x,u.y)}for(let e=1;e<=t;e++)r.push(e,e+1,0);this.setIndex(r),this.setAttribute("position",new nt(a,3)),this.setAttribute("normal",new nt(s,3)),this.setAttribute("uv",new nt(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class rS extends nu{constructor(e=1,t=1,n=1,i=32,r=1,a=!1,s=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o};const l=this;i=Math.floor(i),r=Math.floor(r);const u=[],c=[],d=[],h=[];let p=0;const f=[],m=n/2;let g=0;function v(n){let r=p,a=new eu,f=new ed,v=0,y=!0===n?e:t,x=!0===n?1:-1;for(let e=1;e<=i;e++)c.push(0,m*x,0),d.push(0,x,0),h.push(.5,.5),p++;let b=p;for(let e=0;e<=i;e++){let t=e/i*o+s,n=Math.cos(t),r=Math.sin(t);f.x=y*r,f.y=m*x,f.z=y*n,c.push(f.x,f.y,f.z),d.push(0,x,0),a.x=.5*n+.5,a.y=.5*r*x+.5,h.push(a.x,a.y),p++}for(let e=0;e<i;e++){let t=r+e,i=b+e;!0===n?u.push(i,i+1,t):u.push(i+1,i,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}(function(){let a=new ed,v=new ed,y=0,x=(t-e)/n;for(let l=0;l<=r;l++){let u=[],g=l/r,y=g*(t-e)+e;for(let e=0;e<=i;e++){let t=e/i,r=t*o+s,l=Math.sin(r),f=Math.cos(r);v.x=y*l,v.y=-g*n+m,v.z=y*f,c.push(v.x,v.y,v.z),a.set(l,x,f).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),u.push(p++)}f.push(u)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){let a=f[i][n],s=f[i+1][n],o=f[i+1][n+1],l=f[i][n+1];(e>0||0!==i)&&(u.push(a,s,l),y+=3),(t>0||i!==r-1)&&(u.push(s,o,l),y+=3)}l.addGroup(g,y,0),g+=y})(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new nt(c,3)),this.setAttribute("normal",new nt(d,3)),this.setAttribute("uv",new nt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rS(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rw extends rS{constructor(e=1,t=1,n=32,i=1,r=!1,a=0,s=2*Math.PI){super(0,e,t,n,i,r,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:s}}static fromJSON(e){return new rw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rM extends nu{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],a=[];function s(e){r.push(e.x,e.y,e.z)}function o(t,n){let i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function l(e,t,n,i){i<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}(function(e){let n=new ed,i=new ed,r=new ed;for(let a=0;a<t.length;a+=3)o(t[a+0],n),o(t[a+1],i),o(t[a+2],r),function(e,t,n,i){let r=i+1,a=[];for(let i=0;i<=r;i++){a[i]=[];let s=e.clone().lerp(n,i/r),o=t.clone().lerp(n,i/r),l=r-i;for(let e=0;e<=l;e++)0===e&&i===r?a[i][e]=s:a[i][e]=s.clone().lerp(o,e/l)}for(let e=0;e<r;e++)for(let t=0;t<2*(r-e)-1;t++){let n=Math.floor(t/2);t%2==0?(s(a[e][n+1]),s(a[e+1][n]),s(a[e][n])):(s(a[e][n+1]),s(a[e+1][n+1]),s(a[e+1][n]))}}(n,i,r,e)})(i),function(e){let t=new ed;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){let e=new ed;for(let n=0;n<r.length;n+=3){var t;e.x=r[n+0],e.y=r[n+1],e.z=r[n+2];let i=u(e)/2/Math.PI+.5,s=Math.atan2(-(t=e).y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5;a.push(i,1-s)}(function(){let e=new ed,t=new ed,n=new ed,i=new ed,s=new eu,o=new eu,c=new eu;for(let d=0,h=0;d<r.length;d+=9,h+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),s.set(a[h+0],a[h+1]),o.set(a[h+2],a[h+3]),c.set(a[h+4],a[h+5]),i.copy(e).add(t).add(n).divideScalar(3);let p=u(i);l(s,h+0,e,p),l(o,h+2,t,p),l(c,h+4,n,p)}})(),function(){for(let e=0;e<a.length;e+=6){let t=a[e+0],n=a[e+2],i=a[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),i<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new nt(r,3)),this.setAttribute("normal",new nt(r.slice(),3)),this.setAttribute("uv",new nt(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rM(e.vertices,e.indices,e.radius,e.details)}}class rT extends rM{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rT(e.radius,e.detail)}}let rE=new ed,rA=new ed,rC=new ed,rI=new tj;class rP extends nu{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=Math.cos(ee*t),i=e.getIndex(),r=e.getAttribute("position"),a=i?i.count:r.count,s=[0,0,0],o=["a","b","c"],l=[,,,],u={},c=[];for(let e=0;e<a;e+=3){i?(s[0]=i.getX(e),s[1]=i.getX(e+1),s[2]=i.getX(e+2)):(s[0]=e,s[1]=e+1,s[2]=e+2);const{a:t,b:a,c:d}=rI;if(t.fromBufferAttribute(r,s[0]),a.fromBufferAttribute(r,s[1]),d.fromBufferAttribute(r,s[2]),rI.getNormal(rC),l[0]=`${Math.round(1e4*t.x)},${Math.round(1e4*t.y)},${Math.round(1e4*t.z)}`,l[1]=`${Math.round(1e4*a.x)},${Math.round(1e4*a.y)},${Math.round(1e4*a.z)}`,l[2]=`${Math.round(1e4*d.x)},${Math.round(1e4*d.y)},${Math.round(1e4*d.z)}`,l[0]!==l[1]&&l[1]!==l[2]&&l[2]!==l[0])for(let e=0;e<3;e++){const t=(e+1)%3,i=l[e],r=l[t],a=rI[o[e]],d=rI[o[t]],h=`${i}_${r}`,p=`${r}_${i}`;p in u&&u[p]?(rC.dot(u[p].normal)<=n&&(c.push(a.x,a.y,a.z),c.push(d.x,d.y,d.z)),u[p]=null):h in u||(u[h]={index0:s[e],index1:s[t],normal:rC.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:n}=u[e];rE.fromBufferAttribute(r,t),rA.fromBufferAttribute(r,n),c.push(rE.x,rE.y,rE.z),c.push(rA.x,rA.y,rA.z)}this.setAttribute("position",new nt(c,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class rk{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){X("Curve: .getPoint() not implemented.")}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)t.push(r+=(n=this.getPoint(a/e)).distanceTo(i)),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){let n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];let s=0,o=a-1,l;for(;s<=o;)if((l=i[r=Math.floor(s+(o-s)/2)]-n)<0)s=r+1;else if(l>0)o=r-1;else{o=r;break}if(i[r=o]===n)return r/(a-1);let u=i[r],c=i[r+1];return(r+(n-u)/(c-u))/(a-1)}getTangent(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);let r=this.getPoint(n),a=this.getPoint(i),s=t||(r.isVector2?new eu:new ed);return s.copy(a).sub(r).normalize(),s}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){let n=new ed,i=[],r=[],a=[],s=new ed,o=new e9;for(let t=0;t<=e;t++){let n=t/e;i[t]=this.getTangentAt(n,new ed)}r[0]=new ed,a[0]=new ed;let l=Number.MAX_VALUE,u=Math.abs(i[0].x),c=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),a[0].crossVectors(i[0],r[0]);for(let t=1;t<=e;t++){if(r[t]=r[t-1].clone(),a[t]=a[t-1].clone(),s.crossVectors(i[t-1],i[t]),s.length()>Number.EPSILON){s.normalize();let e=Math.acos(ei(i[t-1].dot(i[t]),-1,1));r[t].applyMatrix4(o.makeRotationAxis(s,e))}a[t].crossVectors(i[t],r[t])}if(!0===t){let t=Math.acos(ei(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(o.makeRotationAxis(i[n],t*n)),a[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rR extends rk{constructor(e=0,t=0,n=1,i=1,r=0,a=2*Math.PI,s=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=s,this.aRotation=o}getPoint(e,t=new eu){let n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,r=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);let a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),o=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,i=o-this.aY;s=n*e-i*t+this.aX,o=n*t+i*e+this.aY}return t.set(s,o)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class rN extends rR{constructor(e,t,n,i,r,a){super(e,t,n,n,i,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function rD(){let e=0,t=0,n=0,i=0;function r(r,a,s,o){e=r,t=s,n=-3*r+3*a-2*s-o,i=2*r-2*a+s+o}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,s,o){let l=(t-e)/a-(n-e)/(a+s)+(n-t)/s,u=(n-t)/s-(i-t)/(s+o)+(i-n)/o;r(t,n,l*=s,u*=s)},calc:function(r){let a=r*r;return e+t*r+n*a+a*r*i}}}let rL=new ed,rU=new rD,rO=new rD,rz=new rD;class rj extends rk{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ed){let n,i,r=this.points,a=r.length,s=(a-!this.closed)*e,o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:0===l&&o===a-1&&(o=a-2,l=1),this.closed||o>0?n=r[(o-1)%a]:(rL.subVectors(r[0],r[1]).add(r[0]),n=rL);let u=r[o%a],c=r[(o+1)%a];if(this.closed||o+2<a?i=r[(o+2)%a]:(rL.subVectors(r[a-1],r[a-2]).add(r[a-1]),i=rL),"centripetal"===this.curveType||"chordal"===this.curveType){let e="chordal"===this.curveType?.5:.25,t=Math.pow(n.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(c),e),a=Math.pow(c.distanceToSquared(i),e);r<1e-4&&(r=1),t<1e-4&&(t=r),a<1e-4&&(a=r),rU.initNonuniformCatmullRom(n.x,u.x,c.x,i.x,t,r,a),rO.initNonuniformCatmullRom(n.y,u.y,c.y,i.y,t,r,a),rz.initNonuniformCatmullRom(n.z,u.z,c.z,i.z,t,r,a)}else"catmullrom"===this.curveType&&(rU.initCatmullRom(n.x,u.x,c.x,i.x,this.tension),rO.initCatmullRom(n.y,u.y,c.y,i.y,this.tension),rz.initCatmullRom(n.z,u.z,c.z,i.z,this.tension));return t.set(rU.calc(l),rO.calc(l),rz.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new ed().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function rF(e,t,n,i,r){let a=(i-t)*.5,s=(r-n)*.5,o=e*e;return e*o*(2*n-2*i+a+s)+(-3*n+3*i-2*a-s)*o+a*e+n}function r$(e,t,n,i){let r;return(r=1-e)*r*t+2*(1-e)*e*n+e*e*i}function rB(e,t,n,i,r){let a,s;return(a=1-e)*a*a*t+3*(s=1-e)*s*e*n+3*(1-e)*e*e*i+e*e*e*r}class rV extends rk{constructor(e=new eu,t=new eu,n=new eu,i=new eu){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new eu){let n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(rB(e,n.x,i.x,r.x,a.x),rB(e,n.y,i.y,r.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rG extends rk{constructor(e=new ed,t=new ed,n=new ed,i=new ed){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ed){let n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(rB(e,n.x,i.x,r.x,a.x),rB(e,n.y,i.y,r.y,a.y),rB(e,n.z,i.z,r.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rH extends rk{constructor(e=new eu,t=new eu){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new eu){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new eu){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rW extends rk{constructor(e=new ed,t=new ed){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ed){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ed){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rZ extends rk{constructor(e=new eu,t=new eu,n=new eu){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new eu){let n=this.v0,i=this.v1,r=this.v2;return t.set(r$(e,n.x,i.x,r.x),r$(e,n.y,i.y,r.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rX extends rk{constructor(e=new ed,t=new ed,n=new ed){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ed){let n=this.v0,i=this.v1,r=this.v2;return t.set(r$(e,n.x,i.x,r.x),r$(e,n.y,i.y,r.y),r$(e,n.z,i.z,r.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rq extends rk{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new eu){let n=this.points,i=(n.length-1)*e,r=Math.floor(i),a=i-r,s=n[0===r?r:r-1],o=n[r],l=n[r>n.length-2?n.length-1:r+1],u=n[r>n.length-3?n.length-1:r+2];return t.set(rF(a,s.x,o.x,l.x,u.x),rF(a,s.y,o.y,l.y,u.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new eu().fromArray(n))}return this}}var rY=Object.freeze({__proto__:null,ArcCurve:rN,CatmullRomCurve3:rj,CubicBezierCurve:rV,CubicBezierCurve3:rG,EllipseCurve:rR,LineCurve:rH,LineCurve3:rW,QuadraticBezierCurve:rZ,QuadraticBezierCurve3:rX,SplineCurve:rq});class rJ extends rk{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){let n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new rY[n](t,e))}return this}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),r=0;for(;r<i.length;){if(i[r]>=n){let e=i[r]-n,a=this.curves[r],s=a.getLength(),o=0===s?0:1-e/s;return a.getPointAt(o,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)e.push(t+=this.curves[n].getLength());return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t,n=[];for(let i=0,r=this.curves;i<r.length;i++){let a=r[i],s=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,o=a.getPoints(s);for(let e=0;e<o.length;e++){let i=o[e];t&&t.equals(i)||(n.push(i),t=i)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(new rY[n.type]().fromJSON(n))}return this}}class rK extends rJ{constructor(e){super(),this.type="Path",this.currentPoint=new eu,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new rH(this.currentPoint.clone(),new eu(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let r=new rZ(this.currentPoint.clone(),new eu(e,t),new eu(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,a){let s=new rV(this.currentPoint.clone(),new eu(e,t),new eu(n,i),new eu(r,a));return this.curves.push(s),this.currentPoint.set(r,a),this}splineThru(e){let t=new rq([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,a){let s=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+s,t+o,n,i,r,a),this}absarc(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}ellipse(e,t,n,i,r,a,s,o){let l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,i,r,a,s,o),this}absellipse(e,t,n,i,r,a,s,o){let l=new rR(e,t,n,i,r,a,s,o);if(this.curves.length>0){let e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);let u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class rQ extends rK{constructor(e){super(e),this.uuid=en(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(new rK().fromJSON(n))}return this}}function r0(e,t,n,i,r){let a;if(r===function(e,t,n,i){let r=0;for(let a=t,s=n-i;a<n;a+=i)r+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return r}(e,t,n,i)>0)for(let r=t;r<n;r+=i)a=ai(r/i|0,e[r],e[r+1],a);else for(let r=n-i;r>=t;r-=i)a=ai(r/i|0,e[r],e[r+1],a);return a&&r8(a,a.next)&&(ar(a),a=a.next),a}function r1(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(r8(n,n.next)||0===r6(n.prev,n,n.next))){if(ar(n),(n=t=n.prev)===n.next)break;i=!0}else n=n.next;while(i||n!==t)return t}function r2(e,t){let n=e.x-t.x;return 0===n&&0==(n=e.y-t.y)&&(n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)),n}function r3(e,t,n,i,r){return(e=((e=((e=((e=((e=(e-n)*r|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(t=((t=((t=((t=((t=(t-i)*r|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)<<1}function r4(e,t,n,i,r,a,s,o){return(r-s)*(t-o)>=(e-s)*(a-o)&&(e-s)*(i-o)>=(n-s)*(t-o)&&(n-s)*(a-o)>=(r-s)*(i-o)}function r5(e,t,n,i,r,a,s,o){return(e!==s||t!==o)&&r4(e,t,n,i,r,a,s,o)}function r6(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function r8(e,t){return e.x===t.x&&e.y===t.y}function r9(e,t,n,i){let r=ae(r6(e,t,n)),a=ae(r6(e,t,i)),s=ae(r6(n,i,e)),o=ae(r6(n,i,t));return!!(r!==a&&s!==o||0===r&&r7(e,n,t)||0===a&&r7(e,i,t)||0===s&&r7(n,e,i)||0===o&&r7(n,t,i))}function r7(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ae(e){return e>0?1:e<0?-1:0}function at(e,t){return 0>r6(e.prev,e,e.next)?r6(e,t,e.next)>=0&&r6(e,e.prev,t)>=0:0>r6(e,t,e.prev)||0>r6(e,e.next,t)}function an(e,t){let n=aa(e.i,e.x,e.y),i=aa(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function ai(e,t,n,i){let r=aa(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ar(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function aa(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class as{static triangulate(e,t,n=2){return function(e,t,n=2){let i,r,a,s=t&&t.length,o=s?t[0]*n:e.length,l=r0(e,0,o,n,!0),u=[];if(!l||l.next===l.prev)return u;if(s&&(l=function(e,t,n,i){let r=[];for(let n=0,a=t.length;n<a;n++){let s=t[n]*i,o=n<a-1?t[n+1]*i:e.length,l=r0(e,s,o,i,!1);l===l.next&&(l.steiner=!0),r.push(function(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e)return n}(l))}r.sort(r2);for(let e=0;e<r.length;e++)n=function(e,t){let n=function(e,t){let n,i=t,r=e.x,a=e.y,s=-1/0;if(r8(e,i))return i;do{if(r8(e,i.next))return i.next;if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){let e=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=r&&e>s&&(s=e,n=i.x<i.next.x?i:i.next,e===r))return n}i=i.next}while(i!==t)if(!n)return null;let o=n,l=n.x,u=n.y,c=1/0;i=n;do{if(r>=i.x&&i.x>=l&&r!==i.x&&r4(a<u?r:s,a,l,u,a<u?s:r,a,i.x,i.y)){var d,h;let t=Math.abs(a-i.y)/(r-i.x);at(i,e)&&(t<c||t===c&&(i.x>n.x||i.x===n.x&&(d=n,h=i,0>r6(d.prev,d,h.prev)&&0>r6(h.next,d,d.next))))&&(n=i,c=t)}i=i.next}while(i!==o)return n}(e,t);if(!n)return t;let i=an(n,e);return r1(i,i.next),r1(n,n.next)}(r[e],n);return n}(e,t,l,n)),e.length>80*n){i=e[0],r=e[1];let t=i,s=r;for(let a=n;a<o;a+=n){let n=e[a],o=e[a+1];n<i&&(i=n),o<r&&(r=o),n>t&&(t=n),o>s&&(s=o)}a=0!==(a=Math.max(t-i,s-r))?32767/a:0}return function e(t,n,i,r,a,s,o){if(!t)return;!o&&s&&function(e,t,n,i){let r=e;do 0===r.z&&(r.z=r3(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e)r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n=1;do{let i,r=e;e=null;let a=null;for(t=0;r;){t++;let s=r,o=0;for(let e=0;e<n&&(o++,s=s.nextZ);e++);let l=n;for(;o>0||l>0&&s;)0!==o&&(0===l||!s||r.z<=s.z)?(i=r,r=r.nextZ,o--):(i=s,s=s.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=s}a.nextZ=null,n*=2}while(t>1)}(r)}(t,r,a,s);let l=t;for(;t.prev!==t.next;){let u=t.prev,c=t.next;if(s?function(e,t,n,i){let r=e.prev,a=e.next;if(r6(r,e,a)>=0)return!1;let s=r.x,o=e.x,l=a.x,u=r.y,c=e.y,d=a.y,h=Math.min(s,o,l),p=Math.min(u,c,d),f=Math.max(s,o,l),m=Math.max(u,c,d),g=r3(h,p,t,n,i),v=r3(f,m,t,n,i),y=e.prevZ,x=e.nextZ;for(;y&&y.z>=g&&x&&x.z<=v;){if(y.x>=h&&y.x<=f&&y.y>=p&&y.y<=m&&y!==r&&y!==a&&r5(s,u,o,c,l,d,y.x,y.y)&&r6(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=h&&x.x<=f&&x.y>=p&&x.y<=m&&x!==r&&x!==a&&r5(s,u,o,c,l,d,x.x,x.y)&&r6(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=g;){if(y.x>=h&&y.x<=f&&y.y>=p&&y.y<=m&&y!==r&&y!==a&&r5(s,u,o,c,l,d,y.x,y.y)&&r6(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=v;){if(x.x>=h&&x.x<=f&&x.y>=p&&x.y<=m&&x!==r&&x!==a&&r5(s,u,o,c,l,d,x.x,x.y)&&r6(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}(t,r,a,s):function(e){let t=e.prev,n=e.next;if(r6(t,e,n)>=0)return!1;let i=t.x,r=e.x,a=n.x,s=t.y,o=e.y,l=n.y,u=Math.min(i,r,a),c=Math.min(s,o,l),d=Math.max(i,r,a),h=Math.max(s,o,l),p=n.next;for(;p!==t;){if(p.x>=u&&p.x<=d&&p.y>=c&&p.y<=h&&r5(i,s,r,o,a,l,p.x,p.y)&&r6(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}(t)){n.push(u.i,t.i,c.i),ar(t),t=c.next,l=c.next;continue}if((t=c)===l){o?1===o?e(t=function(e,t){let n=e;do{let i=n.prev,r=n.next.next;!r8(i,r)&&r9(i,n,n.next,r)&&at(i,r)&&at(r,i)&&(t.push(i.i,n.i,r.i),ar(n),ar(n.next),n=e=r),n=n.next}while(n!==e)return r1(n)}(r1(t),n),n,i,r,a,s,2):2===o&&function(t,n,i,r,a,s){let o=t;do{let t=o.next.next;for(;t!==o.prev;){var l,u;if(o.i!==t.i&&(l=o,u=t,l.next.i!==u.i&&l.prev.i!==u.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&r9(n,n.next,e,t))return!0;n=n.next}while(n!==e)return!1}(l,u)&&(at(l,u)&&at(u,l)&&function(e,t){let n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e)return i}(l,u)&&(r6(l.prev,l,u.prev)||r6(l,u.prev,u))||r8(l,u)&&r6(l.prev,l,l.next)>0&&r6(u.prev,u,u.next)>0))){let l=an(o,t);o=r1(o,o.next),l=r1(l,l.next),e(o,n,i,r,a,s,0),e(l,n,i,r,a,s,0);return}t=t.next}o=o.next}while(o!==t)}(t,n,i,r,a,s):e(r1(t),n,i,r,a,s,1);break}}}(l,u,n,i,r,a,0),u}(e,t,n)}}class ao{static area(e){let t=e.length,n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return .5*n}static isClockWise(e){return 0>ao.area(e)}static triangulateShape(e,t){let n=[],i=[],r=[];al(e),au(n,e);let a=e.length;t.forEach(al);for(let e=0;e<t.length;e++)i.push(a),a+=t[e].length,au(n,t[e]);let s=as.triangulate(n,i);for(let e=0;e<s.length;e+=3)r.push(s.slice(e,e+3));return r}}function al(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function au(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class ac extends nu{constructor(e=new rQ([new eu(.5,.5),new eu(-.5,.5),new eu(-.5,-.5),new eu(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let a=0,s=e.length;a<s;a++)!function(e){let a,s,o,l,u,c=[],d=void 0!==t.curveSegments?t.curveSegments:12,h=void 0!==t.steps?t.steps:1,p=void 0!==t.depth?t.depth:1,f=void 0===t.bevelEnabled||t.bevelEnabled,m=void 0!==t.bevelThickness?t.bevelThickness:.2,g=void 0!==t.bevelSize?t.bevelSize:m-.1,v=void 0!==t.bevelOffset?t.bevelOffset:0,y=void 0!==t.bevelSegments?t.bevelSegments:3,x=t.extrudePath,b=void 0!==t.UVGenerator?t.UVGenerator:ad,_,S=!1;x&&(_=x.getSpacedPoints(h),S=!0,f=!1,a=x.computeFrenetFrames(h,!1),s=new ed,o=new ed,l=new ed),f||(y=0,m=0,g=0,v=0);let w=e.extractPoints(d),M=w.shape,T=w.holes;if(!ao.isClockWise(M)){M=M.reverse();for(let e=0,t=T.length;e<t;e++){let t=T[e];ao.isClockWise(t)&&(T[e]=t.reverse())}}function E(e){let t=1e-10*1e-10,n=e[0];for(let i=1;i<=e.length;i++){let r=i%e.length,a=e[r],s=a.x-n.x,o=a.y-n.y,l=s*s+o*o,u=Math.max(Math.abs(a.x),Math.abs(a.y),Math.abs(n.x),Math.abs(n.y));if(l<=t*u*u){e.splice(r,1),i--;continue}n=a}}E(M),T.forEach(E);let A=T.length,C=M;for(let e=0;e<A;e++){let t=T[e];M=M.concat(t)}function I(e,t,n){return t||q("ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}let P=M.length;function k(e,t,n){let i,r,a,s=e.x-t.x,o=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=s*s+o*o;if(Math.abs(s*u-o*l)>Number.EPSILON){let d=Math.sqrt(c),h=Math.sqrt(l*l+u*u),p=t.x-o/d,f=t.y+s/d,m=((n.x-u/h-p)*u-(n.y+l/h-f)*l)/(s*u-o*l),g=(i=p+s*m-e.x)*i+(r=f+o*m-e.y)*r;if(g<=2)return new eu(i,r);a=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(u)&&(e=!0),e?(i=-o,r=s,a=Math.sqrt(c)):(i=s,r=o,a=Math.sqrt(c/2))}return new eu(i/a,r/a)}let R=[];for(let e=0,t=C.length,n=t-1,i=e+1;e<t;e++,n++,i++)n===t&&(n=0),i===t&&(i=0),R[e]=k(C[e],C[n],C[i]);let N=[],D,L=R.concat();for(let e=0;e<A;e++){let t=T[e];D=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[e]=k(t[e],t[i],t[r]);N.push(D),L=L.concat(D)}if(0===y)u=ao.triangulateShape(C,T);else{let e=[],t=[];for(let n=0;n<y;n++){let i=n/y,r=m*Math.cos(i*Math.PI/2),a=g*Math.sin(i*Math.PI/2)+v;for(let t=0,n=C.length;t<n;t++){let n=I(C[t],R[t],a);j(n.x,n.y,-r),0===i&&e.push(n)}for(let e=0;e<A;e++){let n=T[e];D=N[e];let s=[];for(let e=0,t=n.length;e<t;e++){let t=I(n[e],D[e],a);j(t.x,t.y,-r),0===i&&s.push(t)}0===i&&t.push(s)}}u=ao.triangulateShape(e,t)}let U=u.length,O=g+v;for(let e=0;e<P;e++){let t=f?I(M[e],L[e],O):M[e];S?(o.copy(a.normals[0]).multiplyScalar(t.x),s.copy(a.binormals[0]).multiplyScalar(t.y),l.copy(_[0]).add(o).add(s),j(l.x,l.y,l.z)):j(t.x,t.y,0)}for(let e=1;e<=h;e++)for(let t=0;t<P;t++){let n=f?I(M[t],L[t],O):M[t];S?(o.copy(a.normals[e]).multiplyScalar(n.x),s.copy(a.binormals[e]).multiplyScalar(n.y),l.copy(_[e]).add(o).add(s),j(l.x,l.y,l.z)):j(n.x,n.y,p/h*e)}for(let e=y-1;e>=0;e--){let t=e/y,n=m*Math.cos(t*Math.PI/2),i=g*Math.sin(t*Math.PI/2)+v;for(let e=0,t=C.length;e<t;e++){let t=I(C[e],R[e],i);j(t.x,t.y,p+n)}for(let e=0,t=T.length;e<t;e++){let t=T[e];D=N[e];for(let e=0,r=t.length;e<r;e++){let r=I(t[e],D[e],i);S?j(r.x,r.y+_[h-1].y,_[h-1].x+n):j(r.x,r.y,p+n)}}}function z(e,t){let r=e.length;for(;--r>=0;){let a=r,s=r-1;s<0&&(s=e.length-1);for(let e=0,r=h+2*y;e<r;e++){let r=P*e,o=P*(e+1);!function(e,t,r,a){$(e),$(t),$(a),$(t),$(r),$(a);let s=i.length/3,o=b.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);B(o[0]),B(o[1]),B(o[3]),B(o[1]),B(o[2]),B(o[3])}(t+a+r,t+s+r,t+s+o,t+a+o)}}}function j(e,t,n){c.push(e),c.push(t),c.push(n)}function F(e,t,r){$(e),$(t),$(r);let a=i.length/3,s=b.generateTopUV(n,i,a-3,a-2,a-1);B(s[0]),B(s[1]),B(s[2])}function $(e){i.push(c[3*e+0]),i.push(c[3*e+1]),i.push(c[3*e+2])}function B(e){r.push(e.x),r.push(e.y)}(function(){let e=i.length/3;if(f){let e=0*P;for(let t=0;t<U;t++){let n=u[t];F(n[2]+e,n[1]+e,n[0]+e)}e=P*(h+2*y);for(let t=0;t<U;t++){let n=u[t];F(n[0]+e,n[1]+e,n[2]+e)}}else{for(let e=0;e<U;e++){let t=u[e];F(t[2],t[1],t[0])}for(let e=0;e<U;e++){let t=u[e];F(t[0]+P*h,t[1]+P*h,t[2]+P*h)}}n.addGroup(e,i.length/3-e,0)})(),function(){let e=i.length/3,t=0;z(C,0),t+=C.length;for(let e=0,n=T.length;e<n;e++){let n=T[e];z(n,t),t+=n.length}n.addGroup(e,i.length/3-e,1)}()}(e[a]);this.setAttribute("position",new nt(i,3)),this.setAttribute("uv",new nt(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,i=e.length;t<i;t++){let i=e[t];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){let n=[];for(let i=0,r=e.shapes.length;i<r;i++){let r=t[e.shapes[i]];n.push(r)}let i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=new rY[i.type]().fromJSON(i)),new ac(n,e.options)}}let ad={generateTopUV:function(e,t,n,i,r){let a=t[3*n],s=t[3*n+1],o=t[3*i],l=t[3*i+1],u=t[3*r],c=t[3*r+1];return[new eu(a,s),new eu(o,l),new eu(u,c)]},generateSideWallUV:function(e,t,n,i,r,a){let s=t[3*n],o=t[3*n+1],l=t[3*n+2],u=t[3*i],c=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(o-c)<Math.abs(s-u)?[new eu(s,1-l),new eu(u,1-d),new eu(h,1-f),new eu(m,1-v)]:[new eu(o,1-l),new eu(c,1-d),new eu(p,1-f),new eu(g,1-v)]}};class ah extends rM{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ah(e.radius,e.detail)}}class ap extends nu{constructor(e=[new eu(0,-.5),new eu(.5,0),new eu(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=ei(i,0,2*Math.PI);const r=[],a=[],s=[],o=[],l=[],u=1/t,c=new ed,d=new eu,h=new ed,p=new ed,f=new ed;let m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,h.x=+(g=e[t+1].y-e[t].y),h.y=-m,h.z=0*g,f.copy(h),h.normalize(),o.push(h.x,h.y,h.z);break;case e.length-1:o.push(f.x,f.y,f.z);break;default:m=e[t+1].x-e[t].x,h.x=+(g=e[t+1].y-e[t].y),h.y=-m,h.z=0*g,p.copy(h),h.x+=f.x,h.y+=f.y,h.z+=f.z,h.normalize(),o.push(h.x,h.y,h.z),f.copy(p)}for(let r=0;r<=t;r++){const h=n+r*u*i,p=Math.sin(h),f=Math.cos(h);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*p,c.y=e[n].y,c.z=e[n].x*f,a.push(c.x,c.y,c.z),d.x=r/t,d.y=n/(e.length-1),s.push(d.x,d.y);const i=o[3*n+0]*p,u=o[3*n+1],h=o[3*n+0]*f;l.push(i,u,h)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const i=t+n*e.length,a=i+e.length,s=i+e.length+1,o=i+1;r.push(i,a,o),r.push(s,o,a)}this.setIndex(r),this.setAttribute("position",new nt(a,3)),this.setAttribute("uv",new nt(s,2)),this.setAttribute("normal",new nt(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ap(e.points,e.segments,e.phiStart,e.phiLength)}}class af extends rM{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new af(e.radius,e.detail)}}class am extends nu{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,a=t/2,s=Math.floor(n),o=Math.floor(i),l=s+1,u=o+1,c=e/s,d=t/o,h=[],p=[],f=[],m=[];for(let e=0;e<u;e++){const t=e*d-a;for(let n=0;n<l;n++){const i=n*c-r;p.push(i,-t,0),f.push(0,0,1),m.push(n/s),m.push(1-e/o)}}for(let e=0;e<o;e++)for(let t=0;t<s;t++){const n=t+l*e,i=t+l*(e+1),r=t+1+l*(e+1),a=t+1+l*e;h.push(n,i,a),h.push(i,r,a)}this.setIndex(h),this.setAttribute("position",new nt(p,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new am(e.width,e.height,e.widthSegments,e.heightSegments)}}class ag extends nu{constructor(e=.5,t=1,n=32,i=1,r=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},n=Math.max(3,n);const s=[],o=[],l=[],u=[];let c=e;const d=(t-e)/(i=Math.max(1,i)),h=new ed,p=new eu;for(let e=0;e<=i;e++){for(let e=0;e<=n;e++){const i=r+e/n*a;h.x=c*Math.cos(i),h.y=c*Math.sin(i),o.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,u.push(p.x,p.y)}c+=d}for(let e=0;e<i;e++){const t=e*(n+1);for(let e=0;e<n;e++){const i=e+t,r=i+n+1,a=i+n+2,o=i+1;s.push(i,r,o),s.push(r,a,o)}}this.setIndex(s),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ag(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class av extends nu{constructor(e=new rQ([new eu(0,.5),new eu(-.5,-.5),new eu(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],a=[];let s=0,o=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(s,o,t),s+=o,o=0;function l(e){let s=i.length/3,l=e.extractPoints(t),u=l.shape,c=l.holes;!1===ao.isClockWise(u)&&(u=u.reverse());for(let e=0,t=c.length;e<t;e++){let t=c[e];!0===ao.isClockWise(t)&&(c[e]=t.reverse())}let d=ao.triangulateShape(u,c);for(let e=0,t=c.length;e<t;e++){let t=c[e];u=u.concat(t)}for(let e=0,t=u.length;e<t;e++){let t=u[e];i.push(t.x,t.y,0),r.push(0,0,1),a.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){let t=d[e],i=t[0]+s,r=t[1]+s,a=t[2]+s;n.push(i,r,a),o+=3}}this.setIndex(n),this.setAttribute("position",new nt(i,3)),this.setAttribute("normal",new nt(r,3)),this.setAttribute("uv",new nt(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){let i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){let n=[];for(let i=0,r=e.shapes.length;i<r;i++){let r=t[e.shapes[i]];n.push(r)}return new av(n,e.curveSegments)}}class ay extends nu{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(a+s,Math.PI);let l=0;const u=[],c=new ed,d=new ed,h=[],p=[],f=[],m=[];for(let h=0;h<=n;h++){const g=[],v=h/n;let y=0;0===h&&0===a?y=.5/t:h===n&&o===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const o=n/t;c.x=-e*Math.cos(i+o*r)*Math.sin(a+v*s),c.y=e*Math.cos(a+v*s),c.z=e*Math.sin(i+o*r)*Math.sin(a+v*s),p.push(c.x,c.y,c.z),d.copy(c).normalize(),f.push(d.x,d.y,d.z),m.push(o+y,1-v),g.push(l++)}u.push(g)}for(let e=0;e<n;e++)for(let i=0;i<t;i++){const t=u[e][i+1],r=u[e][i],s=u[e+1][i],l=u[e+1][i+1];(0!==e||a>0)&&h.push(t,r,l),(e!==n-1||o<Math.PI)&&h.push(r,s,l)}this.setIndex(h),this.setAttribute("position",new nt(p,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ax extends rM{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ax(e.radius,e.detail)}}class ab extends nu{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const a=[],s=[],o=[],l=[],u=new ed,c=new ed,d=new ed;for(let a=0;a<=n;a++)for(let h=0;h<=i;h++){const p=h/i*r,f=a/n*Math.PI*2;c.x=(e+t*Math.cos(f))*Math.cos(p),c.y=(e+t*Math.cos(f))*Math.sin(p),c.z=t*Math.sin(f),s.push(c.x,c.y,c.z),u.x=e*Math.cos(p),u.y=e*Math.sin(p),d.subVectors(c,u).normalize(),o.push(d.x,d.y,d.z),l.push(h/i),l.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*e+t-1,r=(i+1)*(e-1)+t-1,s=(i+1)*(e-1)+t,o=(i+1)*e+t;a.push(n,r,o),a.push(r,s,o)}this.setIndex(a),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(o,3)),this.setAttribute("uv",new nt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ab(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class a_ extends nu{constructor(e=1,t=.4,n=64,i=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},n=Math.floor(n),i=Math.floor(i);const s=[],o=[],l=[],u=[],c=new ed,d=new ed,h=new ed,p=new ed,f=new ed,m=new ed,g=new ed;for(let s=0;s<=n;++s){const y=s/n*r*Math.PI*2;v(y,r,a,e,h),v(y+.01,r,a,e,p),m.subVectors(p,h),g.addVectors(p,h),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,a=-t*Math.cos(r),p=t*Math.sin(r);c.x=h.x+(a*g.x+p*f.x),c.y=h.y+(a*g.y+p*f.y),c.z=h.z+(a*g.z+p*f.z),o.push(c.x,c.y,c.z),d.subVectors(c,h).normalize(),l.push(d.x,d.y,d.z),u.push(s/n),u.push(e/i)}}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),a=(i+1)*e+t,o=(i+1)*(e-1)+t;s.push(n,r,o),s.push(r,a,o)}function v(e,t,n,i,r){let a=Math.cos(e),s=Math.sin(e),o=n/t*e,l=Math.cos(o);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(o)*.5}this.setIndex(s),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class aS extends nu{constructor(e=new rX(new ed(-1,-1,0),new ed(-1,1,0),new ed(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new ed,o=new ed,l=new eu;let u=new ed;const c=[],d=[],h=[],p=[];function f(r){u=e.getPointAt(r/t,u);let l=a.normals[r],h=a.binormals[r];for(let e=0;e<=i;e++){let t=e/i*Math.PI*2,r=Math.sin(t),a=-Math.cos(t);o.x=a*l.x+r*h.x,o.y=a*l.y+r*h.y,o.z=a*l.z+r*h.z,o.normalize(),d.push(o.x,o.y,o.z),s.x=u.x+n*o.x,s.y=u.y+n*o.y,s.z=u.z+n*o.z,c.push(s.x,s.y,s.z)}}(function(){for(let e=0;e<t;e++)f(e);f(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){let n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),a=(i+1)*e+t,s=(i+1)*(e-1)+t;p.push(n,r,s),p.push(r,a,s)}}()})(),this.setIndex(p),this.setAttribute("position",new nt(c,3)),this.setAttribute("normal",new nt(d,3)),this.setAttribute("uv",new nt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new aS(new rY[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aw extends nu{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new ed,r=new ed;if(null!==e.index){const a=e.attributes.position,s=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],u=l.start,c=l.count;for(let e=u,o=u+c;e<o;e+=3)for(let o=0;o<3;o++){const l=s.getX(e+o),u=s.getX(e+(o+1)%3);i.fromBufferAttribute(a,l),r.fromBufferAttribute(a,u),!0===aM(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let e=0,s=a.count/3;e<s;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;i.fromBufferAttribute(a,o),r.fromBufferAttribute(a,l),!0===aM(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new nt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function aM(e,t,n){let i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var aT=Object.freeze({__proto__:null,BoxGeometry:nw,CapsuleGeometry:rb,CircleGeometry:r_,ConeGeometry:rw,CylinderGeometry:rS,DodecahedronGeometry:rT,EdgesGeometry:rP,ExtrudeGeometry:ac,IcosahedronGeometry:ah,LatheGeometry:ap,OctahedronGeometry:af,PlaneGeometry:am,PolyhedronGeometry:rM,RingGeometry:ag,ShapeGeometry:av,SphereGeometry:ay,TetrahedronGeometry:ax,TorusGeometry:ab,TorusKnotGeometry:a_,TubeGeometry:aS,WireframeGeometry:aw});class aE extends tZ{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tG(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class aA extends nC{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aC extends tZ{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new tG(0xffffff),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aI extends aC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new eu(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ei(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tG(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tG(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tG(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class aP extends tZ{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tG(0xffffff),this.specular=new tG(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ak extends tZ{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tG(0xffffff),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class aR extends tZ{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class aN extends tZ{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tG(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aD extends tZ{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class aL extends tZ{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class aU extends tZ{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tG(0xffffff),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eu(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aO extends i0{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function az(e,t){return e&&e.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function aj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aF(e){let t=e.length,n=Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort(function(t,n){return e[t]-e[n]}),n}function a$(e,t,n){let i=e.length,r=new e.constructor(i);for(let a=0,s=0;s!==i;++a){let i=n[a]*t;for(let n=0;n!==t;++n)r[s++]=e[i+n]}return r}function aB(e,t,n,i){let r=1,a=e[0];for(;void 0!==a&&void 0===a[i];)a=e[r++];if(void 0===a)return;let s=a[i];if(void 0!==s)if(Array.isArray(s))do void 0!==(s=a[i])&&(t.push(a.time),n.push(...s)),a=e[r++];while(void 0!==a)else if(void 0!==s.toArray)do void 0!==(s=a[i])&&(t.push(a.time),s.toArray(n,n.length)),a=e[r++];while(void 0!==a)else do void 0!==(s=a[i])&&(t.push(a.time),n.push(s)),a=e[r++];while(void 0!==a)}class aV{static convertArray(e,t){return az(e,t)}static isTypedArray(e){return aj(e)}static getKeyframeOrder(e){return aF(e)}static sortedArray(e,t,n){return a$(e,t,n)}static flattenJSON(e,t,n,i){aB(e,t,n,i)}static subclip(e,t,n,i,r=30){return function(e,t,n,i,r=30){let a=e.clone();a.name=t;let s=[];for(let e=0;e<a.tracks.length;++e){let t=a.tracks[e],o=t.getValueSize(),l=[],u=[];for(let e=0;e<t.times.length;++e){let a=t.times[e]*r;if(!(a<n)&&!(a>=i)){l.push(t.times[e]);for(let n=0;n<o;++n)u.push(t.values[e*o+n])}}0!==l.length&&(t.times=az(l,t.times.constructor),t.values=az(u,t.values.constructor),s.push(t))}a.tracks=s;let o=1/0;for(let e=0;e<a.tracks.length;++e)o>a.tracks[e].times[0]&&(o=a.tracks[e].times[0]);for(let e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*o);return a.resetDuration(),a}(e,t,n,i,r)}static makeClipAdditive(e,t=0,n=e,i=30){return function(e,t=0,n=e,i=30){i<=0&&(i=30);let r=n.tracks.length,a=t/i;for(let t=0;t<r;++t){let i,r=n.tracks[t],s=r.ValueTypeName;if("bool"===s||"string"===s)continue;let o=e.tracks.find(function(e){return e.name===r.name&&e.ValueTypeName===s});if(void 0===o)continue;let l=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);let c=0,d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let h=r.times.length-1;if(a<=r.times[0]){let e=l,t=u-l;i=r.values.slice(e,t)}else if(a>=r.times[h]){let e=h*u+l,t=e+u-l;i=r.values.slice(e,t)}else{let e=r.createInterpolant(),t=l,n=u-l;e.evaluate(a),i=e.resultBuffer.slice(t,n)}"quaternion"===s&&new ec().fromArray(i).normalize().conjugate().toArray(i);let p=o.times.length;for(let e=0;e<p;++e){let t=e*d+c;if("quaternion"===s)ec.multiplyQuaternionsFlat(o.values,t,i,0,o.values,t);else{let e=d-2*c;for(let n=0;n<e;++n)o.values[t+n]-=i[n]}}}return e.blendMode=2501,e}(e,t,n,i)}}class aG{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];n:{i:{let a;r:{a:if(!(e<i)){for(let a=n+2;;){if(void 0===i){if(e<r)break a;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=i,e<(i=t[++n]))break i}a=t.length;break r}if(!(e>=r)){let s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,e>=(r=t[--n-1]))break i}a=n,n=0;break r}break n}for(;n<a;){let i=n+a>>>1;e<t[i]?a=i:n=i+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let e=0;e!==i;++e)t[e]=n[r+e];return t}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class aH extends aG{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){let i=this.parameterPositions,r=e-2,a=e+1,s=i[r],o=i[a];if(void 0===s)switch(this.getSettings_().endingStart){case 2401:r=e,s=2*t-n;break;case 2402:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===o)switch(this.getSettings_().endingEnd){case 2401:a=e,o=2*n-t;break;case 2402:a=1,o=n+i[1]-i[0];break;default:a=e-1,o=t}let l=(n-t)*.5,u=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(o-n),this._offsetPrev=r*u,this._offsetNext=a*u}interpolate_(e,t,n,i){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,x=h*m-h*f;for(let e=0;e!==s;++e)r[e]=g*a[u+e]+v*a[l+e]+y*a[o+e]+x*a[c+e];return r}}class aW extends aG{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,u=(n-t)/(i-t),c=1-u;for(let e=0;e!==s;++e)r[e]=a[l+e]*c+a[o+e]*u;return r}}class aZ extends aG{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class aX{constructor(e,t,n,i){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=az(t,this.TimeBufferType),this.values=az(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:az(e.times,Array),values:az(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}InterpolantFactoryMethodDiscrete(e){return new aZ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new aW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(t);return X("KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);let e=this.getValueSize();this.times=n.slice(r,a),this.values=this.values.slice(r*e,a*e)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(q("KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,r=n.length;0===r&&(q("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==r;t++){let i=n[t];if("number"==typeof i&&isNaN(i)){q("KeyframeTrack: Time is not a valid number.",this,t,i),e=!1;break}if(null!==a&&a>i){q("KeyframeTrack: Out of order keys.",this,t,i,a),e=!1;break}a=i}if(void 0!==i&&aj(i))for(let t=0,n=i.length;t!==n;++t){let n=i[t];if(isNaN(n)){q("KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){let e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,a=1;for(let s=1;s<r;++s){let r=!1,o=e[s];if(o!==e[s+1]&&(1!==s||o!==e[0]))if(i)r=!0;else{let e=s*n,i=e-n,a=e+n;for(let s=0;s!==n;++s){let n=t[e+s];if(n!==t[i+s]||n!==t[a+s]){r=!0;break}}}if(r){if(s!==a){e[a]=e[s];let i=s*n,r=a*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++a}}if(r>0){e[a]=e[r];for(let e=r*n,i=a*n,s=0;s!==n;++s)t[i+s]=t[e+s];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){let e=this.times.slice(),t=this.values.slice(),n=new this.constructor(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}aX.prototype.ValueTypeName="",aX.prototype.TimeBufferType=Float32Array,aX.prototype.ValueBufferType=Float32Array,aX.prototype.DefaultInterpolation=2301;class aq extends aX{constructor(e,t,n){super(e,t,n)}}aq.prototype.ValueTypeName="bool",aq.prototype.ValueBufferType=Array,aq.prototype.DefaultInterpolation=2300,aq.prototype.InterpolantFactoryMethodLinear=void 0,aq.prototype.InterpolantFactoryMethodSmooth=void 0;class aY extends aX{constructor(e,t,n,i){super(e,t,n,i)}}aY.prototype.ValueTypeName="color";class aJ extends aX{constructor(e,t,n,i){super(e,t,n,i)}}aJ.prototype.ValueTypeName="number";class aK extends aG{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(n-t)/(i-t),l=e*s;for(let e=l+s;l!==e;l+=4)ec.slerpFlat(r,0,a,l-s,a,l,o);return r}}class aQ extends aX{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new aK(this.times,this.values,this.getValueSize(),e)}}aQ.prototype.ValueTypeName="quaternion",aQ.prototype.InterpolantFactoryMethodSmooth=void 0;class a0 extends aX{constructor(e,t,n){super(e,t,n)}}a0.prototype.ValueTypeName="string",a0.prototype.ValueBufferType=Array,a0.prototype.DefaultInterpolation=2300,a0.prototype.InterpolantFactoryMethodLinear=void 0,a0.prototype.InterpolantFactoryMethodSmooth=void 0;class a1 extends aX{constructor(e,t,n,i){super(e,t,n,i)}}a1.prototype.ValueTypeName="vector";class a2{constructor(e="",t=-1,n=[],i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=en(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let e=0,r=n.length;e!==r;++e)t.push((function(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return aJ;case"vector":case"vector2":case"vector3":case"vector4":return a1;case"color":return aY;case"quaternion":return aQ;case"bool":case"boolean":return aq;case"string":return a0}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let t=[],n=[];aB(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)})(n[e]).scale(i));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let e=0,i=n.length;e!==i;++e)t.push(aX.toJSON(n[e]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let r=t.length,a=[];for(let e=0;e<r;e++){let s=[],o=[];s.push((e+r-1)%r,e,(e+1)%r),o.push(0,1,0);let l=aF(s);s=a$(s,1,l),o=a$(o,1,l),i||0!==s[0]||(s.push(r),o.push(o[0])),a.push(new aJ(".morphTargetInfluences["+t[e].name+"]",s,o).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},r=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.name.match(r);if(a&&a.length>1){let e=a[1],t=i[e];t||(i[e]=t=[]),t.push(n)}}let a=[];for(let e in i)a.push(this.CreateFromMorphTargetSequence(e,i[e],t,n));return a}static parseAnimation(e,t){if(X("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return q("AnimationClip: No animation in JSONLoader data."),null;let n=function(e,t,n,i,r){if(0!==n.length){let a=[],s=[];aB(n,a,s,i),0!==a.length&&r.push(new e(t,a,s))}},i=[],r=e.name||"default",a=e.fps||30,s=e.blendMode,o=e.length||-1,l=e.hierarchy||[];for(let e=0;e<l.length;e++){let r=l[e].keys;if(r&&0!==r.length)if(r[0].morphTargets){let e,t={};for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(let n in t){let t=[],a=[];for(let i=0;i!==r[e].morphTargets.length;++i){let i=r[e];t.push(i.time),a.push(+(i.morphTarget===n))}i.push(new aJ(".morphTargetInfluence["+n+"]",t,a))}o=t.length*a}else{let a=".bones["+t[e].name+"]";n(a1,a+".position",r,"pos",i),n(aQ,a+".quaternion",r,"rot",i),n(a1,a+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,o,i,s)}resetDuration(){let e=this.tracks,t=0;for(let n=0,i=e.length;n!==i;++n){let e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());let t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}let a3={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class a4{constructor(e,t,n){let i;const r=this;let a=!1,s=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(e){o++,!1===a&&void 0!==r.onStart&&r.onStart(e,s,o),a=!0},this.itemEnd=function(e){s++,void 0!==r.onProgress&&r.onProgress(e,s,o),s===o&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){let t=l.indexOf(e);return -1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){let n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}let a5=new a4;class a6{constructor(e){this.manager=void 0!==e?e:a5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}a6.DEFAULT_MATERIAL_NAME="__DEFAULT";let a8={};class a9 extends Error{constructor(e,t){super(e),this.response=t}}class a7 extends a6{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=a3.get(`file:${e}`);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==a8[e])return void a8[e].push({onLoad:t,onProgress:n,onError:i});a8[e]=[],a8[e].push({onLoad:t,onProgress:n,onError:i});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:"function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,o=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&X("FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;let n=a8[e],i=t.body.getReader(),r=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=r?parseInt(r):0,s=0!==a,o=0;return new Response(new ReadableStream({start(e){!function t(){i.read().then(({done:i,value:r})=>{if(i)e.close();else{let i=new ProgressEvent("progress",{lengthComputable:s,loaded:o+=r.byteLength,total:a});for(let e=0,t=n.length;e<t;e++){let t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(r),t()}},t=>{e.error(t)})}()}}))}throw new a9(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>new DOMParser().parseFromString(e,s));case"json":return e.json();default:if(""===s)return e.text();{let t=/charset="?([^;"\s]*)"?/i.exec(s),n=new TextDecoder(t&&t[1]?t[1].toLowerCase():void 0);return e.arrayBuffer().then(e=>n.decode(e))}}}).then(t=>{a3.add(`file:${e}`,t);let n=a8[e];delete a8[e];for(let e=0,i=n.length;e<i;e++){let i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{let n=a8[e];if(void 0===n)throw this.manager.itemError(e),t;delete a8[e];for(let e=0,i=n.length;e<i;e++){let i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class se extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=new a7(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):q(t),r.manager.itemError(e)}},n,i)}parse(e){let t=[];for(let n=0;n<e.length;n++){let i=a2.parse(e[n]);t.push(i)}return t}}class st extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=[],s=new rf,o=new a7(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let l=0;if(Array.isArray(e))for(let u=0,c=e.length;u<c;++u)!function(u){o.load(e[u],function(e){let n=r.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(s.minFilter=1006),s.image=a,s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,i)}(u);else o.load(e,function(e){let n=r.parse(e,!0);if(n.isCubemap){let e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}s.image=a}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=1006),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,i);return s}}let sn=new WeakMap;class si extends a6{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=this,a=a3.get(`image:${e}`);if(void 0!==a){if(!0===a.complete)r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0);else{let e=sn.get(a);void 0===e&&(e=[],sn.set(a,e)),e.push({onLoad:t,onError:i})}return a}let s=$("img");function o(){u(),t&&t(this);let n=sn.get(this)||[];for(let e=0;e<n.length;e++){let t=n[e];t.onLoad&&t.onLoad(this)}sn.delete(this),r.manager.itemEnd(e)}function l(t){u(),i&&i(t),a3.remove(`image:${e}`);let n=sn.get(this)||[];for(let e=0;e<n.length;e++){let i=n[e];i.onError&&i.onError(t)}sn.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){s.removeEventListener("load",o,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",o,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),a3.add(`image:${e}`,s),r.manager.itemStart(e),s.src=e,s}}class sr extends a6{constructor(e){super(e)}load(e,t,n,i){let r=new nL;r.colorSpace=P;let a=new si(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;for(let n=0;n<e.length;++n)!function(n){a.load(e[n],function(e){r.images[n]=e,6==++s&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}(n);return r}}class sa extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=new ih,s=new a7(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,function(e){let n;try{n=r.parse(e)}catch(e){if(void 0===i)return void e(e);i(e)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:1001,a.wrapT=void 0!==n.wrapT?n.wrapT:1001,a.magFilter=void 0!==n.magFilter?n.magFilter:1006,a.minFilter=void 0!==n.minFilter?n.minFilter:1006,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=1008),1===n.mipmapCount&&(a.minFilter=1006),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)},n,i),a}}class ss extends a6{constructor(e){super(e)}load(e,t,n,i){let r=new eA,a=new si(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}}class so extends tT{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new tG(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class sl extends so{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tT.DEFAULT_UP),this.updateMatrix(),this.groundColor=new tG(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}let su=new e9,sc=new ed,sd=new ed;class sh{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new eu(512,512),this.mapType=1009,this.map=null,this.mapPass=null,this.matrix=new e9,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new iN,this._frameExtents=new eu(1,1),this._viewportCount=1,this._viewports=[new eC(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;sc.setFromMatrixPosition(e.matrixWorld),t.position.copy(sc),sd.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sd),t.updateMatrixWorld(),su.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(su,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(su)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sp extends sh{constructor(){super(new nN(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){let t=this.camera,n=2*et*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class sf extends so{constructor(e,t,n=0,i=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tT.DEFAULT_UP),this.updateMatrix(),this.target=new tT,this.distance=n,this.angle=i,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new sp}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}let sm=new e9,sg=new ed,sv=new ed;class sy extends sh{constructor(){super(new nN(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new eu(4,2),this._viewportCount=6,this._viewports=[new eC(2,1,1,1),new eC(0,1,1,1),new eC(3,1,1,1),new eC(1,1,1,1),new eC(3,0,1,1),new eC(1,0,1,1)],this._cubeDirections=[new ed(1,0,0),new ed(-1,0,0),new ed(0,0,1),new ed(0,0,-1),new ed(0,1,0),new ed(0,-1,0)],this._cubeUps=[new ed(0,1,0),new ed(0,1,0),new ed(0,1,0),new ed(0,1,0),new ed(0,0,1),new ed(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),sg.setFromMatrixPosition(e.matrixWorld),n.position.copy(sg),sv.copy(n.position),sv.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(sv),n.updateMatrixWorld(),i.makeTranslation(-sg.x,-sg.y,-sg.z),sm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sm,n.coordinateSystem,n.reversedDepth)}}class sx extends so{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new sy}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class sb extends nI{constructor(e=-1,t=1,n=1,i=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,s=i+t,o=i-t;if(null!==this.view&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,a=r+e*this.view.width,s-=t*this.view.offsetY,o=s-t*this.view.height}this.projectionMatrix.makeOrthographic(r,a,s,o,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class s_ extends sh{constructor(){super(new sb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class sS extends so{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tT.DEFAULT_UP),this.updateMatrix(),this.target=new tT,this.shadow=new s_}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sw extends so{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sM extends so{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ed)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){let n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){let n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){let n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class sE extends so{constructor(e=new sT,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class sA extends a6{constructor(e){super(e),this.textures={}}load(e,t,n,i){let r=this,a=new a7(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):q(t),r.manager.itemError(e)}},n,i)}parse(e){let t=this.textures;function n(e){return void 0===t[e]&&X("MaterialLoader: Undefined texture",e),t[e]}let i=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=new tG().setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(let t in e.uniforms){let r=e.uniforms[t];switch(i.uniforms[t]={},r.type){case"t":i.uniforms[t].value=n(r.value);break;case"c":i.uniforms[t].value=new tG().setHex(r.value);break;case"v2":i.uniforms[t].value=new eu().fromArray(r.value);break;case"v3":i.uniforms[t].value=new ed().fromArray(r.value);break;case"v4":i.uniforms[t].value=new eC().fromArray(r.value);break;case"m3":i.uniforms[t].value=new ef().fromArray(r.value);break;case"m4":i.uniforms[t].value=new e9().fromArray(r.value);break;default:i.uniforms[t].value=r.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(let t in e.extensions)i.extensions[t]=e.extensions[t];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=new eu().fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=new eu().fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return sA.createMaterialFromType(e)}static createMaterialFromType(e){return new({ShadowMaterial:aE,SpriteMaterial:nW,RawShaderMaterial:aA,ShaderMaterial:nC,PointsMaterial:rr,MeshPhysicalMaterial:aI,MeshStandardMaterial:aC,MeshPhongMaterial:aP,MeshToonMaterial:ak,MeshNormalMaterial:aR,MeshLambertMaterial:aN,MeshDepthMaterial:aD,MeshDistanceMaterial:aL,MeshBasicMaterial:tX,MeshMatcapMaterial:aU,LineDashedMaterial:aO,LineBasicMaterial:i0,Material:tZ})[e]}}class sC{static extractUrlBase(e){let t=e.lastIndexOf("/");return -1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e))?e:t+e}}class sI extends nu{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class sP extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=new a7(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):q(t),r.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(e,i){if(void 0!==t[i])return t[i];let r=e.interleavedBuffers[i],a=function(e,t){if(void 0!==n[t])return n[t];let i=new Uint32Array(e.arrayBuffers[t]).buffer;return n[t]=i,i}(e,r.buffer),s=new nV(F(r.type,a),r.stride);return s.uuid=r.uuid,t[i]=s,s}let r=e.isInstancedBufferGeometry?new sI:new nu,a=e.data.index;if(void 0!==a){let e=F(a.type,a.array);r.setIndex(new t2(e,1))}let s=e.data.attributes;for(let t in s){let n,a=s[t];if(a.isInterleavedBufferAttribute)n=new nH(i(e.data,a.data),a.itemSize,a.offset,a.normalized);else{let e=F(a.type,a.array);n=new(a.isInstancedBufferAttribute?iv:t2)(e,a.itemSize,a.normalized)}void 0!==a.name&&(n.name=a.name),void 0!==a.usage&&n.setUsage(a.usage),r.setAttribute(t,n)}let o=e.data.morphAttributes;if(o)for(let t in o){let n=o[t],a=[];for(let t=0,r=n.length;t<r;t++){let r,s=n[t];r=s.isInterleavedBufferAttribute?new nH(i(e.data,s.data),s.itemSize,s.offset,s.normalized):new t2(F(s.type,s.array),s.itemSize,s.normalized),void 0!==s.name&&(r.name=s.name),a.push(r)}r.morphAttributes[t]=a}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);let l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){let t=l[e];r.addGroup(t.start,t.count,t.materialIndex)}let u=e.data.boundingSphere;return void 0!==u&&(r.boundingSphere=new eQ().fromJSON(u)),e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}class sk extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=""===this.path?sC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;let s=new a7(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(t){void 0!==i&&i(t),t("ObjectLoader: Can't parse "+e+".",t.message);return}let s=a.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase()){void 0!==i&&i(Error("THREE.ObjectLoader: Can't load "+e)),q("ObjectLoader: Can't load "+e);return}r.parse(a,t)},n,i)}async loadAsync(e,t){let n=""===this.path?sC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;let i=new a7(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);let r=JSON.parse(await i.loadAsync(e,t)),a=r.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(r)}parse(e,t){let n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,o,s,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),this.bindLightTargets(l),void 0!==t){let e=!1;for(let t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){let t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,i,s,a,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){let t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){let i=new rQ().fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){let n={},i={};if(t.traverse(function(e){e.isBone&&(i[e.uuid]=e)}),void 0!==e)for(let t=0,r=e.length;t<r;t++){let r=new ig().fromJSON(e[t],i);n[r.uuid]=r}return n}parseGeometries(e,t){let n={};if(void 0!==e){let i=new sP;for(let r=0,a=e.length;r<a;r++){let a,s=e[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(s);break;default:s.type in aT?a=aT[s.type].fromJSON(s,t):X(`ObjectLoader: Unsupported geometry type "${s.type}"`)}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}}return n}parseMaterials(e,t){let n={},i={};if(void 0!==e){let r=new sA;r.setTextures(t);for(let t=0,a=e.length;t<a;t++){let a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i}parseAnimations(e){let t={};if(void 0!==e)for(let n=0;n<e.length;n++){let i=e[n],r=a2.parse(i);t[r.uuid]=r}return t}parseImages(e,t){let n,i=this,r={};function a(e){if("string"==typeof e){var t;return t=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e,i.manager.itemStart(t),n.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}return e.data?{data:F(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){(n=new si(new a4(t))).setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){let n=e[t],i=n.url;if(Array.isArray(i)){let e=[];for(let t=0,n=i.length;t<n;t++){let n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new ih(n.data,n.width,n.height)))}r[n.uuid]=new ew(e)}else{let e=a(n.url);r[n.uuid]=new ew(e)}}}return r}async parseImagesAsync(e){let t,n=this,i={};async function r(e){if("string"==typeof e){let i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:n.resourcePath+e;return await t.loadAsync(i)}return e.data?{data:F(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){(t=new si(this.manager)).setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.url;if(Array.isArray(a)){let e=[];for(let t=0,n=a.length;t<n;t++){let n=a[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new ih(i.data,i.width,i.height)))}i[n.uuid]=new ew(e)}else{let e=await r(n.url);i[n.uuid]=new ew(e)}}}return i}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(X("ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}let i={};if(void 0!==e)for(let r=0,a=e.length;r<a;r++){let a,s=e[r];void 0===s.image&&X('ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&X("ObjectLoader: Undefined image",s.image);let o=t[s.image],l=o.data;Array.isArray(l)?(a=new nL,6===l.length&&(a.needsUpdate=!0)):(a=l&&l.data?new ih:new eA,l&&(a.needsUpdate=!0)),a.source=o,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,sR)),void 0!==s.channel&&(a.channel=s.channel),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],sN),a.wrapT=n(s.wrap[1],sN)),void 0!==s.format&&(a.format=s.format),void 0!==s.internalFormat&&(a.internalFormat=s.internalFormat),void 0!==s.type&&(a.type=s.type),void 0!==s.colorSpace&&(a.colorSpace=s.colorSpace),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,sD)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,sD)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.generateMipmaps&&(a.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(a.compareFunction=s.compareFunction),void 0!==s.userData&&(a.userData=s.userData),i[s.uuid]=a}return i}parseObject(e,t,n,i,r){let a,s,o;function l(e){return void 0===t[e]&&X("ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){let t=[];for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===n[r]&&X("ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&X("ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===i[e]&&X("ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":a=new nB,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new tG(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new n$(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new nF(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new nN(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new sb(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new sw(e.color,e.intensity);break;case"DirectionalLight":(a=new sS(e.color,e.intensity)).target=e.target||"";break;case"PointLight":a=new sx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new sM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":(a=new sf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay)).target=e.target||"";break;case"HemisphereLight":a=new sl(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new sE().fromJSON(e);break;case"SkinnedMesh":a=new ic(s=l(e.geometry),o=u(e.material)),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":a=new n_(s=l(e.geometry),o=u(e.material));break;case"InstancedMesh":s=l(e.geometry),o=u(e.material);let d=e.count,h=e.instanceMatrix,p=e.instanceColor;(a=new iT(s,o,d)).instanceMatrix=new iv(new Float32Array(h.array),16),void 0!==p&&(a.instanceColor=new iv(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":s=l(e.geometry),o=u(e.material),(a=new iQ(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o)).geometry=s,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(e=>{let t=null,n=null;return void 0!==e.boundingBox&&(t=new eL().fromJSON(e.boundingBox)),void 0!==e.boundingSphere&&(n=new eQ().fromJSON(e.boundingSphere)),{...e,boundingBox:t,boundingSphere:n}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=c(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(a.boundingSphere=new eQ().fromJSON(e.boundingSphere)),void 0!==e.boundingBox&&(a.boundingBox=new eL().fromJSON(e.boundingBox));break;case"LOD":a=new n7;break;case"Line":a=new i9(l(e.geometry),u(e.material));break;case"LineLoop":a=new ri(l(e.geometry),u(e.material));break;case"LineSegments":a=new rn(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new ru(l(e.geometry),u(e.material));break;case"Sprite":a=new n5(u(e.material));break;case"Group":a=new nO;break;case"Bone":a=new id;break;default:a=new tT}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){let s=e.children;for(let e=0;e<s.length;e++)a.add(this.parseObject(s[e],t,n,i,r))}if(void 0!==e.animations){let t=e.animations;for(let e=0;e<t.length;e++){let n=t[e];a.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);let t=e.levels;for(let e=0;e<t.length;e++){let n=t[e],i=a.getObjectByProperty("uuid",n.object);void 0!==i&&a.addLevel(i,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){let n=t[e.skeleton];void 0===n?X("ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){let n=t.target,i=e.getObjectByProperty("uuid",n);void 0!==i?t.target=i:t.target=new tT}})}}let sR={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},sN={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},sD={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},sL=new WeakMap;class sU extends a6{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&X("ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&X("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=this,a=a3.get(`image-bitmap:${e}`);if(void 0!==a)return(r.manager.itemStart(e),a.then)?void a.then(n=>{if(!0!==sL.has(a))return t&&t(n),r.manager.itemEnd(e),n;i&&i(sL.get(a)),r.manager.itemError(e),r.manager.itemEnd(e)}):(setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a);let s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader,s.signal="function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;let o=fetch(e,s).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){return a3.add(`image-bitmap:${e}`,n),t&&t(n),r.manager.itemEnd(e),n}).catch(function(t){i&&i(t),sL.set(o,t),a3.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});a3.add(`image-bitmap:${e}`,o),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class sO{static getContext(){return void 0===i&&(i=new(window.AudioContext||window.webkitAudioContext)),i}static setContext(e){i=e}}class sz extends a6{constructor(e){super(e)}load(e,t,n,i){let r=this,a=new a7(this.manager);function s(t){i?i(t):q(t),r.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{let n=e.slice(0);sO.getContext().decodeAudioData(n,function(e){t(e)}).catch(s)}catch(e){s(e)}},n,i)}}let sj=new e9,sF=new e9,s$=new e9;class sB{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nN,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nN,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){let n,i;t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,s$.copy(e.projectionMatrix);let r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(ee*t.fov*.5)/t.zoom;sF.elements[12]=-r,sj.elements[12]=r,n=-s*t.aspect+a,i=s*t.aspect+a,s$.elements[0]=2*t.near/(i-n),s$.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(s$),n=-s*t.aspect-a,i=s*t.aspect-a,s$.elements[0]=2*t.near/(i-n),s$.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(s$)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sj)}}class sV extends nN{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class sG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}let sH=new ed,sW=new ec,sZ=new ed,sX=new ed,sq=new ed;class sY extends tT{constructor(){super(),this.type="AudioListener",this.context=sO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new sG}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sH,sW,sZ),sX.set(0,0,-1).applyQuaternion(sW),sq.set(0,1,0).applyQuaternion(sW),t.positionX){let e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sH.x,e),t.positionY.linearRampToValueAtTime(sH.y,e),t.positionZ.linearRampToValueAtTime(sH.z,e),t.forwardX.linearRampToValueAtTime(sX.x,e),t.forwardY.linearRampToValueAtTime(sX.y,e),t.forwardZ.linearRampToValueAtTime(sX.z,e),t.upX.linearRampToValueAtTime(sq.x,e),t.upY.linearRampToValueAtTime(sq.y,e),t.upZ.linearRampToValueAtTime(sq.z,e)}else t.setPosition(sH.x,sH.y,sH.z),t.setOrientation(sX.x,sX.y,sX.z,sq.x,sq.y,sq.z)}}class sJ extends tT{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void X("Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void X("Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){return!1===this.hasPlaybackControl?void X("Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this)}stop(e=0){return!1===this.hasPlaybackControl?void X("Audio: this Audio has no playback control."):(this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this)}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){return!1===this.hasPlaybackControl?void X("Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this)}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(X("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){return!1===this.hasPlaybackControl?void X("Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return(super.copy(e,t),"buffer"!==e.sourceType)?X("Audio: Audio source type cannot be copied."):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice()),this}clone(e){return new this.constructor(this.listener).copy(this,e)}}let sK=new ed,sQ=new ec,s0=new ed,s1=new ed;class s2 extends sJ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(sK,sQ,s0),s1.set(0,0,1).applyQuaternion(sQ);let t=this.panner;if(t.positionX){let e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sK.x,e),t.positionY.linearRampToValueAtTime(sK.y,e),t.positionZ.linearRampToValueAtTime(sK.z,e),t.orientationX.linearRampToValueAtTime(s1.x,e),t.orientationY.linearRampToValueAtTime(s1.y,e),t.orientationZ.linearRampToValueAtTime(s1.z,e)}else t.setPosition(sK.x,sK.y,sK.z),t.setOrientation(s1.x,s1.y,s1.z)}}class s3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class s4{constructor(e,t,n){let i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(0===a){for(let e=0;e!==i;++e)n[r+e]=n[e];a=t}else{a+=t;let e=t/a;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){let e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let e=t,r=t+t;e!==r;++e)if(n[e]!==n[e+t]){s.setValue(n,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let e=n;e!==i;++e)t[e]=t[i+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)e[t+i]=e[n+i]}_slerp(e,t,n,i){ec.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){let a=this._workIndex*r;ec.multiplyQuaternionsFlat(e,a,e,t,e,n),ec.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,r){let a=1-i;for(let s=0;s!==r;++s){let r=t+s;e[r]=e[r]*a+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let a=0;a!==r;++a){let r=t+a;e[r]=e[r]+e[n+a]*i}}}let s5="\\[\\]\\.:\\/",s6=RegExp("["+s5+"]","g"),s8="[^"+s5+"]",s9="[^"+s5.replace("\\.","")+"]",s7=RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",s8)+/(WCOD+)?/.source.replace("WCOD",s9)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",s8)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",s8)+"$"),oe=["material","materials","bones","map"];class ot{constructor(e,t,n){this.path=t,this.parsedPath=n||ot.parseTrackName(t),this.node=ot.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ot.Composite(e,t,n):new ot(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(s6,"")}static parseTrackName(e){let t=s7.exec(e);if(null===t)throw Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){let e=n.nodeName.substring(i+1);-1!==oe.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(e){for(let i=0;i<e.length;i++){let r=e[i];if(r.name===t||r.uuid===t)return r;let a=n(r.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=ot.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void X("PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void q("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void q("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void q("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void q("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void q("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void q("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void q("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}let a=e[i];if(void 0===a)return void q("PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);let s=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?s=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void q("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void q("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ot.Composite=class{constructor(e,t,n){const i=n||ot.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},ot.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ot.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ot.prototype.GetterByBindingType=[ot.prototype._getValue_direct,ot.prototype._getValue_array,ot.prototype._getValue_arrayElement,ot.prototype._getValue_toArray],ot.prototype.SetterByBindingTypeAndVersioning=[[ot.prototype._setValue_direct,ot.prototype._setValue_direct_setNeedsUpdate,ot.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_array,ot.prototype._setValue_array_setNeedsUpdate,ot.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_arrayElement,ot.prototype._setValue_arrayElement_setNeedsUpdate,ot.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_fromArray,ot.prototype._setValue_fromArray_setNeedsUpdate,ot.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class on{constructor(){this.isAnimationObjectGroup=!0,this.uuid=en(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length,s,o=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){let c=arguments[u],d=c.uuid,h=t[d];if(void 0===h){h=o++,t[d]=h,e.push(c);for(let e=0;e!==a;++e)r[e].push(new ot(c,n[e],i[e]))}else if(h<l){s=e[h];let o=--l,u=e[o];t[u.uuid]=h,e[h]=u,t[d]=o,e[o]=c;for(let e=0;e!==a;++e){let t=r[e],a=t[o],s=t[h];t[h]=a,void 0===s&&(s=new ot(c,n[e],i[e])),t[o]=s}}else e[h]!==s&&q("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){let s=arguments[a],o=s.uuid,l=t[o];if(void 0!==l&&l>=r){let a=r++,u=e[a];t[u.uuid]=l,e[l]=u,t[o]=a,e[a]=s;for(let e=0;e!==i;++e){let t=n[e],i=t[a],r=t[l];t[l]=i,t[a]=r}}}this.nCachedObjects_=r}uncache(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=e.length;for(let s=0,o=arguments.length;s!==o;++s){let o=arguments[s],l=o.uuid,u=t[l];if(void 0!==u)if(delete t[l],u<r){let s=--r,o=e[s],l=--a,c=e[l];t[o.uuid]=u,e[u]=o,t[c.uuid]=s,e[s]=c,e.pop();for(let e=0;e!==i;++e){let t=n[e],i=t[s],r=t[l];t[u]=i,t[s]=r,t.pop()}}else{let r=--a,s=e[r];r>0&&(t[s.uuid]=u),e[u]=s,e.pop();for(let e=0;e!==i;++e){let t=n[e];t[u]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){let n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];let a=this._paths,s=this._parsedPaths,o=this._objects,l=o.length,u=this.nCachedObjects_,c=Array(l);i=r.length,n[e]=i,a.push(e),s.push(t),r.push(c);for(let n=u,i=o.length;n!==i;++n){let i=o[n];c[n]=new ot(i,e,t)}return c}unsubscribe_(e){let t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){let i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length-1,o=a[s];t[e[s]]=n,a[n]=o,a.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}}class oi{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,a=r.length,s=Array(a),o={endingStart:2400,endingEnd:2400};for(let e=0;e!==a;++e){const t=r[e].createInterpolant(null);s[e]=t,t.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),!0===n){let n=this._clip.duration,i=e._clip.duration;e.warp(1,i/n,t),this.warp(n/i,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,r=i.time,a=this.timeScale,s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);let o=s.parameterPositions,l=s.sampleValues;return o[0]=r,o[1]=r+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);let r=this._startTime;if(null!==r){let i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);let a=this._updateTime(t),s=this._updateWeight(e);if(s>0){let e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulateAdditive(s);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(null!==n){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,a=2202===n;if(0===e)return -1===r?i:a&&(1&r)==1?t-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));s:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break s}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=t||i<0){let n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);let s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){let t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(a&&(1&r)==1)return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(e?i.endingStart=this.zeroSlopeAtStart?2401:2400:i.endingStart=2402,t?i.endingEnd=this.zeroSlopeAtEnd?2401:2400:i.endingEnd=2402)}_scheduleFading(e,t,n){let i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);let s=a.parameterPositions,o=a.sampleValues;return s[0]=r,o[0]=t,s[1]=r+e,o[1]=n,this}}let or=new Float32Array(1);class oa extends J{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,s=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName,u=l[o];void 0===u&&(u={},l[o]=u);for(let e=0;e!==r;++e){let r=i[e],l=r.name,c=u[l];if(void 0!==c)++c.referenceCount,a[e]=c;else{if(void 0!==(c=a[e])){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,o,l));continue}let i=t&&t._propertyBindings[e].binding.parsedPath;c=new s4(ot.create(n,l,i),r.ValueTypeName,r.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,o,l),a[e]=c}s[e].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{let t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,a=this._actionsByClip,s=a[r],o=s.knownActions,l=o[o.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,o[u]=l,o.pop(),e._byClipCacheIndex=null;let c=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete c[d],0===o.length&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,r=this._bindings,a=i[t];void 0===a&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,s=a[i],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete s[r],0===Object.keys(s).length&&delete a[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new aW(new Float32Array(2),new Float32Array(2),1,or)).__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){let i=t||this._root,r=i.uuid,a="string"==typeof e?a2.findByName(i,e):e,s=null!==a?a.uuid:e,o=this._actionsByClip[s],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==o){let e=o.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;let u=new oi(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,s,r),u}existingAction(e,t){let n=t||this._root,i=n.uuid,r="string"==typeof e?a2.findByName(n,e):e,a=r?r.uuid:e,s=this._actionsByClip[a];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let s=0;s!==n;++s)t[s]._update(i,e,r,a);let s=this._bindings,o=this._nActiveBindings;for(let e=0;e!==o;++e)s[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){let e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){let i=e[n];this._deactivateAction(i);let r=i._cacheIndex,a=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,a._cacheIndex=r,t[r]=a,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let e in n){let i=n[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}let i=this._bindingsByRootAndName[t];if(void 0!==i)for(let e in i){let t=i[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){let n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class os extends eI{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new eN(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class oo{constructor(e){this.value=e}clone(){return new oo(void 0===this.value.clone?this.value:this.value.clone())}}let ol=0;class ou extends J{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ol++}),this.name="",this.usage=35044,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let t=this.uniforms.indexOf(e);return -1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;let t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++){let n=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0;e<n.length;e++)this.uniforms.push(n[e].clone())}return this}clone(){return new this.constructor().copy(this)}}class oc extends nV{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class od{constructor(e,t,n,i,r,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.normalized=a,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}let oh=new e9;class op{constructor(e,t,n=0,i=1/0){this.ray=new e8(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new tu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):q("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return oh.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(oh),this}intersectObject(e,t=!0,n=[]){return om(e,this,n,t),n.sort(of),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)om(e[i],this,n,t);return n.sort(of),n}}function of(e,t){return e.distance-t.distance}function om(e,t,n,i){let r=!0;if(e.layers.test(t.layers)&&!1===e.raycast(t,n)&&(r=!1),!0===r&&!0===i){let i=e.children;for(let e=0,r=i.length;e<r;e++)om(i[e],t,n,!0)}}class og{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,void 0!==e.hidden&&(this._pageVisibilityHandler=ov.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){null!==this._pageVisibilityHandler&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return null!==this._pageVisibilityHandler&&!0===this._document.hidden?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(void 0!==e?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function ov(){!1===this._document.hidden&&this.reset()}class oy{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ei(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ei(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ox{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class ob{constructor(e,t,n,i){ob.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){let r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=i,this}}let o_=new eu;class oS{constructor(e=new eu(Infinity,Infinity),t=new eu(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=o_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,o_).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}let ow=new ed,oM=new ed,oT=new ed,oE=new ed,oA=new ed,oC=new ed,oI=new ed;class oP{constructor(e=new ed,t=new ed){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ow.subVectors(e,this.start),oM.subVectors(this.end,this.start);let n=oM.dot(oM),i=oM.dot(ow)/n;return t&&(i=ei(i,0,1)),i}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=oC,n=oI){let i,r,a=1e-8*1e-8,s=this.start,o=e.start,l=this.end,u=e.end;oT.subVectors(l,s),oE.subVectors(u,o),oA.subVectors(s,o);let c=oT.dot(oT),d=oE.dot(oE),h=oE.dot(oA);if(c<=a&&d<=a)return t.copy(s),n.copy(o),t.sub(n),t.dot(t);if(c<=a)i=0,r=ei(r=h/d,0,1);else{let e=oT.dot(oA);if(d<=a)r=0,i=ei(-e/c,0,1);else{let t=oT.dot(oE),n=c*d-t*t;i=0!==n?ei((t*h-e*d)/n,0,1):0,(r=(t*i+h)/d)<0?(r=0,i=ei(-e/c,0,1)):r>1&&(r=1,i=ei((t-e)/c,0,1))}}return t.copy(s).add(oT.multiplyScalar(i)),n.copy(o).add(oE.multiplyScalar(r)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}let ok=new ed;class oR extends tT{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new nu,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1;e<32;e++,t++){const n=e/32*Math.PI*2,r=t/32*Math.PI*2;i.push(Math.cos(n),Math.sin(n),1,Math.cos(r),Math.sin(r),1)}n.setAttribute("position",new nt(i,3));const r=new i0({fog:!1,toneMapped:!1});this.cone=new rn(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ok.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ok),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}let oN=new ed,oD=new e9,oL=new e9;class oU extends rn{constructor(e){const t=function e(t){let n=[];!0===t.isBone&&n.push(t);for(let i=0;i<t.children.length;i++)n.push(...e(t.children[i]));return n}(e),n=new nu,i=[],r=[];for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}n.setAttribute("position",new nt(i,3)),n.setAttribute("color",new nt(r,3)),super(n,new i0({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new tG(255),s=new tG(65280);this.setColors(a,s)}updateMatrixWorld(e){let t=this.bones,n=this.geometry,i=n.getAttribute("position");oL.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){let r=t[e];r.parent&&r.parent.isBone&&(oD.multiplyMatrices(oL,r.matrixWorld),oN.setFromMatrixPosition(oD),i.setXYZ(n,oN.x,oN.y,oN.z),oD.multiplyMatrices(oL,r.parent.matrixWorld),oN.setFromMatrixPosition(oD),i.setXYZ(n+1,oN.x,oN.y,oN.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){let n=this.geometry.getAttribute("color");for(let i=0;i<n.count;i+=2)n.setXYZ(i,e.r,e.g,e.b),n.setXYZ(i+1,t.r,t.g,t.b);return n.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oO extends n_{constructor(e,t,n){super(new ay(t,4,2),new tX({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}let oz=new ed,oj=new tG,oF=new tG;class o$ extends tT{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new af(t);i.rotateY(.5*Math.PI),this.material=new tX({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=new Float32Array(3*i.getAttribute("position").count);i.setAttribute("color",new t2(r,3)),this.add(new n_(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");oj.copy(this.light.color),oF.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){let i=e<n/2?oj:oF;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oB extends rn{constructor(e=10,t=10,n=4473924,i=8947848){n=new tG(n),i=new tG(i);const r=t/2,a=e/t,s=e/2,o=[],l=[];for(let e=0,u=0,c=-s;e<=t;e++,c+=a){o.push(-s,0,c,s,0,c),o.push(c,0,-s,c,0,s);const t=e===r?n:i;t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3}const u=new nu;u.setAttribute("position",new nt(o,3)),u.setAttribute("color",new nt(l,3)),super(u,new i0({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class oV extends rn{constructor(e=10,t=16,n=8,i=64,r=4473924,a=8947848){r=new tG(r),a=new tG(a);const s=[],o=[];if(t>1)for(let n=0;n<t;n++){const i=n/t*(2*Math.PI),l=Math.sin(i)*e,u=Math.cos(i)*e;s.push(0,0,0),s.push(l,0,u);const c=1&n?r:a;o.push(c.r,c.g,c.b),o.push(c.r,c.g,c.b)}for(let t=0;t<n;t++){const l=1&t?r:a,u=e-e/n*t;for(let e=0;e<i;e++){let t=e/i*(2*Math.PI),n=Math.sin(t)*u,r=Math.cos(t)*u;s.push(n,0,r),o.push(l.r,l.g,l.b),n=Math.sin(t=(e+1)/i*(2*Math.PI))*u,r=Math.cos(t)*u,s.push(n,0,r),o.push(l.r,l.g,l.b)}}const l=new nu;l.setAttribute("position",new nt(s,3)),l.setAttribute("color",new nt(o,3)),super(l,new i0({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}let oG=new ed,oH=new ed,oW=new ed;class oZ extends tT{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new nu;i.setAttribute("position",new nt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new i0({fog:!1,toneMapped:!1});this.lightPlane=new i9(i,r),this.add(this.lightPlane),(i=new nu).setAttribute("position",new nt([0,0,0,0,0,1],3)),this.targetLine=new i9(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oG.setFromMatrixPosition(this.light.matrixWorld),oH.setFromMatrixPosition(this.light.target.matrixWorld),oW.subVectors(oH,oG),this.lightPlane.lookAt(oH),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oH),this.targetLine.scale.z=oW.length()}}let oX=new ed,oq=new nI;class oY extends rn{constructor(e){const t=new nu,n=new i0({color:0xffffff,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={};function s(e,t){o(e),o(t)}function o(e){i.push(0,0,0),r.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new nt(i,3)),t.setAttribute("color",new nt(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new tG(0xffaa00),u=new tG(0xff0000),c=new tG(43775),d=new tG(0xffffff),h=new tG(3355443);this.setColors(l,u,c,d,h)}setColors(e,t,n,i,r){let a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0,this}update(){let e,t,n=this.geometry,i=this.pointMap;if(oq.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),!0===this.camera.reversedDepth)e=1,t=0;else if(2e3===this.camera.coordinateSystem)e=-1,t=1;else if(2001===this.camera.coordinateSystem)e=0,t=1;else throw Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);oJ("c",i,n,oq,0,0,e),oJ("t",i,n,oq,0,0,t),oJ("n1",i,n,oq,-1,-1,e),oJ("n2",i,n,oq,1,-1,e),oJ("n3",i,n,oq,-1,1,e),oJ("n4",i,n,oq,1,1,e),oJ("f1",i,n,oq,-1,-1,t),oJ("f2",i,n,oq,1,-1,t),oJ("f3",i,n,oq,-1,1,t),oJ("f4",i,n,oq,1,1,t),oJ("u1",i,n,oq,.7,1.1,e),oJ("u2",i,n,oq,-.7,1.1,e),oJ("u3",i,n,oq,0,2,e),oJ("cf1",i,n,oq,-1,0,t),oJ("cf2",i,n,oq,1,0,t),oJ("cf3",i,n,oq,0,-1,t),oJ("cf4",i,n,oq,0,1,t),oJ("cn1",i,n,oq,-1,0,e),oJ("cn2",i,n,oq,1,0,e),oJ("cn3",i,n,oq,0,-1,e),oJ("cn4",i,n,oq,0,1,e),n.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oJ(e,t,n,i,r,a,s){oX.set(r,a,s).unproject(i);let o=t[e];if(void 0!==o){let e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],oX.x,oX.y,oX.z)}}let oK=new eL;class oQ extends rn{constructor(e,t=0xffff00){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new nu;r.setIndex(new t2(n,1)),r.setAttribute("position",new t2(i,3)),super(r,new i0({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&oK.setFromObject(this.object),oK.isEmpty())return;let e=oK.min,t=oK.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class o0 extends rn{constructor(e,t=0xffff00){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new nu;i.setIndex(new t2(n,1)),i.setAttribute("position",new nt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new i0({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class o1 extends i9{constructor(e,t=1,n=0xffff00){const i=new nu;i.setAttribute("position",new nt([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new i0({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const r=new nu;r.setAttribute("position",new nt([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new n_(r,new tX({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}let o2=new ed;class o3 extends tT{constructor(e=new ed(0,0,1),t=new ed(0,0,0),n=1,i=0xffff00,s=.2*n,o=.2*s){super(),this.type="ArrowHelper",void 0===r&&((r=new nu).setAttribute("position",new nt([0,0,0,0,1,0],3)),(a=new rw(.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new i9(r,new i0({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new n_(a,new tX({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{o2.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(o2,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class o4 extends rn{constructor(e=1){const t=new nu;t.setAttribute("position",new nt([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],3)),t.setAttribute("color",new nt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(t,new i0({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){let i=new tG,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class o5{constructor(){this.type="ShapePath",this.color=new tG,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new rK,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){let t,n,i,r,a,s=ao.isClockWise,o=this.subPaths;if(0===o.length)return[];let l=[];if(1===o.length)return n=o[0],(i=new rQ).curves=n.curves,l.push(i),l;let u=!s(o[0].getPoints());u=e?!u:u;let c=[],d=[],h=[],p=0;d[0]=void 0,h[p]=[];for(let i=0,a=o.length;i<a;i++)t=s(r=(n=o[i]).getPoints()),(t=e?!t:t)?(!u&&d[p]&&p++,d[p]={s:new rQ,p:r},d[p].s.curves=n.curves,u&&p++,h[p]=[]):h[p].push({h:n,p:r[0]});if(!d[0])return function(e){let t=[];for(let n=0,i=e.length;n<i;n++){let i=e[n],r=new rQ;r.curves=i.curves,t.push(r)}return t}(o);if(d.length>1){let e=!1,t=0;for(let e=0,t=d.length;e<t;e++)c[e]=[];for(let n=0,i=d.length;n<i;n++){let i=h[n];for(let r=0;r<i.length;r++){let a=i[r],s=!0;for(let i=0;i<d.length;i++)(function(e,t){let n=t.length,i=!1;for(let r=n-1,a=0;a<n;r=a++){let n=t[r],s=t[a],o=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],o=-o,s=t[r],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{let t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return i})(a.p,d[i].p)&&(n!==i&&t++,s?(s=!1,c[i].push(a)):e=!0);s&&c[n].push(a)}}t>0&&!1===e&&(h=c)}for(let e=0,t=d.length;e<t;e++){i=d[e].s,l.push(i),a=h[e];for(let e=0,t=a.length;e<t;e++)i.holes.push(a[e].h)}return l}}class o6 extends J{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0===e?X("Controls: connect() now requires an element."):(null!==this.domElement&&this.disconnect(),this.domElement=e)}disconnect(){}dispose(){}update(){}}function o8(e,t,n,i){let r=function(e){switch(e){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:case 35899:return{byteLength:4,components:3}}throw Error(`Unknown texture type ${e}.`)}(i);switch(n){case 1021:return e*t;case 1028:case 1029:return e*t/r.components*r.byteLength;case 1030:case 1031:return e*t*2/r.components*r.byteLength;case 1022:return e*t*3/r.components*r.byteLength;case 1023:case 1033:return e*t*4/r.components*r.byteLength;case 33776:case 33777:case 36196:case 37492:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case 33778:case 33779:case 37496:case 37808:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case 35841:case 35843:return Math.max(e,16)*Math.max(t,8)/4;case 35840:case 35842:return Math.max(e,8)*Math.max(t,8)/2;case 37809:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case 37810:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case 37811:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case 37812:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case 37813:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case 37814:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case 37815:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case 37816:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case 37817:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case 37818:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case 37819:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case 37820:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case 37821:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case 36492:case 36494:case 36495:case 36285:case 36286:return Math.ceil(e/4)*Math.ceil(t/4)*16;case 36283:case 36284:return Math.ceil(e/4)*Math.ceil(t/4)*8}throw Error(`Unable to determine texture byte length for ${n} format.`)}class o9{static contain(e,t){let n;return(n=e.image&&e.image.width?e.image.width/e.image.height:1)>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}static cover(e,t){let n;return(n=e.image&&e.image.width?e.image.width/e.image.height:1)>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}static fill(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}static getByteLength(e,t,n,i){return o8(e,t,n,i)}}function o7(){let e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0===t||null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function le(e){let t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);let i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){let e=t.get(n);(!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version});return}let r=t.get(n);if(void 0===r)t.set(n,function(t,n){let i,r=t.array,a=t.usage,s=r.byteLength,o=e.createBuffer();if(e.bindBuffer(n,o),e.bufferData(n,r,a),t.onUploadCallback(),r instanceof Float32Array)i=e.FLOAT;else if("undefined"!=typeof Float16Array&&r instanceof Float16Array)i=e.HALF_FLOAT;else if(r instanceof Uint16Array)i=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)i=e.SHORT;else if(r instanceof Uint32Array)i=e.UNSIGNED_INT;else if(r instanceof Int32Array)i=e.INT;else if(r instanceof Int8Array)i=e.BYTE;else if(r instanceof Uint8Array)i=e.UNSIGNED_BYTE;else if(r instanceof Uint8ClampedArray)i=e.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);return{buffer:o,type:i,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:s}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){let r=n.array,a=n.updateRanges;if(e.bindBuffer(i,t),0===a.length)e.bufferSubData(i,0,r);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){let n=a[t],i=a[e];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):a[++t]=i}a.length=t+1;for(let t=0,n=a.length;t<n;t++){let n=a[t];e.bufferSubData(i,n.start*r.BYTES_PER_ELEMENT,r,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"181"}})),"undefined"!=typeof window&&(window.__THREE__?X("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="181");let lt={alphahash_fragment:"#ifdef USE_ALPHAHASH\n	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n	const float ALPHA_HASH_SCALE = 0.05;\n	float hash2D( vec2 value ) {\n		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n	}\n	float hash3D( vec3 value ) {\n		return hash2D( vec2( hash2D( value.xy ), value.z ) );\n	}\n	float getAlphaHashThreshold( vec3 position ) {\n		float maxDeriv = max(\n			length( dFdx( position.xyz ) ),\n			length( dFdy( position.xyz ) )\n		);\n		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n		vec2 pixScales = vec2(\n			exp2( floor( log2( pixScale ) ) ),\n			exp2( ceil( log2( pixScale ) ) )\n		);\n		vec2 alpha = vec2(\n			hash3D( floor( pixScales.x * position.xyz ) ),\n			hash3D( floor( pixScales.y * position.xyz ) )\n		);\n		float lerpFactor = fract( log2( pixScale ) );\n		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n		float a = min( lerpFactor, 1.0 - lerpFactor );\n		vec3 cases = vec3(\n			x * x / ( 2.0 * a * ( 1.0 - a ) ),\n			( x - 0.5 * a ) / ( 1.0 - a ),\n			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n		);\n		float threshold = ( x < ( 1.0 - a ) )\n			? ( ( x < a ) ? cases.x : cases.y )\n			: cases.z;\n		return clamp( threshold , 1.0e-6, 1.0 );\n	}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	#ifdef ALPHA_TO_COVERAGE\n	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n	if ( diffuseColor.a == 0.0 ) discard;\n	#else\n	if ( diffuseColor.a < alphaTest ) discard;\n	#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_CLEARCOAT ) \n		clearcoatSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_SHEEN ) \n		sheenSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n	#if ! defined( GL_ANGLE_multi_draw )\n	#define gl_DrawID _gl_DrawID\n	uniform int _gl_DrawID;\n	#endif\n	uniform highp sampler2D batchingTexture;\n	uniform highp usampler2D batchingIdTexture;\n	mat4 getBatchingMatrix( const in float i ) {\n		int size = textureSize( batchingTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n	float getIndirectIndex( const in int i ) {\n		int size = textureSize( batchingIdTexture, 0 ).x;\n		int x = i % size;\n		int y = i / size;\n		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n	}\n#endif\n#ifdef USE_BATCHING_COLOR\n	uniform sampler2D batchingColorTexture;\n	vec3 getBatchingColor( const in float i ) {\n		int size = textureSize( batchingColorTexture, 0 ).x;\n		int j = int( i );\n		int x = j % size;\n		int y = j / size;\n		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n	}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n	vPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#ifdef ALPHA_TO_COVERAGE\n		float distanceToPlane, distanceGradient;\n		float clipOpacity = 1.0;\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n			distanceGradient = fwidth( distanceToPlane ) / 2.0;\n			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			if ( clipOpacity == 0.0 ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			float unionClipOpacity = 1.0;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n				distanceGradient = fwidth( distanceToPlane ) / 2.0;\n				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			}\n			#pragma unroll_loop_end\n			clipOpacity *= 1.0 - unionClipOpacity;\n		#endif\n		diffuseColor.a *= clipOpacity;\n		if ( diffuseColor.a == 0.0 ) discard;\n	#else\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			bool clipped = true;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n			}\n			#pragma unroll_loop_end\n			if ( clipped ) discard;\n		#endif\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n	vColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n	varying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n	vec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n	mat3 bm = mat3( batchingMatrix );\n	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n	transformedNormal = bm * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = bm * transformedTangent;\n	#endif\n#endif\n#ifdef USE_INSTANCING\n	mat3 im = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n	transformedNormal = im * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = im * transformedTangent;\n	#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n		emissiveColor = sRGBTransferEOTF( emissiveColor );\n	#endif\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n	return value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	uniform mat3 envMapRotation;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n	uniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n	if ( cutoffDistance > 0.0 ) {\n		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n	}\n	return distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n	material.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	if( material.anisotropy == 0.0 ) {\n		anisotropyV = vec2( 1.0, 0.0 );\n	} else {\n		anisotropyV /= material.anisotropy;\n		material.anisotropy = saturate( material.anisotropy );\n	}\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	float dispersion;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return saturate(v);\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	vec2 uv = vec2( roughness, dotNV );\n	return texture2D( dfgLUT, uv ).rg;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );\n	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );\n	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;\n	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;\n	float Ess_V = dfgV.x + dfgV.y;\n	float Ess_L = dfgL.x + dfgL.y;\n	float Ems_V = 1.0 - Ess_V;\n	float Ems_L = 1.0 - Ess_L;\n	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;\n	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );\n	float compensationFactor = Ems_V * Ems_L;\n	vec3 multiScatter = Fms * compensationFactor;\n	return singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometryNormal;\n		vec3 viewDir = geometryViewDir;\n		vec3 position = geometryPosition;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n	geometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometryViewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometryPosition, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometryPosition, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if defined( USE_LIGHT_PROBES )\n		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometryNormal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n	vFragDepth = 1.0 + gl_Position.w;\n	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n	float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n	}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	#ifndef USE_INSTANCING_MORPH\n		uniform float morphTargetBaseInfluence;\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	#endif\n	uniform sampler2DArray morphTargetsTexture;\n	uniform ivec2 morphTargetsTextureSize;\n	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n		int y = texelIndex / morphTargetsTextureSize.x;\n		int x = texelIndex - y * morphTargetsTextureSize.x;\n		ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n		return texelFetch( morphTargetsTexture, morphUV, 0 );\n	}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal,\n		#if defined( USE_NORMALMAP )\n			vNormalMapUv\n		#elif defined( USE_CLEARCOAT_NORMALMAP )\n			vClearcoatNormalMapUv\n		#else\n			vUv\n		#endif\n		);\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n	if( v <= 0.0 )\n		return vec4( 0., 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec4( 1., 1., 1., 1. );\n	float vuf;\n	float af = modf( v * PackFactors.a, vuf );\n	float bf = modf( vuf * ShiftRight8, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n	if( v <= 0.0 )\n		return vec3( 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec3( 1., 1., 1. );\n	float vuf;\n	float bf = modf( v * PackFactors.b, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n	if( v <= 0.0 )\n		return vec2( 0., 0. );\n	if( v >= 1.0 )\n		return vec2( 1., 1. );\n	float vuf;\n	float gf = modf( v * 256., vuf );\n	return vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n	return dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n	mvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );\n		#ifdef USE_REVERSED_DEPTH_BUFFER\n			return step( depth, compare );\n		#else\n			return step( compare, depth );\n		#endif\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		#ifdef USE_REVERSED_DEPTH_BUFFER\n			float hard_shadow = step( distribution.x, compare );\n		#else\n			float hard_shadow = step( compare, distribution.x );\n		#endif\n		if ( hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		float shadow = 1.0;\n		vec3 lightToPosition = shadowCoord.xyz;\n		\n		float lightToPositionLength = length( lightToPosition );\n		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;\n			vec3 bd3D = normalize( lightToPosition );\n			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n				shadow = (\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n				) * ( 1.0 / 9.0 );\n			#else\n				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n			#endif\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	mat4 getBoneMatrix( const in float i ) {\n		int size = textureSize( boneTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n	vec3( 1.6605, - 0.1246, - 0.0182 ),\n	vec3( - 0.5876, 1.1329, - 0.1006 ),\n	vec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n	vec3( 0.6274, 0.0691, 0.0164 ),\n	vec3( 0.3293, 0.9195, 0.0880 ),\n	vec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n	vec3 x2 = x * x;\n	vec3 x4 = x2 * x2;\n	return + 15.5 * x4 * x2\n		- 40.14 * x4 * x\n		+ 31.96 * x4\n		- 6.868 * x2 * x\n		+ 0.4298 * x2\n		+ 0.1191 * x\n		- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n	const mat3 AgXInsetMatrix = mat3(\n		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n	);\n	const mat3 AgXOutsetMatrix = mat3(\n		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n	);\n	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;\n	color *= toneMappingExposure;\n	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n	color = AgXInsetMatrix * color;\n	color = max( color, 1e-10 );	color = log2( color );\n	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n	color = clamp( color, 0.0, 1.0 );\n	color = agxDefaultContrastApprox( color );\n	color = AgXOutsetMatrix * color;\n	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n	color = clamp( color, 0.0, 1.0 );\n	return color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n	const float StartCompression = 0.8 - 0.04;\n	const float Desaturation = 0.15;\n	color *= toneMappingExposure;\n	float x = min( color.r, min( color.g, color.b ) );\n	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n	color -= offset;\n	float peak = max( color.r, max( color.g, color.b ) );\n	if ( peak < StartCompression ) return color;\n	float d = 1. - StartCompression;\n	float newPeak = 1. - d * d / ( peak + d - StartCompression );\n	color *= newPeak / peak;\n	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n	return mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec4 transmittedLight;\n		vec3 transmittance;\n		#ifdef USE_DISPERSION\n			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n			for ( int i = 0; i < 3; i ++ ) {\n				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n				vec3 refractedRayExit = position + transmissionRay;\n				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n				vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n				refractionCoords += 1.0;\n				refractionCoords /= 2.0;\n				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n				transmittedLight[ i ] = transmissionSample[ i ];\n				transmittedLight.a += transmissionSample.a;\n				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n			}\n			transmittedLight.a /= 3.0;\n		#else\n			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n			vec3 refractedRayExit = position + transmissionRay;\n			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n			vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n			refractionCoords += 1.0;\n			refractionCoords /= 2.0;\n			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		#endif\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_BATCHING\n		worldPosition = batchingMatrix * worldPosition;\n	#endif\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <logdepthbuf_fragment>\n	#ifdef USE_REVERSED_DEPTH_BUFFER\n		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n	#else\n		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n	#endif\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#elif DEPTH_PACKING == 3202\n		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n	#elif DEPTH_PACKING == 3203\n		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n	uniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n	#endif\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix[ 3 ];\n	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}"},ln={common:{diffuse:{value:new tG(0xffffff)},opacity:{value:1},map:{value:null},mapTransform:{value:new ef},alphaMap:{value:null},alphaMapTransform:{value:new ef},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ef}},envmap:{envMap:{value:null},envMapRotation:{value:new ef},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ef}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ef}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ef},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ef},normalScale:{value:new eu(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ef},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ef}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ef}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ef}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tG(0xffffff)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tG(0xffffff)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ef},alphaTest:{value:0},uvTransform:{value:new ef}},sprite:{diffuse:{value:new tG(0xffffff)},opacity:{value:1},center:{value:new eu(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ef},alphaMap:{value:null},alphaMapTransform:{value:new ef},alphaTest:{value:0}}},li={basic:{uniforms:nT([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.fog]),vertexShader:lt.meshbasic_vert,fragmentShader:lt.meshbasic_frag},lambert:{uniforms:nT([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,ln.lights,{emissive:{value:new tG(0)}}]),vertexShader:lt.meshlambert_vert,fragmentShader:lt.meshlambert_frag},phong:{uniforms:nT([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,ln.lights,{emissive:{value:new tG(0)},specular:{value:new tG(1118481)},shininess:{value:30}}]),vertexShader:lt.meshphong_vert,fragmentShader:lt.meshphong_frag},standard:{uniforms:nT([ln.common,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.roughnessmap,ln.metalnessmap,ln.fog,ln.lights,{emissive:{value:new tG(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag},toon:{uniforms:nT([ln.common,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.gradientmap,ln.fog,ln.lights,{emissive:{value:new tG(0)}}]),vertexShader:lt.meshtoon_vert,fragmentShader:lt.meshtoon_frag},matcap:{uniforms:nT([ln.common,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,{matcap:{value:null}}]),vertexShader:lt.meshmatcap_vert,fragmentShader:lt.meshmatcap_frag},points:{uniforms:nT([ln.points,ln.fog]),vertexShader:lt.points_vert,fragmentShader:lt.points_frag},dashed:{uniforms:nT([ln.common,ln.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:lt.linedashed_vert,fragmentShader:lt.linedashed_frag},depth:{uniforms:nT([ln.common,ln.displacementmap]),vertexShader:lt.depth_vert,fragmentShader:lt.depth_frag},normal:{uniforms:nT([ln.common,ln.bumpmap,ln.normalmap,ln.displacementmap,{opacity:{value:1}}]),vertexShader:lt.meshnormal_vert,fragmentShader:lt.meshnormal_frag},sprite:{uniforms:nT([ln.sprite,ln.fog]),vertexShader:lt.sprite_vert,fragmentShader:lt.sprite_frag},background:{uniforms:{uvTransform:{value:new ef},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:lt.background_vert,fragmentShader:lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ef}},vertexShader:lt.backgroundCube_vert,fragmentShader:lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:lt.cube_vert,fragmentShader:lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:lt.equirect_vert,fragmentShader:lt.equirect_frag},distanceRGBA:{uniforms:nT([ln.common,ln.displacementmap,{referencePosition:{value:new ed},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:lt.distanceRGBA_vert,fragmentShader:lt.distanceRGBA_frag},shadow:{uniforms:nT([ln.lights,ln.fog,{color:{value:new tG(0)},opacity:{value:1}}]),vertexShader:lt.shadow_vert,fragmentShader:lt.shadow_frag}};li.physical={uniforms:nT([li.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ef},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ef},clearcoatNormalScale:{value:new eu(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ef},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ef},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ef},sheen:{value:0},sheenColor:{value:new tG(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ef},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ef},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ef},transmissionSamplerSize:{value:new eu},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ef},attenuationDistance:{value:0},attenuationColor:{value:new tG(0)},specularColor:{value:new tG(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ef},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ef},anisotropyVector:{value:new eu},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ef}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag};let lr={r:0,b:0,g:0},la=new tl,ls=new e9;function lo(e,t,n,i,r,a,s){let o,l,u=new tG(0),c=+(!0!==a),d=null,h=0,p=null;function f(e){let i=!0===e.isScene?e.background:null;return i&&i.isTexture&&(i=(e.backgroundBlurriness>0?n:t).get(i)),i}function m(t,n){t.getRGB(lr,nE(e)),i.buffers.color.setClear(lr.r,lr.g,lr.b,n,s)}return{getClearColor:function(){return u},setClearColor:function(e,t=1){u.set(e),m(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){m(u,c=e)},render:function(t){let n=!1,r=f(t);null===r?m(u,c):r&&r.isColor&&(m(r,1),n=!0);let a=e.xr.getEnvironmentBlendMode();"additive"===a?i.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===a&&i.buffers.color.setClear(0,0,0,0,s),(e.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){let i=f(n);i&&(i.isCubeTexture||306===i.mapping)?(void 0===l&&((l=new n_(new nw(1,1,1),new nC({name:"BackgroundCubeMaterial",uniforms:nM(li.backgroundCube.uniforms),vertexShader:li.backgroundCube.vertexShader,fragmentShader:li.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),la.copy(n.backgroundRotation),la.x*=-1,la.y*=-1,la.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(la.y*=-1,la.z*=-1),l.material.uniforms.envMap.value=i,l.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(ls.makeRotationFromEuler(la)),l.material.toneMapped=ey.getTransfer(i.colorSpace)!==N,(d!==i||h!==i.version||p!==e.toneMapping)&&(l.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null)):i&&i.isTexture&&(void 0===o&&((o=new n_(new am(2,2),new nC({name:"BackgroundMaterial",uniforms:nM(li.background.uniforms),vertexShader:li.background.vertexShader,fragmentShader:li.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=i,o.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,o.material.toneMapped=ey.getTransfer(i.colorSpace)!==N,!0===i.matrixAutoUpdate&&i.updateMatrix(),o.material.uniforms.uvTransform.value.copy(i.matrix),(d!==i||h!==i.version||p!==e.toneMapping)&&(o.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),o.layers.enableAll(),t.unshift(o,o.geometry,o.material,0,0,null))},dispose:function(){void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0),void 0!==o&&(o.geometry.dispose(),o.material.dispose(),o=void 0)}}}function ll(e,t){let n=e.getParameter(e.MAX_VERTEX_ATTRIBS),i={},r=u(null),a=r,s=!1;function o(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function u(e){let t=[],i=[],r=[];for(let e=0;e<n;e++)t[e]=0,i[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function c(){let e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){let i=a.newAttributes,r=a.enabledAttributes,s=a.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),s[t]!==n&&(e.vertexAttribDivisor(t,n),s[t]=n)}function p(){let t=a.newAttributes,n=a.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function f(t,n,i,r,a,s,o){!0===o?e.vertexAttribIPointer(t,n,i,a,s):e.vertexAttribPointer(t,n,i,r,a,s)}function m(){g(),s=!0,a!==r&&o((a=r).object)}function g(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,m,g){var v,y;let x,b,_,S,w=!1,M=(v=m,y=l,x=!0===r.wireframe,void 0===(b=i[v.id])&&(b={},i[v.id]=b),void 0===(_=b[y.id])&&(_={},b[y.id]=_),void 0===(S=_[x])&&(S=u(e.createVertexArray()),_[x]=S),S);a!==M&&o((a=M).object),(w=function(e,t,n,i){let r=a.attributes,s=t.attributes,o=0,l=n.getAttributes();for(let t in l)if(l[t].location>=0){let n=r[t],i=s[t];if(void 0===i&&("instanceMatrix"===t&&e.instanceMatrix&&(i=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(i=e.instanceColor)),void 0===n||n.attribute!==i||i&&n.data!==i.data)return!0;o++}return a.attributesNum!==o||a.index!==i}(n,m,l,g))&&function(e,t,n,i){let r={},s=t.attributes,o=0,l=n.getAttributes();for(let t in l)if(l[t].location>=0){let n=s[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));let i={};i.attribute=n,n&&n.data&&(i.data=n.data),r[t]=i,o++}a.attributes=r,a.attributesNum=o,a.index=i}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(w||s)&&(s=!1,function(n,i,r,a){c();let s=a.attributes,o=r.getAttributes(),l=i.defaultAttributeValues;for(let i in o){let r=o[i];if(r.location>=0){let o=s[i];if(void 0===o&&("instanceMatrix"===i&&n.instanceMatrix&&(o=n.instanceMatrix),"instanceColor"===i&&n.instanceColor&&(o=n.instanceColor)),void 0!==o){let i=o.normalized,s=o.itemSize,l=t.get(o);if(void 0===l)continue;let u=l.buffer,c=l.type,p=l.bytesPerElement,m=c===e.INT||c===e.UNSIGNED_INT||1013===o.gpuType;if(o.isInterleavedBufferAttribute){let t=o.data,l=t.stride,g=o.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)f(r.location+e,s/r.locationSize,c,i,l*p,(g+s/r.locationSize*e)*p,m)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,o.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)f(r.location+e,s/r.locationSize,c,i,s*p,s/r.locationSize*e*p,m)}}else if(void 0!==l){let t=l[i];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}p()}(n,r,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){for(let e in m(),i){let t=i[e];for(let e in t){let n=t[e];for(let e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e]}},releaseStatesOfGeometry:function(e){if(void 0===i[e.id])return;let t=i[e.id];for(let e in t){let n=t[e];for(let e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e.id]},releaseStatesOfProgram:function(e){for(let t in i){let n=i[t];if(void 0===n[e.id])continue;let r=n[e.id];for(let e in r)l(r[e].object),delete r[e];delete n[e.id]}},initAttributes:c,enableAttribute:d,disableUnusedAttributes:p}}function lu(e,t,n){let i;function r(t,r,a){0!==a&&(e.drawArraysInstanced(i,t,r,a),n.update(r,i,a))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,e,0,r,0,a);let s=0;for(let e=0;e<a;e++)s+=r[e];n.update(s,i,1)},this.renderMultiDrawInstances=function(e,a,s,o){if(0===s)return;let l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],a[t],o[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,a,0,o,0,s);let t=0;for(let e=0;e<s;e++)t+=a[e]*o[e];n.update(t,i,1)}}}function lc(e,t,n,i){let r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp",o=a(s);o!==s&&(X("WebGLRenderer:",s,"not supported, using",o,"instead."),s=o);let l=!0===n.logarithmicDepthBuffer,u=!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){let n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,textureFormatReadable:function(t){return 1023===t||i.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){let r=1016===n&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return 1009===n||i.convert(n)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)||1015===n||!!r},precision:s,logarithmicDepthBuffer:l,reversedDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function ld(e){let t=this,n=null,i=0,r=!1,a=!1,s=new iI,o=new ef,l={value:null,needsUpdate:!1};function u(e,n,i,r){let a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){let t=i+4*a,r=n.matrixWorldInverse;o.getNormalMatrix(r),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=i;t!==a;++t,n+=4)s.copy(e[t]).applyMatrix4(r,o),s.normal.toArray(u,n),u[n+3]=s.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){let n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(s,o,c){let d=s.clippingPlanes,h=s.clipIntersection,p=s.clipShadows,f=e.get(s);if(r&&null!==d&&0!==d.length&&(!a||p)){let e=a?0:i,t=4*e,r=f.clippingState||null;l.value=r,r=u(d,o,t,c);for(let e=0;e!==t;++e)r[e]=n[e];f.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}else a?u(null):(l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0)}}function lh(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function i(e){let n=e.target;n.removeEventListener("dispose",i);let r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){let a=r.mapping;if(303===a||304===a)if(t.has(r))return n(t.get(r).texture,r.mapping);else{let a=r.image;if(!a||!(a.height>0))return null;{let s=new nU(a.height);return s.fromEquirectangularTexture(e,r),t.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}}}return r},dispose:function(){t=new WeakMap}}}let lp=[.125,.215,.35,.446,.526,.582],lf=new sb,lm=new tG,lg=null,lv=0,ly=0,lx=!1,lb=new ed;class l_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,i=100,r={}){let{size:a=256,position:s=lb}=r;lg=this._renderer.getRenderTarget(),lv=this._renderer.getActiveCubeFace(),ly=this._renderer.getActiveMipmapLevel(),lx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);let o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,i,o,s),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=lT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=lM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(lg,lv,ly),this._renderer.xr.enabled=lx,e.scissorTest=!1,lw(e,0,0,e.width,e.height)}_fromTexture(e,t){301===e.mapping||302===e.mapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lg=this._renderer.getRenderTarget(),lv=this._renderer.getActiveCubeFace(),ly=this._renderer.getActiveMipmapLevel(),lx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:k,depthBuffer:!1},i=lS(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){var r,a;null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=lS(e,t,n);let{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=function(e){let t=[],n=[],i=[],r=e,a=e-4+1+lp.length;for(let s=0;s<a;s++){let a=Math.pow(2,r);t.push(a);let o=1/a;s>e-4?o=lp[s-e+4-1]:0===s&&(o=0),n.push(o);let l=1/(a-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],h=new Float32Array(108),p=new Float32Array(72),f=new Float32Array(36);for(let e=0;e<6;e++){let t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];h.set(i,18*e),p.set(d,12*e);let r=[e,e,e,e,e,e];f.set(r,6*e)}let m=new nu;m.setAttribute("position",new t2(h,3)),m.setAttribute("uv",new t2(p,2)),m.setAttribute("faceIndex",new t2(f,1)),i.push(new n_(m,null)),r>4&&r--}return{lodMeshes:i,sizeLods:t,sigmas:n}}(i)),this._blurMaterial=(r=i,new nC({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(20)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new ed(0,1,0)}},vertexShader:lE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})),this._ggxMaterial=(a=i,new nC({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:lE(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:0,depthTest:!1,depthWrite:!1}))}return i}_compileMaterial(e){let t=new n_(new nu,e);this._renderer.compile(t,lf)}_sceneToCubeUV(e,t,n,i,r){let a=new nN(90,1,t,n),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,c=l.toneMapping;l.getClearColor(lm),l.toneMapping=0,l.autoClear=!1,l.state.buffers.depth.getReversed()&&(l.setRenderTarget(i),l.clearDepth(),l.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new n_(new nw,new tX({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1})));let d=this._backgroundBox,h=d.material,p=!1,f=e.background;f?f.isColor&&(h.color.copy(f),e.background=null,p=!0):(h.color.copy(lm),p=!0);for(let t=0;t<6;t++){let n=t%3;0===n?(a.up.set(0,s[t],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x+o[t],r.y,r.z)):1===n?(a.up.set(0,0,s[t]),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y+o[t],r.z)):(a.up.set(0,s[t],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y,r.z+o[t]));let u=this._cubeSize;lw(i,n*u,t>2?u:0,u,u),l.setRenderTarget(i),p&&l.render(d,a),l.render(e,a)}l.toneMapping=c,l.autoClear=u,e.background=f}_textureToCubeUV(e,t){let n=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=lT()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=lM());let r=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=r,r.uniforms.envMap.value=e;let s=this._cubeSize;lw(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,lf)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;let i=this._lodMeshes.length;for(let t=1;t<i;t++)this._applyGGXFilter(e,t-1,t);t.autoClear=n}_applyGGXFilter(e,t,n){let i=this._renderer,r=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[n];s.material=a;let o=a.uniforms,l=n/(this._lodMeshes.length-1),u=t/(this._lodMeshes.length-1),c=Math.sqrt(l*l-u*u),{_lodMax:d}=this,h=this._sizeLods[n],p=3*h*(n>d-4?n-d+4:0),f=4*(this._cubeSize-h);o.envMap.value=e.texture,o.roughness.value=c*(.05+.95*l),o.mipInt.value=d-t,lw(r,p,f,3*h,2*h),i.setRenderTarget(r),i.render(s,lf),o.envMap.value=r.texture,o.roughness.value=0,o.mipInt.value=d-n,lw(e,p,f,3*h,2*h),i.setRenderTarget(e),i.render(s,lf)}_blur(e,t,n,i,r){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,s){let o=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&q("blur direction must be either latitudinal or longitudinal!");let u=this._lodMeshes[i];u.material=l;let c=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,f=isFinite(r)?1+Math.floor(3*p):20;f>20&&X(`sigmaRadians, ${r}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);let m=[],g=0;for(let e=0;e<20;++e){let t=e/p,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<f&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;c.envMap.value=e.texture,c.samples.value=f,c.weights.value=m,c.latitudinal.value="latitudinal"===a,s&&(c.poleAxis.value=s);let{_lodMax:v}=this;c.dTheta.value=h,c.mipInt.value=v-n;let y=this._sizeLods[i],x=4*(this._cubeSize-y);lw(t,3*y*(i>v-4?i-v+4:0),x,3*y,2*y),o.setRenderTarget(t),o.render(u,lf)}}function lS(e,t,n){let i=new eP(e,t,n);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function lw(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function lM(){return new nC({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function lT(){return new nC({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function lE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lA(e){let t=new WeakMap,n=null;function i(e){let n=e.target;n.removeEventListener("dispose",i);let r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){let a=r.mapping,s=303===a||304===a,o=301===a||302===a;if(s||o){let a=t.get(r),l=void 0!==a?a.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new l_(e)),(a=s?n.fromEquirectangular(r,a):n.fromCubemap(r,a)).texture.pmremVersion=r.pmremVersion,t.set(r,a),a.texture;{if(void 0!==a)return a.texture;let l=r.image;return s&&l&&l.height>0||o&&l&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(l)?(null===n&&(n=new l_(e)),(a=s?n.fromEquirectangular(r):n.fromCubemap(r)).texture.pmremVersion=r.pmremVersion,t.set(r,a),r.addEventListener("dispose",i),a.texture):null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function lC(e){let t={};function n(n){if(void 0!==t[n])return t[n];let i=e.getExtension(n);return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){let t=n(e);return null===t&&Y("WebGLRenderer: "+e+" extension not supported."),t}}}function lI(e,t,n,i){let r={},a=new WeakMap;function s(e){let o=e.target;for(let e in null!==o.index&&t.remove(o.index),o.attributes)t.remove(o.attributes[e]);o.removeEventListener("dispose",s),delete r[o.id];let l=a.get(o);l&&(t.remove(l),a.delete(o)),i.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){let n=[],i=e.index,r=e.attributes.position,s=0;if(null!==i){let e=i.array;s=i.version;for(let t=0,i=e.length;t<i;t+=3){let i=e[t+0],r=e[t+1],a=e[t+2];n.push(i,r,r,a,a,i)}}else{if(void 0===r)return;let e=r.array;s=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){let e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}let o=new(z(n)?t7:t8)(n,1);o.version=s;let l=a.get(e);l&&t.remove(l),a.set(e,o)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",s),r[t.id]=!0,n.memory.geometries++),t},update:function(n){let i=n.attributes;for(let n in i)t.update(i[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){let t=a.get(e);if(t){let n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return a.get(e)}}}function lP(e,t,n){let i,r,a;function s(t,s,o){0!==o&&(e.drawElementsInstanced(i,s,r,t*a,o),n.update(s,i,o))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,a=e.bytesPerElement},this.render=function(t,s){e.drawElements(i,s,r,t*a),n.update(s,i,1)},this.renderInstances=s,this.renderMultiDraw=function(e,a,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,a,0,r,e,0,s);let o=0;for(let e=0;e<s;e++)o+=a[e];n.update(o,i,1)},this.renderMultiDrawInstances=function(e,o,l,u){if(0===l)return;let c=t.get("WEBGL_multi_draw");if(null===c)for(let t=0;t<e.length;t++)s(e[t]/a,o[t],u[t]);else{c.multiDrawElementsInstancedWEBGL(i,o,0,r,e,0,u,0,l);let t=0;for(let e=0;e<l;e++)t+=o[e]*u[e];n.update(t,i,1)}}}function lk(e){let t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=n/3*r;break;case e.LINES:t.lines+=n/2*r;break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:q("WebGLInfo: Unknown draw mode:",i)}}}}function lR(e,t,n){let i=new WeakMap,r=new eC;return{update:function(a,s,o){let l=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,c=void 0!==u?u.length:0,d=i.get(s);if(void 0===d||d.count!==c){void 0!==d&&d.texture.dispose();let e=void 0!==s.morphAttributes.position,n=void 0!==s.morphAttributes.normal,a=void 0!==s.morphAttributes.color,o=s.morphAttributes.position||[],l=s.morphAttributes.normal||[],u=s.morphAttributes.color||[],h=0;!0===e&&(h=1),!0===n&&(h=2),!0===a&&(h=3);let p=s.attributes.position.count*h,f=1;p>t.maxTextureSize&&(f=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);let m=new Float32Array(p*f*4*c),g=new ek(m,p,f,c);g.type=1015,g.needsUpdate=!0;let v=4*h;for(let t=0;t<c;t++){let i=o[t],s=l[t],c=u[t],d=p*f*4*t;for(let t=0;t<i.count;t++){let o=t*v;!0===e&&(r.fromBufferAttribute(i,t),m[d+o+0]=r.x,m[d+o+1]=r.y,m[d+o+2]=r.z,m[d+o+3]=0),!0===n&&(r.fromBufferAttribute(s,t),m[d+o+4]=r.x,m[d+o+5]=r.y,m[d+o+6]=r.z,m[d+o+7]=0),!0===a&&(r.fromBufferAttribute(c,t),m[d+o+8]=r.x,m[d+o+9]=r.y,m[d+o+10]=r.z,m[d+o+11]=4===c.itemSize?r.w:1)}}d={count:c,texture:g,size:new eu(p,f)},i.set(s,d),s.addEventListener("dispose",function e(){g.dispose(),i.delete(s),s.removeEventListener("dispose",e)})}if(!0===a.isInstancedMesh&&null!==a.morphTexture)o.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];let n=s.morphTargetsRelative?1:1-t;o.getUniforms().setValue(e,"morphTargetBaseInfluence",n),o.getUniforms().setValue(e,"morphTargetInfluences",l)}o.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),o.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function lN(e,t,n,i){let r=new WeakMap;function a(e){let t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(s){let o=i.render.frame,l=s.geometry,u=t.get(s,l);if(r.get(u)!==o&&(t.update(u),r.set(u,o)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",a)&&s.addEventListener("dispose",a),r.get(s)!==o&&(n.update(s.instanceMatrix,e.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,e.ARRAY_BUFFER),r.set(s,o))),s.isSkinnedMesh){let e=s.skeleton;r.get(e)!==o&&(e.update(),r.set(e,o))}return u},dispose:function(){r=new WeakMap}}}let lD=new eA,lL=new ry(1,1),lU=new ek,lO=new eN,lz=new nL,lj=[],lF=[],l$=new Float32Array(16),lB=new Float32Array(9),lV=new Float32Array(4);function lG(e,t,n){let i=e[0];if(i<=0||i>0)return e;let r=t*n,a=lj[r];if(void 0===a&&(a=new Float32Array(r),lj[r]=a),0!==t){i.toArray(a,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r)}return a}function lH(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function lW(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function lZ(e,t){let n=lF[t];void 0===n&&(n=new Int32Array(t),lF[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function lX(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function lq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(lH(n,t))return;e.uniform2fv(this.addr,t),lW(n,t)}}function lY(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(lH(n,t))return;e.uniform3fv(this.addr,t),lW(n,t)}}function lJ(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(lH(n,t))return;e.uniform4fv(this.addr,t),lW(n,t)}}function lK(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(lH(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),lW(n,t)}else{if(lH(n,i))return;lV.set(i),e.uniformMatrix2fv(this.addr,!1,lV),lW(n,i)}}function lQ(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(lH(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),lW(n,t)}else{if(lH(n,i))return;lB.set(i),e.uniformMatrix3fv(this.addr,!1,lB),lW(n,i)}}function l0(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(lH(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),lW(n,t)}else{if(lH(n,i))return;l$.set(i),e.uniformMatrix4fv(this.addr,!1,l$),lW(n,i)}}function l1(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function l2(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(lH(n,t))return;e.uniform2iv(this.addr,t),lW(n,t)}}function l3(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(lH(n,t))return;e.uniform3iv(this.addr,t),lW(n,t)}}function l4(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(lH(n,t))return;e.uniform4iv(this.addr,t),lW(n,t)}}function l5(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function l6(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(lH(n,t))return;e.uniform2uiv(this.addr,t),lW(n,t)}}function l8(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(lH(n,t))return;e.uniform3uiv(this.addr,t),lW(n,t)}}function l9(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(lH(n,t))return;e.uniform4uiv(this.addr,t),lW(n,t)}}function l7(e,t,n){let i,r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),this.type===e.SAMPLER_2D_SHADOW?(lL.compareFunction=515,i=lL):i=lD,n.setTexture2D(t||i,a)}function ue(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||lO,r)}function ut(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||lz,r)}function un(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||lU,r)}function ui(e,t){e.uniform1fv(this.addr,t)}function ur(e,t){let n=lG(t,this.size,2);e.uniform2fv(this.addr,n)}function ua(e,t){let n=lG(t,this.size,3);e.uniform3fv(this.addr,n)}function us(e,t){let n=lG(t,this.size,4);e.uniform4fv(this.addr,n)}function uo(e,t){let n=lG(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ul(e,t){let n=lG(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function uu(e,t){let n=lG(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function uc(e,t){e.uniform1iv(this.addr,t)}function ud(e,t){e.uniform2iv(this.addr,t)}function uh(e,t){e.uniform3iv(this.addr,t)}function up(e,t){e.uniform4iv(this.addr,t)}function uf(e,t){e.uniform1uiv(this.addr,t)}function um(e,t){e.uniform2uiv(this.addr,t)}function ug(e,t){e.uniform3uiv(this.addr,t)}function uv(e,t){e.uniform4uiv(this.addr,t)}function uy(e,t,n){let i=this.cache,r=t.length,a=lZ(n,r);lH(i,a)||(e.uniform1iv(this.addr,a),lW(i,a));for(let e=0;e!==r;++e)n.setTexture2D(t[e]||lD,a[e])}function ux(e,t,n){let i=this.cache,r=t.length,a=lZ(n,r);lH(i,a)||(e.uniform1iv(this.addr,a),lW(i,a));for(let e=0;e!==r;++e)n.setTexture3D(t[e]||lO,a[e])}function ub(e,t,n){let i=this.cache,r=t.length,a=lZ(n,r);lH(i,a)||(e.uniform1iv(this.addr,a),lW(i,a));for(let e=0;e!==r;++e)n.setTextureCube(t[e]||lz,a[e])}function u_(e,t,n){let i=this.cache,r=t.length,a=lZ(n,r);lH(i,a)||(e.uniform1iv(this.addr,a),lW(i,a));for(let e=0;e!==r;++e)n.setTexture2DArray(t[e]||lU,a[e])}class uS{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return lX;case 35664:return lq;case 35665:return lY;case 35666:return lJ;case 35674:return lK;case 35675:return lQ;case 35676:return l0;case 5124:case 35670:return l1;case 35667:case 35671:return l2;case 35668:case 35672:return l3;case 35669:case 35673:return l4;case 5125:return l5;case 36294:return l6;case 36295:return l8;case 36296:return l9;case 35678:case 36198:case 36298:case 36306:case 35682:return l7;case 35679:case 36299:case 36307:return ue;case 35680:case 36300:case 36308:case 36293:return ut;case 36289:case 36303:case 36311:case 36292:return un}}(t.type)}}class uw{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ui;case 35664:return ur;case 35665:return ua;case 35666:return us;case 35674:return uo;case 35675:return ul;case 35676:return uu;case 5124:case 35670:return uc;case 35667:case 35671:return ud;case 35668:case 35672:return uh;case 35669:case 35673:return up;case 5125:return uf;case 36294:return um;case 36295:return ug;case 36296:return uv;case 35678:case 36198:case 36298:case 36306:case 35682:return uy;case 35679:case 36299:case 36307:return ux;case 35680:case 36300:case 36308:case 36293:return ub;case 36289:case 36303:case 36311:case 36292:return u_}}(t.type)}}class uM{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let r=0,a=i.length;r!==a;++r){let a=i[r];a.setValue(e,t[a.id],n)}}}let uT=/(\w+)(\])?(\[|\.)?/g;function uE(e,t){e.seq.push(t),e.map[t.id]=t}class uA{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i),r=e.getUniformLocation(t,n.name);!function(e,t,n){let i=e.name,r=i.length;for(uT.lastIndex=0;;){let a=uT.exec(i),s=uT.lastIndex,o=a[1],l="]"===a[2],u=a[3];if(l&&(o|=0),void 0===u||"["===u&&s+2===r){uE(n,void 0===u?new uS(o,e,t):new uw(o,e,t));break}{let e=n.map[o];void 0===e&&uE(n,e=new uM(o)),n=e}}}(n,r,this)}}setValue(e,t,n,i){let r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){let a=t[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,r=e.length;i!==r;++i){let r=e[i];r.id in t&&n.push(r)}return n}}function uC(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let uI=0,uP=new ef;function uk(e,t,n){let i=e.getShaderParameter(t,e.COMPILE_STATUS),r=(e.getShaderInfoLog(t)||"").trim();if(i&&""===r)return"";let a=/ERROR: 0:(\d+)/.exec(r);if(!a)return r;{let i=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){let n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=r;e<a;e++){let r=e+1;i.push(`${r===t?">":" "} ${r}: ${n[e]}`)}return i.join("\n")}(e.getShaderSource(t),i)}}let uR=new ed;function uN(e){return""!==e}function uD(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function uL(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}let uU=/^[ \t]*#include +<([\w\d./]+)>/gm;function uO(e){return e.replace(uU,uj)}let uz=new Map;function uj(e,t){let n=lt[t];if(void 0===n){let e=uz.get(t);if(void 0!==e)n=lt[e],X('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e);else throw Error("Can not resolve #include <"+t+">")}return uO(n)}let uF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function u$(e){return e.replace(uF,uB)}function uB(e,t,n,i){let r="";for(let e=parseInt(t);e<parseInt(n);e++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function uV(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function uG(e,t,n,i){let r,a,s,o,l,u,c=e.getContext(),d=n.defines,h=n.vertexShader,p=n.fragmentShader,f=(l="SHADOWMAP_TYPE_BASIC",1===n.shadowMapType?l="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?l="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(l="SHADOWMAP_TYPE_VSM"),l),m=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),g=(u="ENVMAP_MODE_REFLECTION",n.envMap&&302===n.envMapMode&&(u="ENVMAP_MODE_REFRACTION"),u),v=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),y=function(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:1/t,maxMip:n}}(n),x=[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uN).join("\n"),b=function(e){let t=[];for(let n in e){let i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(d),_=c.createProgram(),S=n.glslVersion?"#version "+n.glslVersion+"\n":"";if(n.isRawShaderMaterial)(r=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(uN).join("\n")).length>0&&(r+="\n"),(a=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(uN).join("\n")).length>0&&(a+="\n");else{let e,t,i,s;r=[uV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(uN).join("\n"),a=[uV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",n.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?lt.tonemapping_pars_fragment:"",0!==n.toneMapping?function(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:X("WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",lt.colorspace_pars_fragment,(e=function(e){ey._getMatrix(uP,ey.workingColorSpace,e);let t=`mat3( ${uP.elements.map(e=>e.toFixed(4))} )`;switch(ey.getTransfer(e)){case R:return[t,"LinearTransferOETF"];case N:return[t,"sRGBTransferOETF"];default:return X("WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(n.outputColorSpace),`vec4 linearToOutputTexel( vec4 value ) {
	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );
}`),(ey.getLuminanceCoefficients(uR),t=uR.x.toFixed(4),i=uR.y.toFixed(4),s=uR.z.toFixed(4),`float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( ${t}, ${i}, ${s} );
	return dot( weights, rgb );
}`),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(uN).join("\n")}h=uL(h=uD(h=uO(h),n),n),p=uL(p=uD(p=uO(p),n),n),h=u$(h),p=u$(p),!0!==n.isRawShaderMaterial&&(S="#version 300 es\n",r=[x,"#define attribute in\n#define varying out\n#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in",n.glslVersion===D?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===D?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);let w=S+r+h,M=S+a+p,T=uC(c,c.VERTEX_SHADER,w),E=uC(c,c.FRAGMENT_SHADER,M);function A(t){if(e.debug.checkShaderErrors){let n=c.getProgramInfoLog(_)||"",i=c.getShaderInfoLog(T)||"",s=c.getShaderInfoLog(E)||"",o=n.trim(),l=i.trim(),u=s.trim(),d=!0,h=!0;if(!1===c.getProgramParameter(_,c.LINK_STATUS))if(d=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(c,_,T,E);else{let e=uk(c,T,"vertex"),n=uk(c,E,"fragment");q("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(_,c.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+"\n"+e+"\n"+n)}else""!==o?X("WebGLProgram: Program Info Log:",o):(""===l||""===u)&&(h=!1);h&&(t.diagnostics={runnable:d,programLog:o,vertexShader:{log:l,prefix:r},fragmentShader:{log:u,prefix:a}})}c.deleteShader(T),c.deleteShader(E),s=new uA(c,_),o=function(e,t){let n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){let i=e.getActiveAttrib(t,r),a=i.name,s=1;i.type===e.FLOAT_MAT2&&(s=2),i.type===e.FLOAT_MAT3&&(s=3),i.type===e.FLOAT_MAT4&&(s=4),n[a]={type:i.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(c,_)}c.attachShader(_,T),c.attachShader(_,E),void 0!==n.index0AttributeName?c.bindAttribLocation(_,0,n.index0AttributeName):!0===n.morphTargets&&c.bindAttribLocation(_,0,"position"),c.linkProgram(_),this.getUniforms=function(){return void 0===s&&A(this),s},this.getAttributes=function(){return void 0===o&&A(this),o};let C=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=c.getProgramParameter(_,37297)),C},this.destroy=function(){i.releaseStatesOfProgram(this),c.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=uI++,this.cacheKey=t,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=E,this}let uH=0;class uW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(e){for(let t of this.materialCache.get(e))t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new uZ(e),t.set(e,n)),n}}class uZ{constructor(e){this.id=uH++,this.code=e,this.usedTimes=0}}function uX(e,t,n,i,r,a,s){let o=new tu,l=new uW,u=new Set,c=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures,p=r.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return(u.add(e),0===e)?"uv":`uv${e}`}return{getParameters:function(a,o,c,g,v){let y,x,b,_,S=g.fog,w=v.geometry,M=a.isMeshStandardMaterial?g.environment:null,T=(a.isMeshStandardMaterial?n:t).get(a.envMap||M),E=T&&306===T.mapping?T.image.height:null,A=f[a.type];null!==a.precision&&(p=r.getMaxPrecision(a.precision))!==a.precision&&X("WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead.");let C=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,I=void 0!==C?C.length:0,P=0;if(void 0!==w.morphAttributes.position&&(P=1),void 0!==w.morphAttributes.normal&&(P=2),void 0!==w.morphAttributes.color&&(P=3),A){let e=li[A];y=e.vertexShader,x=e.fragmentShader}else y=a.vertexShader,x=a.fragmentShader,l.update(a),b=l.getVertexShaderID(a),_=l.getFragmentShaderID(a);let R=e.getRenderTarget(),D=e.state.buffers.depth.getReversed(),L=!0===v.isInstancedMesh,U=!0===v.isBatchedMesh,O=!!a.map,z=!!a.matcap,j=!!T,F=!!a.aoMap,$=!!a.lightMap,B=!!a.bumpMap,V=!!a.normalMap,G=!!a.displacementMap,H=!!a.emissiveMap,W=!!a.metalnessMap,Z=!!a.roughnessMap,q=a.anisotropy>0,Y=a.clearcoat>0,J=a.dispersion>0,K=a.iridescence>0,Q=a.sheen>0,ee=a.transmission>0,et=q&&!!a.anisotropyMap,en=Y&&!!a.clearcoatMap,ei=Y&&!!a.clearcoatNormalMap,er=Y&&!!a.clearcoatRoughnessMap,ea=K&&!!a.iridescenceMap,es=K&&!!a.iridescenceThicknessMap,eo=Q&&!!a.sheenColorMap,el=Q&&!!a.sheenRoughnessMap,eu=!!a.specularMap,ec=!!a.specularColorMap,ed=!!a.specularIntensityMap,eh=ee&&!!a.transmissionMap,ep=ee&&!!a.thicknessMap,ef=!!a.gradientMap,em=!!a.alphaMap,eg=a.alphaTest>0,ev=!!a.alphaHash,ex=!!a.extensions,eb=0;a.toneMapped&&(null===R||!0===R.isXRRenderTarget)&&(eb=e.toneMapping);let e_={shaderID:A,shaderType:a.type,shaderName:a.name,vertexShader:y,fragmentShader:x,defines:a.defines,customVertexShaderID:b,customFragmentShaderID:_,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:U,batchingColor:U&&null!==v._colorsTexture,instancing:L,instancingColor:L&&null!==v.instanceColor,instancingMorph:L&&null!==v.morphTexture,supportsVertexTextures:h,outputColorSpace:null===R?e.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:k,alphaToCoverage:!!a.alphaToCoverage,map:O,matcap:z,envMap:j,envMapMode:j&&T.mapping,envMapCubeUVHeight:E,aoMap:F,lightMap:$,bumpMap:B,normalMap:V,displacementMap:h&&G,emissiveMap:H,normalMapObjectSpace:V&&1===a.normalMapType,normalMapTangentSpace:V&&0===a.normalMapType,metalnessMap:W,roughnessMap:Z,anisotropy:q,anisotropyMap:et,clearcoat:Y,clearcoatMap:en,clearcoatNormalMap:ei,clearcoatRoughnessMap:er,dispersion:J,iridescence:K,iridescenceMap:ea,iridescenceThicknessMap:es,sheen:Q,sheenColorMap:eo,sheenRoughnessMap:el,specularMap:eu,specularColorMap:ec,specularIntensityMap:ed,transmission:ee,transmissionMap:eh,thicknessMap:ep,gradientMap:ef,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:em,alphaTest:eg,alphaHash:ev,combine:a.combine,mapUv:O&&m(a.map.channel),aoMapUv:F&&m(a.aoMap.channel),lightMapUv:$&&m(a.lightMap.channel),bumpMapUv:B&&m(a.bumpMap.channel),normalMapUv:V&&m(a.normalMap.channel),displacementMapUv:G&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:W&&m(a.metalnessMap.channel),roughnessMapUv:Z&&m(a.roughnessMap.channel),anisotropyMapUv:et&&m(a.anisotropyMap.channel),clearcoatMapUv:en&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:ei&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:er&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ea&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:es&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:eo&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:el&&m(a.sheenRoughnessMap.channel),specularMapUv:eu&&m(a.specularMap.channel),specularColorMapUv:ec&&m(a.specularColorMap.channel),specularIntensityMapUv:ed&&m(a.specularIntensityMap.channel),transmissionMapUv:eh&&m(a.transmissionMap.channel),thicknessMapUv:ep&&m(a.thicknessMap.channel),alphaMapUv:em&&m(a.alphaMap.channel),vertexTangents:!!w.attributes.tangent&&(V||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!w.attributes.color&&4===w.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!w.attributes.uv&&(O||em),fog:!!S,useFog:!0===a.fog,fogExp2:!!S&&S.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reversedDepthBuffer:D,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==w.morphAttributes.position,morphNormals:void 0!==w.morphAttributes.normal,morphColors:void 0!==w.morphAttributes.color,morphTargetsCount:I,morphTextureStride:P,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:eb,decodeVideoTexture:O&&!0===a.map.isVideoTexture&&ey.getTransfer(a.map.colorSpace)===N,decodeVideoTextureEmissive:H&&!0===a.emissiveMap.isVideoTexture&&ey.getTransfer(a.emissiveMap.colorSpace)===N,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:ex&&!0===a.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ex&&!0===a.extensions.multiDraw||U)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return e_.vertexUv1s=u.has(1),e_.vertexUv2s=u.has(2),e_.vertexUv3s=u.has(3),u.clear(),e_},getProgramCacheKey:function(t){var n,i,r,a;let s=[];if(t.shaderID?s.push(t.shaderID):(s.push(t.customVertexShaderID),s.push(t.customFragmentShaderID)),void 0!==t.defines)for(let e in t.defines)s.push(e),s.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(n=s,i=t,n.push(i.precision),n.push(i.outputColorSpace),n.push(i.envMapMode),n.push(i.envMapCubeUVHeight),n.push(i.mapUv),n.push(i.alphaMapUv),n.push(i.lightMapUv),n.push(i.aoMapUv),n.push(i.bumpMapUv),n.push(i.normalMapUv),n.push(i.displacementMapUv),n.push(i.emissiveMapUv),n.push(i.metalnessMapUv),n.push(i.roughnessMapUv),n.push(i.anisotropyMapUv),n.push(i.clearcoatMapUv),n.push(i.clearcoatNormalMapUv),n.push(i.clearcoatRoughnessMapUv),n.push(i.iridescenceMapUv),n.push(i.iridescenceThicknessMapUv),n.push(i.sheenColorMapUv),n.push(i.sheenRoughnessMapUv),n.push(i.specularMapUv),n.push(i.specularColorMapUv),n.push(i.specularIntensityMapUv),n.push(i.transmissionMapUv),n.push(i.thicknessMapUv),n.push(i.combine),n.push(i.fogExp2),n.push(i.sizeAttenuation),n.push(i.morphTargetsCount),n.push(i.morphAttributeCount),n.push(i.numDirLights),n.push(i.numPointLights),n.push(i.numSpotLights),n.push(i.numSpotLightMaps),n.push(i.numHemiLights),n.push(i.numRectAreaLights),n.push(i.numDirLightShadows),n.push(i.numPointLightShadows),n.push(i.numSpotLightShadows),n.push(i.numSpotLightShadowsWithMaps),n.push(i.numLightProbes),n.push(i.shadowMapType),n.push(i.toneMapping),n.push(i.numClippingPlanes),n.push(i.numClipIntersection),n.push(i.depthPacking),r=s,a=t,o.disableAll(),a.supportsVertexTextures&&o.enable(0),a.instancing&&o.enable(1),a.instancingColor&&o.enable(2),a.instancingMorph&&o.enable(3),a.matcap&&o.enable(4),a.envMap&&o.enable(5),a.normalMapObjectSpace&&o.enable(6),a.normalMapTangentSpace&&o.enable(7),a.clearcoat&&o.enable(8),a.iridescence&&o.enable(9),a.alphaTest&&o.enable(10),a.vertexColors&&o.enable(11),a.vertexAlphas&&o.enable(12),a.vertexUv1s&&o.enable(13),a.vertexUv2s&&o.enable(14),a.vertexUv3s&&o.enable(15),a.vertexTangents&&o.enable(16),a.anisotropy&&o.enable(17),a.alphaHash&&o.enable(18),a.batching&&o.enable(19),a.dispersion&&o.enable(20),a.batchingColor&&o.enable(21),a.gradientMap&&o.enable(22),r.push(o.mask),o.disableAll(),a.fog&&o.enable(0),a.useFog&&o.enable(1),a.flatShading&&o.enable(2),a.logarithmicDepthBuffer&&o.enable(3),a.reversedDepthBuffer&&o.enable(4),a.skinning&&o.enable(5),a.morphTargets&&o.enable(6),a.morphNormals&&o.enable(7),a.morphColors&&o.enable(8),a.premultipliedAlpha&&o.enable(9),a.shadowMapEnabled&&o.enable(10),a.doubleSided&&o.enable(11),a.flipSided&&o.enable(12),a.useDepthPacking&&o.enable(13),a.dithering&&o.enable(14),a.transmission&&o.enable(15),a.sheen&&o.enable(16),a.opaque&&o.enable(17),a.pointsUvs&&o.enable(18),a.decodeVideoTexture&&o.enable(19),a.decodeVideoTextureEmissive&&o.enable(20),a.alphaToCoverage&&o.enable(21),r.push(o.mask),s.push(e.outputColorSpace)),s.push(t.customProgramCacheKey),s.join()},getUniforms:function(e){let t,n=f[e.type];if(n){let e=li[n];t=nA.clone(e.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){let i;for(let e=0,t=c.length;e<t;e++){let t=c[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new uG(e,n,t,a),c.push(i)),i},releaseProgram:function(e){if(0==--e.usedTimes){let t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function uq(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function uY(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function uJ(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function uK(){let e=[],t=0,n=[],i=[],r=[];function a(n,i,r,a,s,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:s,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=s,l.group=o),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,s,o,l,u){let c=a(e,t,s,o,l,u);s.transmission>0?i.push(c):!0===s.transparent?r.push(c):n.push(c)},unshift:function(e,t,s,o,l,u){let c=a(e,t,s,o,l,u);s.transmission>0?i.unshift(c):!0===s.transparent?r.unshift(c):n.unshift(c)},finish:function(){for(let n=t,i=e.length;n<i;n++){let t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||uY),i.length>1&&i.sort(t||uJ),r.length>1&&r.sort(t||uJ)}}}function uQ(){let e=new WeakMap;return{get:function(t,n){let i,r=e.get(t);return void 0===r?(i=new uK,e.set(t,[i])):n>=r.length?(i=new uK,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function u0(){let e={};return{get:function(t){let n;if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":n={direction:new ed,color:new tG};break;case"SpotLight":n={position:new ed,direction:new ed,color:new tG,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ed,color:new tG,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ed,skyColor:new tG,groundColor:new tG};break;case"RectAreaLight":n={color:new tG,position:new ed,halfWidth:new ed,halfHeight:new ed}}return e[t.id]=n,n}}}let u1=0;function u2(e,t){return 2*!!t.castShadow-2*!!e.castShadow+ +!!t.map-!!e.map}function u3(e){let t,n=new u0,i=(t={},{get:function(e){let n;if(void 0!==t[e.id])return t[e.id];switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new eu};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new eu,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new ed);let a=new ed,s=new e9,o=new e9;return{setup:function(t){let a=0,s=0,o=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,u=0,c=0,d=0,h=0,p=0,f=0,m=0,g=0,v=0,y=0;t.sort(u2);for(let e=0,x=t.length;e<x;e++){let x=t[e],b=x.color,_=x.intensity,S=x.distance,w=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)a+=b.r*_,s+=b.g*_,o+=b.b*_;else if(x.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(x.sh.coefficients[e],_);y++}else if(x.isDirectionalLight){let e=n.get(x);if(e.color.copy(x.color).multiplyScalar(x.intensity),x.castShadow){let e=x.shadow,t=i.get(x);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=w,r.directionalShadowMatrix[l]=x.shadow.matrix,p++}r.directional[l]=e,l++}else if(x.isSpotLight){let e=n.get(x);e.position.setFromMatrixPosition(x.matrixWorld),e.color.copy(b).multiplyScalar(_),e.distance=S,e.coneCos=Math.cos(x.angle),e.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),e.decay=x.decay,r.spot[c]=e;let t=x.shadow;if(x.map&&(r.spotLightMap[g]=x.map,g++,t.updateMatrices(x),x.castShadow&&v++),r.spotLightMatrix[c]=t.matrix,x.castShadow){let e=i.get(x);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,r.spotShadow[c]=e,r.spotShadowMap[c]=w,m++}c++}else if(x.isRectAreaLight){let e=n.get(x);e.color.copy(b).multiplyScalar(_),e.halfWidth.set(.5*x.width,0,0),e.halfHeight.set(0,.5*x.height,0),r.rectArea[d]=e,d++}else if(x.isPointLight){let e=n.get(x);if(e.color.copy(x.color).multiplyScalar(x.intensity),e.distance=x.distance,e.decay=x.decay,x.castShadow){let e=x.shadow,t=i.get(x);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[u]=t,r.pointShadowMap[u]=w,r.pointShadowMatrix[u]=x.shadow.matrix,f++}r.point[u]=e,u++}else if(x.isHemisphereLight){let e=n.get(x);e.skyColor.copy(x.color).multiplyScalar(_),e.groundColor.copy(x.groundColor).multiplyScalar(_),r.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=ln.LTC_FLOAT_1,r.rectAreaLTC2=ln.LTC_FLOAT_2):(r.rectAreaLTC1=ln.LTC_HALF_1,r.rectAreaLTC2=ln.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=s,r.ambient[2]=o;let x=r.hash;(x.directionalLength!==l||x.pointLength!==u||x.spotLength!==c||x.rectAreaLength!==d||x.hemiLength!==h||x.numDirectionalShadows!==p||x.numPointShadows!==f||x.numSpotShadows!==m||x.numSpotMaps!==g||x.numLightProbes!==y)&&(r.directional.length=l,r.spot.length=c,r.rectArea.length=d,r.point.length=u,r.hemi.length=h,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=f,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,x.directionalLength=l,x.pointLength=u,x.spotLength=c,x.rectAreaLength=d,x.hemiLength=h,x.numDirectionalShadows=p,x.numPointShadows=f,x.numSpotShadows=m,x.numSpotMaps=g,x.numLightProbes=y,r.version=u1++)},setupView:function(e,t){let n=0,i=0,l=0,u=0,c=0,d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){let h=e[t];if(h.isDirectionalLight){let e=r.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),n++}else if(h.isSpotLight){let e=r.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){let e=r.rectArea[u];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),o.identity(),s.copy(h.matrixWorld),s.premultiply(d),o.extractRotation(s),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),u++}else if(h.isPointLight){let e=r.point[i];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),i++}else if(h.isHemisphereLight){let e=r.hemi[c];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),c++}}},state:r}}function u4(e){let t=new u3(e),n=[],i=[],r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function u5(e){let t=new WeakMap;return{get:function(n,i=0){let r,a=t.get(n);return void 0===a?(r=new u4(e),t.set(n,[r])):i>=a.length?(r=new u4(e),a.push(r)):r=a[i],r},dispose:function(){t=new WeakMap}}}function u6(e,t,n){let i=new iN,r=new eu,a=new eu,s=new eC,o=new aD({depthPacking:3201}),l=new aL,u={},c=n.maxTextureSize,d={0:1,1:0,2:2},h=new nC({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new eu},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;let f=new nu;f.setAttribute("position",new t2(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new n_(f,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(t,n,i,r){let a=null,s=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==s)a=s;else if(a=!0===i.isPointLight?l:o,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){let e=a.uuid,t=n.uuid,i=u[e];void 0===i&&(i={},u[e]=i);let r=i[t];void 0===r&&(r=a.clone(),i[t]=r,n.addEventListener("dispose",x)),a=r}return a.visible=n.visible,a.wireframe=n.wireframe,3===r?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===i.isPointLight&&!0===a.isMeshDistanceMaterial&&(e.properties.get(a).light=i),a}function x(e){for(let t in e.target.removeEventListener("dispose",x),u){let n=u[t],i=e.target.uuid;i in n&&(n[i].dispose(),delete n[i])}}this.render=function(n,o,l){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===n.length)return;let u=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),x=e.state;x.setBlending(0),!0===x.buffers.depth.getReversed()?x.buffers.color.setClear(0,0,0,0):x.buffers.color.setClear(1,1,1,1),x.buffers.depth.setTest(!0),x.setScissorTest(!1);let b=3!==v&&3===this.type,_=3===v&&3!==this.type;for(let u=0,d=n.length;u<d;u++){let d=n[u],f=d.shadow;if(void 0===f){X("WebGLShadowMap:",d,"has no shadow.");continue}if(!1===f.autoUpdate&&!1===f.needsUpdate)continue;r.copy(f.mapSize);let g=f.getFrameExtents();if(r.multiply(g),a.copy(f.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(a.x=Math.floor(c/g.x),r.x=a.x*g.x,f.mapSize.x=a.x),r.y>c&&(a.y=Math.floor(c/g.y),r.y=a.y*g.y,f.mapSize.y=a.y)),null===f.map||!0===b||!0===_){let e=3!==this.type?{minFilter:1003,magFilter:1003}:{};null!==f.map&&f.map.dispose(),f.map=new eP(r.x,r.y,e),f.map.texture.name=d.name+".shadowMap",f.camera.updateProjectionMatrix()}e.setRenderTarget(f.map),e.clear();let v=f.getViewportCount();for(let n=0;n<v;n++){let r=f.getViewport(n);s.set(a.x*r.x,a.y*r.y,a.x*r.z,a.y*r.w),x.viewport(s),f.updateMatrices(d,n),i=f.getFrustum(),function n(r,a,s,o,l){if(!1===r.visible)return;if(r.layers.test(a.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===l)&&(!r.frustumCulled||i.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,r.matrixWorld);let n=t.update(r),i=r.material;if(Array.isArray(i)){let t=n.groups;for(let u=0,c=t.length;u<c;u++){let c=t[u],d=i[c.materialIndex];if(d&&d.visible){let t=y(r,d,o,l);r.onBeforeShadow(e,r,a,s,n,t,c),e.renderBufferDirect(s,null,n,t,r,c),r.onAfterShadow(e,r,a,s,n,t,c)}}}else if(i.visible){let t=y(r,i,o,l);r.onBeforeShadow(e,r,a,s,n,t,null),e.renderBufferDirect(s,null,n,t,r,null),r.onAfterShadow(e,r,a,s,n,t,null)}}let u=r.children;for(let e=0,t=u.length;e<t;e++)n(u[e],a,s,o,l)}(o,l,f.camera,d,this.type)}!0!==f.isPointLightShadow&&3===this.type&&function(n,i){let a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new eP(r.x,r.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,a,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,a,p,m,null)}(f,l),f.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(u,d,f)}}let u8={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function u9(e,t){let n=new function(){let t=!1,n=new eC,i=null,r=new eC(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,s,o){!0===o&&(t*=s,i*=s,a*=s),n.set(t,i,a,s),!1===r.equals(n)&&(e.clearColor(t,i,a,s),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},i=new function(){let n=!1,i=!1,r=null,a=null,s=null;return{setReversed:function(e){if(i!==e){let n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),i=e;let r=s;s=null,this.setClear(r)}},getReversed:function(){return i},setTest:function(t){t?j(e.DEPTH_TEST):F(e.DEPTH_TEST)},setMask:function(t){r===t||n||(e.depthMask(t),r=t)},setFunc:function(t){if(i&&(t=u8[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){s!==t&&(i&&(t=1-t),e.clearDepth(t),s=t)},reset:function(){n=!1,r=null,a=null,s=null,i=!1}}},r=new function(){let t=!1,n=null,i=null,r=null,a=null,s=null,o=null,l=null,u=null;return{setTest:function(n){t||(n?j(e.STENCIL_TEST):F(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,s){(i!==t||r!==n||a!==s)&&(e.stencilFunc(t,n,s),i=t,r=n,a=s)},setOp:function(t,n,i){(s!==t||o!==n||l!==i)&&(e.stencilOp(t,n,i),s=t,o=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,s=null,o=null,l=null,u=null}}},a=new WeakMap,s=new WeakMap,o={},l={},u=new WeakMap,c=[],d=null,h=!1,p=null,f=null,m=null,g=null,v=null,y=null,x=null,b=new tG(0,0,0),_=0,S=!1,w=null,M=null,T=null,E=null,A=null,C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,P=e.getParameter(e.VERSION);-1!==P.indexOf("WebGL")?I=parseFloat(/^WebGL (\d)/.exec(P)[1])>=1:-1!==P.indexOf("OpenGL ES")&&(I=parseFloat(/^OpenGL ES (\d)/.exec(P)[1])>=2);let k=null,R={},N=e.getParameter(e.SCISSOR_BOX),D=e.getParameter(e.VIEWPORT),L=new eC().fromArray(N),U=new eC().fromArray(D);function O(t,n,i,r){let a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}let z={};function j(t){!0!==o[t]&&(e.enable(t),o[t]=!0)}function F(t){!1!==o[t]&&(e.disable(t),o[t]=!1)}z[e.TEXTURE_2D]=O(e.TEXTURE_2D,e.TEXTURE_2D,1),z[e.TEXTURE_CUBE_MAP]=O(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),z[e.TEXTURE_2D_ARRAY]=O(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),z[e.TEXTURE_3D]=O(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),i.setClear(1),r.setClear(0),j(e.DEPTH_TEST),i.setFunc(3),G(!1),H(1),j(e.CULL_FACE),V(0);let $={100:e.FUNC_ADD,101:e.FUNC_SUBTRACT,102:e.FUNC_REVERSE_SUBTRACT};$[103]=e.MIN,$[104]=e.MAX;let B={200:e.ZERO,201:e.ONE,202:e.SRC_COLOR,204:e.SRC_ALPHA,210:e.SRC_ALPHA_SATURATE,208:e.DST_COLOR,206:e.DST_ALPHA,203:e.ONE_MINUS_SRC_COLOR,205:e.ONE_MINUS_SRC_ALPHA,209:e.ONE_MINUS_DST_COLOR,207:e.ONE_MINUS_DST_ALPHA,211:e.CONSTANT_COLOR,212:e.ONE_MINUS_CONSTANT_COLOR,213:e.CONSTANT_ALPHA,214:e.ONE_MINUS_CONSTANT_ALPHA};function V(t,n,i,r,a,s,o,l,u,c){if(0===t){!0===h&&(F(e.BLEND),h=!1);return}if(!1===h&&(j(e.BLEND),h=!0),5!==t){if(t!==p||c!==S){if((100!==f||100!==v)&&(e.blendEquation(e.FUNC_ADD),f=100,v=100),c)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:q("WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case 3:q("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:q("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:q("WebGLState: Invalid blending: ",t)}m=null,g=null,y=null,x=null,b.set(0,0,0),_=0,p=t,S=c}return}a=a||n,s=s||i,o=o||r,(n!==f||a!==v)&&(e.blendEquationSeparate($[n],$[a]),f=n,v=a),(i!==m||r!==g||s!==y||o!==x)&&(e.blendFuncSeparate(B[i],B[r],B[s],B[o]),m=i,g=r,y=s,x=o),(!1===l.equals(b)||u!==_)&&(e.blendColor(l.r,l.g,l.b,u),b.copy(l),_=u),p=t,S=!1}function G(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function H(t){0!==t?(j(e.CULL_FACE),t!==M&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):F(e.CULL_FACE),M=t}function W(t,n,i){t?(j(e.POLYGON_OFFSET_FILL),(E!==n||A!==i)&&(e.polygonOffset(n,i),E=n,A=i)):F(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:i,stencil:r},enable:j,disable:F,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=c,r=!1;if(t){void 0===(i=u.get(n))&&(i=[],u.set(n,i));let a=t.textures;if(i.length!==a.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=a.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:V,setMaterial:function(t,a){2===t.side?F(e.CULL_FACE):j(e.CULL_FACE);let s=1===t.side;a&&(s=!s),G(s),1===t.blending&&!1===t.transparent?V(0):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),i.setFunc(t.depthFunc),i.setTest(t.depthTest),i.setMask(t.depthWrite),n.setMask(t.colorWrite);let o=t.stencilWrite;r.setTest(o),o&&(r.setMask(t.stencilWriteMask),r.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),r.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?j(e.SAMPLE_ALPHA_TO_COVERAGE):F(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:H,setLineWidth:function(t){t!==T&&(I&&e.lineWidth(t),T=t)},setPolygonOffset:W,setScissorTest:function(t){t?j(e.SCISSOR_TEST):F(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),k!==t&&(e.activeTexture(t),k=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===k?e.TEXTURE0+C-1:k);let r=R[i];void 0===r&&(r={type:void 0,texture:void 0},R[i]=r),(r.type!==t||r.texture!==n)&&(k!==i&&(e.activeTexture(i),k=i),e.bindTexture(t,n||z[t]),r.type=t,r.texture=n)},unbindTexture:function(){let t=R[k];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(e){e("WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(e){e("WebGLState:",e)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(e){e("WebGLState:",e)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(e){e("WebGLState:",e)}},updateUBOMapping:function(t,n){let i=s.get(n);void 0===i&&(i=new WeakMap,s.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){let i=s.get(n).get(t);a.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),a.set(n,i))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(e){e("WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(e){e("WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(e){e("WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(e){e("WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(e){e("WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(e){e("WebGLState:",e)}},scissor:function(t){!1===L.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),L.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),i.setReversed(!1),e.clearDepth(1),e.stencilMask(0xffffffff),e.stencilFunc(e.ALWAYS,0,0xffffffff),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),o={},k=null,R={},l={},u=new WeakMap,c=[],d=null,h=!1,p=null,f=null,m=null,g=null,v=null,y=null,x=null,b=new tG(0,0,0),_=0,S=!1,w=null,M=null,T=null,E=null,A=null,L.set(0,0,e.canvas.width,e.canvas.height),U.set(0,0,e.canvas.width,e.canvas.height),n.reset(),i.reset(),r.reset()}}}function u7(e,t,n,i,r,a,s){let o,l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,u="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new eu,d=new WeakMap,h=new WeakMap,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function f(e,t){return p?new OffscreenCanvas(e,t):$("canvas")}function m(e,t,n){let i=1,r=W(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1)if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){let n=Math.floor(i*r.width),a=Math.floor(i*r.height);void 0===o&&(o=f(n,a));let s=t?f(n,a):o;return s.width=n,s.height=a,s.getContext("2d").drawImage(e,0,0,n,a),X("WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+a+")."),s}else"data"in e&&X("WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+").");return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(n,i,r,a,s=!1){if(null!==n){if(void 0!==e[n])return e[n];X("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;if(i===e.RED&&(r===e.FLOAT&&(o=e.R32F),r===e.HALF_FLOAT&&(o=e.R16F),r===e.UNSIGNED_BYTE&&(o=e.R8)),i===e.RED_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.R8UI),r===e.UNSIGNED_SHORT&&(o=e.R16UI),r===e.UNSIGNED_INT&&(o=e.R32UI),r===e.BYTE&&(o=e.R8I),r===e.SHORT&&(o=e.R16I),r===e.INT&&(o=e.R32I)),i===e.RG&&(r===e.FLOAT&&(o=e.RG32F),r===e.HALF_FLOAT&&(o=e.RG16F),r===e.UNSIGNED_BYTE&&(o=e.RG8)),i===e.RG_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RG8UI),r===e.UNSIGNED_SHORT&&(o=e.RG16UI),r===e.UNSIGNED_INT&&(o=e.RG32UI),r===e.BYTE&&(o=e.RG8I),r===e.SHORT&&(o=e.RG16I),r===e.INT&&(o=e.RG32I)),i===e.RGB_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RGB8UI),r===e.UNSIGNED_SHORT&&(o=e.RGB16UI),r===e.UNSIGNED_INT&&(o=e.RGB32UI),r===e.BYTE&&(o=e.RGB8I),r===e.SHORT&&(o=e.RGB16I),r===e.INT&&(o=e.RGB32I)),i===e.RGBA_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RGBA8UI),r===e.UNSIGNED_SHORT&&(o=e.RGBA16UI),r===e.UNSIGNED_INT&&(o=e.RGBA32UI),r===e.BYTE&&(o=e.RGBA8I),r===e.SHORT&&(o=e.RGBA16I),r===e.INT&&(o=e.RGBA32I)),i===e.RGB&&(r===e.UNSIGNED_INT_5_9_9_9_REV&&(o=e.RGB9_E5),r===e.UNSIGNED_INT_10F_11F_11F_REV&&(o=e.R11F_G11F_B10F)),i===e.RGBA){let t=s?R:ey.getTransfer(a);r===e.FLOAT&&(o=e.RGBA32F),r===e.HALF_FLOAT&&(o=e.RGBA16F),r===e.UNSIGNED_BYTE&&(o=t===N?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(o=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(o=e.RGB5_A1)}return(o===e.R16F||o===e.R32F||o===e.RG16F||o===e.RG32F||o===e.RGBA16F||o===e.RGBA32F)&&t.get("EXT_color_buffer_float"),o}function x(t,n){let i;return t?null===n||1014===n||1020===n?i=e.DEPTH24_STENCIL8:1015===n?i=e.DEPTH32F_STENCIL8:1012===n&&(i=e.DEPTH24_STENCIL8,X("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||1014===n||1020===n?i=e.DEPTH_COMPONENT24:1015===n?i=e.DEPTH_COMPONENT32F:1012===n&&(i=e.DEPTH_COMPONENT16),i}function b(e,t){return!0===g(e)||e.isFramebufferTexture&&1003!==e.minFilter&&1006!==e.minFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){let t=e.target;t.removeEventListener("dispose",_),function(e){let t=i.get(e);if(void 0===t.__webglInit)return;let n=e.source,r=h.get(n);if(r){let i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&w(e),0===Object.keys(r).length&&h.delete(n)}i.remove(e)}(t),t.isVideoTexture&&d.delete(t)}function S(t){let n=t.target;n.removeEventListener("dispose",S),function(t){let n=i.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),i.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let i=0;i<n.__webglFramebuffer[t].length;i++)e.deleteFramebuffer(n.__webglFramebuffer[t][i]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}let r=t.textures;for(let t=0,n=r.length;t<n;t++){let n=i.get(r[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),s.memory.textures--),i.remove(r[t])}i.remove(t)}(n)}function w(t){let n=i.get(t);e.deleteTexture(n.__webglTexture);let r=t.source,a=h.get(r);delete a[n.__cacheKey],s.memory.textures--}let M=0;function T(t,r){var a;let o,l=i.get(t);if(t.isVideoTexture&&(a=t,o=s.render.frame,d.get(a)!==o&&(d.set(a,o),a.update())),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&l.__version!==t.version){let e=t.image;if(null===e)X("WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void L(l,t,r);X("WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(l.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,l.__webglTexture,e.TEXTURE0+r)}let E={1e3:e.REPEAT,1001:e.CLAMP_TO_EDGE,1002:e.MIRRORED_REPEAT},A={1003:e.NEAREST,1004:e.NEAREST_MIPMAP_NEAREST,1005:e.NEAREST_MIPMAP_LINEAR,1006:e.LINEAR,1007:e.LINEAR_MIPMAP_NEAREST,1008:e.LINEAR_MIPMAP_LINEAR},C={512:e.NEVER,519:e.ALWAYS,513:e.LESS,515:e.LEQUAL,514:e.EQUAL,518:e.GEQUAL,516:e.GREATER,517:e.NOTEQUAL};function I(n,a){if((1015===a.type&&!1===t.has("OES_texture_float_linear")&&(1006===a.magFilter||1007===a.magFilter||1005===a.magFilter||1008===a.magFilter||1006===a.minFilter||1007===a.minFilter||1005===a.minFilter||1008===a.minFilter)&&X("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,E[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,E[a.wrapT]),(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY)&&e.texParameteri(n,e.TEXTURE_WRAP_R,E[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,A[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,A[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,C[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic"))&&1003!==a.magFilter&&(1005===a.minFilter||1008===a.minFilter)&&(1015!==a.type||!1!==t.has("OES_texture_float_linear"))&&(a.anisotropy>1||i.get(a).__currentAnisotropy)){let s=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy}}function P(t,n){let i,r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));let a=n.source,o=h.get(a);void 0===o&&(o={},h.set(a,o));let l=((i=[]).push(n.wrapS),i.push(n.wrapT),i.push(n.wrapR||0),i.push(n.magFilter),i.push(n.minFilter),i.push(n.anisotropy),i.push(n.internalFormat),i.push(n.format),i.push(n.type),i.push(n.generateMipmaps),i.push(n.premultiplyAlpha),i.push(n.flipY),i.push(n.unpackAlignment),i.push(n.colorSpace),i.join());if(l!==t.__cacheKey){void 0===o[l]&&(o[l]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,r=!0),o[l].usedTimes++;let i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&w(n)),t.__cacheKey=l,t.__webglTexture=o[l].texture}return r}function D(e,t,n){return Math.floor(Math.floor(e/n)/t)}function L(t,s,o){let l=e.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=e.TEXTURE_3D);let u=P(t,s),c=s.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+o);let d=i.get(c);if(c.version!==d.__version||!0===u){let t;n.activeTexture(e.TEXTURE0+o);let i=ey.getPrimaries(ey.workingColorSpace),h=""===s.colorSpace?null:ey.getPrimaries(s.colorSpace),p=""===s.colorSpace||i===h?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let f=m(s.image,!1,r.maxTextureSize);f=H(s,f);let _=a.convert(s.format,s.colorSpace),S=a.convert(s.type),w=y(s.internalFormat,_,S,s.colorSpace,s.isVideoTexture);I(l,s);let M=s.mipmaps,T=!0!==s.isVideoTexture,E=void 0===d.__version||!0===u,A=c.dataReady,C=b(s,f);if(s.isDepthTexture)w=x(1027===s.format,s.type),E&&(T?n.texStorage2D(e.TEXTURE_2D,1,w,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,w,f.width,f.height,0,_,S,null));else if(s.isDataTexture)if(M.length>0){T&&E&&n.texStorage2D(e.TEXTURE_2D,C,w,M[0].width,M[0].height);for(let i=0,r=M.length;i<r;i++)t=M[i],T?A&&n.texSubImage2D(e.TEXTURE_2D,i,0,0,t.width,t.height,_,S,t.data):n.texImage2D(e.TEXTURE_2D,i,w,t.width,t.height,0,_,S,t.data);s.generateMipmaps=!1}else T?(E&&n.texStorage2D(e.TEXTURE_2D,C,w,f.width,f.height),A&&function(t,i,r,a){let s=t.updateRanges;if(0===s.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,r,a,i.data);else{s.sort((e,t)=>e.start-t.start);let o=0;for(let e=1;e<s.length;e++){let t=s[o],n=s[e],r=t.start+t.count,a=D(n.start,i.width,4),l=D(t.start,i.width,4);n.start<=r+1&&a===l&&D(n.start+n.count-1,i.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):s[++o]=n}s.length=o+1;let l=e.getParameter(e.UNPACK_ROW_LENGTH),u=e.getParameter(e.UNPACK_SKIP_PIXELS),c=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,i.width);for(let t=0,o=s.length;t<o;t++){let o=s[t],l=Math.floor(o.start/4),u=Math.ceil(o.count/4),c=l%i.width,d=Math.floor(l/i.width);e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,c,d,u,1,r,a,i.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,c)}}(s,f,_,S)):n.texImage2D(e.TEXTURE_2D,0,w,f.width,f.height,0,_,S,f.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){T&&E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,w,M[0].width,M[0].height,f.depth);for(let i=0,r=M.length;i<r;i++)if(t=M[i],1023!==s.format)if(null!==_)if(T){if(A)if(s.layerUpdates.size>0){let r=o8(t.width,t.height,s.format,s.type);for(let a of s.layerUpdates){let s=t.data.subarray(a*r/t.data.BYTES_PER_ELEMENT,(a+1)*r/t.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,i,0,0,a,t.width,t.height,1,_,s)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,i,0,0,0,t.width,t.height,f.depth,_,t.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,i,w,t.width,t.height,f.depth,0,t.data,0,0);else X("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else T?A&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,i,0,0,0,t.width,t.height,f.depth,_,S,t.data):n.texImage3D(e.TEXTURE_2D_ARRAY,i,w,t.width,t.height,f.depth,0,_,S,t.data)}else{T&&E&&n.texStorage2D(e.TEXTURE_2D,C,w,M[0].width,M[0].height);for(let i=0,r=M.length;i<r;i++)t=M[i],1023!==s.format?null!==_?T?A&&n.compressedTexSubImage2D(e.TEXTURE_2D,i,0,0,t.width,t.height,_,t.data):n.compressedTexImage2D(e.TEXTURE_2D,i,w,t.width,t.height,0,t.data):X("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?A&&n.texSubImage2D(e.TEXTURE_2D,i,0,0,t.width,t.height,_,S,t.data):n.texImage2D(e.TEXTURE_2D,i,w,t.width,t.height,0,_,S,t.data)}else if(s.isDataArrayTexture)if(T){if(E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,w,f.width,f.height,f.depth),A)if(s.layerUpdates.size>0){let t=o8(f.width,f.height,s.format,s.type);for(let i of s.layerUpdates){let r=f.data.subarray(i*t/f.data.BYTES_PER_ELEMENT,(i+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,f.width,f.height,1,_,S,r)}s.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,_,S,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,w,f.width,f.height,f.depth,0,_,S,f.data);else if(s.isData3DTexture)T?(E&&n.texStorage3D(e.TEXTURE_3D,C,w,f.width,f.height,f.depth),A&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,_,S,f.data)):n.texImage3D(e.TEXTURE_3D,0,w,f.width,f.height,f.depth,0,_,S,f.data);else if(s.isFramebufferTexture){if(E)if(T)n.texStorage2D(e.TEXTURE_2D,C,w,f.width,f.height);else{let t=f.width,i=f.height;for(let r=0;r<C;r++)n.texImage2D(e.TEXTURE_2D,r,w,t,i,0,_,S,null),t>>=1,i>>=1}}else if(M.length>0){if(T&&E){let t=W(M[0]);n.texStorage2D(e.TEXTURE_2D,C,w,t.width,t.height)}for(let i=0,r=M.length;i<r;i++)t=M[i],T?A&&n.texSubImage2D(e.TEXTURE_2D,i,0,0,_,S,t):n.texImage2D(e.TEXTURE_2D,i,w,_,S,t);s.generateMipmaps=!1}else if(T){if(E){let t=W(f);n.texStorage2D(e.TEXTURE_2D,C,w,t.width,t.height)}A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,_,S,f)}else n.texImage2D(e.TEXTURE_2D,0,w,_,S,f);g(s)&&v(l),d.__version=c.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}function U(t,r,s,o,u,c){let d=a.convert(s.format,s.colorSpace),h=a.convert(s.type),p=y(s.internalFormat,d,h,s.colorSpace),f=i.get(r),m=i.get(s);if(m.__renderTarget=r,!f.__hasExternalTextures){let t=Math.max(1,r.width>>c),i=Math.max(1,r.height>>c);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,c,p,t,i,r.depth,0,d,h,null):n.texImage2D(u,c,p,t,i,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),G(r)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,o,u,m.__webglTexture,0,V(r)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,o,u,m.__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function O(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){let r=n.depthTexture,a=r&&r.isDepthTexture?r.type:null,s=x(n.stencilBuffer,a),o=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=V(n);G(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,s,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,s,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,s,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,o,e.RENDERBUFFER,t)}else{let t=n.textures;for(let r=0;r<t.length;r++){let s=t[r],o=a.convert(s.format,s.colorSpace),u=a.convert(s.type),c=y(s.internalFormat,o,u,s.colorSpace),d=V(n);i&&!1===G(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,c,n.width,n.height):G(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function z(t,r){if(r&&r.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!(r.depthTexture&&r.depthTexture.isDepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let a=i.get(r.depthTexture);a.__renderTarget=r,a.__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),T(r.depthTexture,0);let s=a.__webglTexture,o=V(r);if(1026===r.depthTexture.format)G(r)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0);else if(1027===r.depthTexture.format)G(r)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0);else throw Error("Unknown depthTexture format")}function j(t){let r=i.get(t),a=!0===t.isWebGLCubeRenderTarget;if(r.__boundDepthTexture!==t.depthTexture){let e=t.depthTexture;if(r.__depthDisposeCallback&&r.__depthDisposeCallback(),e){let t=()=>{delete r.__boundDepthTexture,delete r.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),r.__depthDisposeCallback=t}r.__boundDepthTexture=e}if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(a)throw Error("target.depthTexture not supported in Cube render targets");let e=t.texture.mipmaps;e&&e.length>0?z(r.__webglFramebuffer[0],t):z(r.__webglFramebuffer,t)}else if(a){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),void 0===r.__webglDepthbuffer[i])r.__webglDepthbuffer[i]=e.createRenderbuffer(),O(r.__webglDepthbuffer[i],t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=r.__webglDepthbuffer[i];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{let i=t.texture.mipmaps;if(i&&i.length>0?n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),void 0===r.__webglDepthbuffer)r.__webglDepthbuffer=e.createRenderbuffer(),O(r.__webglDepthbuffer,t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=r.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}let F=[],B=[];function V(e){return Math.min(r.maxSamples,e.samples)}function G(e){let n=i.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function H(e,t){let n=e.colorSpace,i=e.format,r=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==k&&""!==n&&(ey.getTransfer(n)===N?(1023!==i||1009!==r)&&X("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):q("WebGLTextures: Unsupported texture color space:",n)),t}function W(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){let e=M;return e>=r.maxTextures&&X("WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=T,this.setTexture2DArray=function(t,r){let a=i.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,r):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+r))},this.setTexture3D=function(t,r){let a=i.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,r):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,s){let o=i.get(t);t.version>0&&o.__version!==t.version?function(t,s,o){if(6!==s.image.length)return;let l=P(t,s),u=s.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);let c=i.get(u);if(u.version!==c.__version||!0===l){let t;n.activeTexture(e.TEXTURE0+o);let i=ey.getPrimaries(ey.workingColorSpace),d=""===s.colorSpace?null:ey.getPrimaries(s.colorSpace),h=""===s.colorSpace||i===d?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=s.isCompressedTexture||s.image[0].isCompressedTexture,f=s.image[0]&&s.image[0].isDataTexture,x=[];for(let e=0;e<6;e++)p||f?x[e]=f?s.image[e].image:s.image[e]:x[e]=m(s.image[e],!0,r.maxCubemapSize),x[e]=H(s,x[e]);let _=x[0],S=a.convert(s.format,s.colorSpace),w=a.convert(s.type),M=y(s.internalFormat,S,w,s.colorSpace),T=!0!==s.isVideoTexture,E=void 0===c.__version||!0===l,A=u.dataReady,C=b(s,_);if(I(e.TEXTURE_CUBE_MAP,s),p){T&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,M,_.width,_.height);for(let i=0;i<6;i++){t=x[i].mipmaps;for(let r=0;r<t.length;r++){let a=t[r];1023!==s.format?null!==S?T?A&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r,0,0,a.width,a.height,S,a.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r,M,a.width,a.height,0,a.data):X("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r,0,0,a.width,a.height,S,w,a.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r,M,a.width,a.height,0,S,w,a.data)}}}else{if(t=s.mipmaps,T&&E){t.length>0&&C++;let i=W(x[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,M,i.width,i.height)}for(let i=0;i<6;i++)if(f){T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,0,0,x[i].width,x[i].height,S,w,x[i].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,M,x[i].width,x[i].height,0,S,w,x[i].data);for(let r=0;r<t.length;r++){let a=t[r].image[i].image;T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r+1,0,0,a.width,a.height,S,w,a.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r+1,M,a.width,a.height,0,S,w,a.data)}}else{T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,0,0,S,w,x[i]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,M,S,w,x[i]);for(let r=0;r<t.length;r++){let a=t[r];T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r+1,0,0,S,w,a.image[i]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,r+1,M,S,w,a.image[i])}}}g(s)&&v(e.TEXTURE_CUBE_MAP),c.__version=u.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}(o,t,s):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+s)},this.rebindTextures=function(t,n,r){let a=i.get(t);void 0!==n&&U(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==r&&j(t)},this.setupRenderTarget=function(t){let r=t.texture,o=i.get(t),l=i.get(r);t.addEventListener("dispose",S);let u=t.textures,c=!0===t.isWebGLCubeRenderTarget,d=u.length>1;if(!d&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=r.version,s.memory.textures++),c){o.__webglFramebuffer=[];for(let t=0;t<6;t++)if(r.mipmaps&&r.mipmaps.length>0){o.__webglFramebuffer[t]=[];for(let n=0;n<r.mipmaps.length;n++)o.__webglFramebuffer[t][n]=e.createFramebuffer()}else o.__webglFramebuffer[t]=e.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){o.__webglFramebuffer=[];for(let t=0;t<r.mipmaps.length;t++)o.__webglFramebuffer[t]=e.createFramebuffer()}else o.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=u.length;t<n;t++){let n=i.get(u[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),s.memory.textures++)}if(t.samples>0&&!1===G(t)){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer);for(let n=0;n<u.length;n++){let i=u[n];o.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer[n]);let r=a.convert(i.format,i.colorSpace),s=a.convert(i.type),l=y(i.internalFormat,r,s,i.colorSpace,!0===t.isXRRenderTarget),c=V(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,o.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),O(o.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),I(e.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)U(o.__webglFramebuffer[n][i],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else U(o.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(r)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,a=u.length;r<a;r++){let a=u[r],s=i.get(a),l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,s.__webglTexture),I(l,a),U(o.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+r,l,0),g(a)&&v(l)}n.unbindTexture()}else{let i=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),I(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)U(o.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,i,n);else U(o.__webglFramebuffer,t,r,e.COLOR_ATTACHMENT0,i,0);g(r)&&v(i),n.unbindTexture()}t.depthBuffer&&j(t)},this.updateRenderTargetMipmap=function(t){let r=t.textures;for(let a=0,s=r.length;a<s;a++){let s=r[a];if(g(s)){let r=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D,a=i.get(s).__webglTexture;n.bindTexture(r,a),v(r),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0){if(!1===G(t)){let r=t.textures,a=t.width,s=t.height,o=e.COLOR_BUFFER_BIT,l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=i.get(t),d=r.length>1;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer);let h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<r.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);let t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,s,0,0,a,s,o,e.NEAREST),!0===u&&(F.length=0,B.length=0,F.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(F.push(l),B.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,B)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,F))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);let a=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&u){let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=U,this.useMultisampledRTT=G}function ce(e,t){return{convert:function(n,i=""){let r,a=ey.getTransfer(i);if(1009===n)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(35902===n)return e.UNSIGNED_INT_5_9_9_9_REV;if(35899===n)return e.UNSIGNED_INT_10F_11F_11F_REV;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(1012===n)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(1014===n)return e.UNSIGNED_INT;if(1015===n)return e.FLOAT;if(1016===n)return e.HALF_FLOAT;if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(1023===n)return e.RGBA;if(1026===n)return e.DEPTH_COMPONENT;if(1027===n)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(33776===n||33777===n||33778===n||33779===n)if(a===N){if(null===(r=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(33776===n)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===n)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===n)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n||37492===n||37496===n){if(null===(r=t.get("WEBGL_compressed_texture_etc")))return null;if(36196===n||37492===n)return a===N?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(37496===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(r=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===N?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===n||36494===n||36495===n){if(null===(r=t.get("EXT_texture_compression_bptc")))return null;if(36492===n)return a===N?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(r=t.get("EXT_texture_compression_rgtc")))return null;if(36283===n)return r.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===n?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}let ct=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,cn=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ci{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){let n=new rx(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){let t=e.cameras[0].viewport,n=new nC({vertexShader:ct,fragmentShader:cn,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new n_(new am(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cr extends J{constructor(e,t){super();const n=this;let i=null,r=1,a=null,s="local-floor",o=1,l=null,u=null,c=null,d=null,h=null,p=null;const f="undefined"!=typeof XRWebGLBinding,m=new ci,g={},v=t.getContextAttributes();let y=null,x=null;const b=[],_=[],S=new eu;let w=null;const M=new nN;M.viewport=new eC;const T=new nN;T.viewport=new eC;const E=[M,T],A=new sV;let C=null,I=null;function P(e){let t=_.indexOf(e.inputSource);if(-1===t)return;let n=b[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function k(){i.removeEventListener("select",P),i.removeEventListener("selectstart",P),i.removeEventListener("selectend",P),i.removeEventListener("squeeze",P),i.removeEventListener("squeezestart",P),i.removeEventListener("squeezeend",P),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",R);for(let e=0;e<b.length;e++){let t=_[e];null!==t&&(_[e]=null,b[e].disconnect(t))}for(let e in C=null,I=null,m.reset(),g)delete g[e];e.setRenderTarget(y),h=null,d=null,c=null,i=null,x=null,O.stop(),n.isPresenting=!1,e.setPixelRatio(w),e.setSize(S.width,S.height,!1),n.dispatchEvent({type:"sessionend"})}function R(e){for(let t=0;t<e.removed.length;t++){let n=e.removed[t],i=_.indexOf(n);i>=0&&(_[i]=null,b[i].disconnect(n))}for(let t=0;t<e.added.length;t++){let n=e.added[t],i=_.indexOf(n);if(-1===i){for(let e=0;e<b.length;e++)if(e>=_.length){_.push(n),i=e;break}else if(null===_[e]){_[e]=n,i=e;break}if(-1===i)break}let r=b[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=b[e];return void 0===t&&(t=new nj,b[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=b[e];return void 0===t&&(t=new nj,b[e]=t),t.getGripSpace()},this.getHand=function(e){let t=b[e];return void 0===t&&(t=new nj,b[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&X("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&X("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===c&&f&&(c=new XRWebGLBinding(i,t)),c},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(u){if(null!==(i=u)){if(y=e.getRenderTarget(),i.addEventListener("select",P),i.addEventListener("selectstart",P),i.addEventListener("selectend",P),i.addEventListener("squeeze",P),i.addEventListener("squeezestart",P),i.addEventListener("squeezeend",P),i.addEventListener("end",k),i.addEventListener("inputsourceschange",R),!0!==v.xrCompatible&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(S),f&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,s=null;v.depth&&(s=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=v.stencil?1027:1026,a=v.stencil?1020:1014);let o={colorFormat:t.RGBA8,depthFormat:s,scaleFactor:r};d=(c=this.getBinding()).createProjectionLayer(o),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),x=new eP(d.textureWidth,d.textureHeight,{format:1023,type:1009,depthTexture:new ry(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:4*!!v.antialias,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{let n={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),x=new eP(h.framebufferWidth,h.framebufferHeight,{format:1023,type:1009,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}x.isXRRenderTarget=!0,this.setFoveation(o),l=null,a=await i.requestReferenceSpace(s),O.setContext(i),O.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const N=new ed,D=new ed;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){var t,n,r;if(null===i)return;let a=e.near,s=e.far;null!==m.texture&&(m.depthNear>0&&(a=m.depthNear),m.depthFar>0&&(s=m.depthFar)),A.near=T.near=M.near=a,A.far=T.far=M.far=s,(C!==A.near||I!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),C=A.near,I=A.far),A.layers.mask=6|e.layers.mask,M.layers.mask=3&A.layers.mask,T.layers.mask=5&A.layers.mask;let o=e.parent,l=A.cameras;L(A,o);for(let e=0;e<l.length;e++)L(l[e],o);2===l.length?function(e,t,n){N.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);let i=N.distanceTo(D),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,s=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],d=(a[8]+1)/a[0],h=i/(-c+d),p=-(h*c);if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{let t=s+h,n=o+h;e.projectionMatrix.makePerspective(s*c-p,s*d+(i-p),l*o/n*t,u*o/n*t,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(A,M,T):A.projectionMatrix.copy(M.projectionMatrix),t=e,n=A,null===(r=o)?t.matrix.copy(n.matrixWorld):(t.matrix.copy(r.matrixWorld),t.matrix.invert(),t.matrix.multiply(n.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(n.projectionMatrix),t.projectionMatrixInverse.copy(n.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*et*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)},this.getCamera=function(){return A},this.getFoveation=function(){if(null!==d||null!==h)return o},this.setFoveation=function(e){o=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(A)},this.getCameraTexture=function(e){return g[e]};let U=null;const O=new o7;O.setAnimationLoop(function(t,r){if(u=r.getViewerPose(l||a),p=r,null!==u){let t=u.views;null!==h&&(e.setRenderTargetFramebuffer(x,h.framebuffer),e.setRenderTarget(x));let r=!1;t.length!==A.cameras.length&&(A.cameras.length=0,r=!0);for(let n=0;n<t.length;n++){let i=t[n],a=null;if(null!==h)a=h.getViewport(i);else{let t=c.getViewSubImage(d,i);a=t.viewport,0===n&&(e.setRenderTargetTextures(x,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(x))}let s=E[n];void 0===s&&((s=new nN).layers.enable(n),s.viewport=new eC,E[n]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(a.x,a.y,a.width,a.height),0===n&&(A.matrix.copy(s.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),!0===r&&A.cameras.push(s)}let a=i.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==i.depthUsage&&f){let e=(c=n.getBinding()).getDepthInformation(t[0]);e&&e.isValid&&e.texture&&m.init(e,i.renderState)}if(a&&a.includes("camera-access")&&f){e.state.unbindTexture(),c=n.getBinding();for(let e=0;e<t.length;e++){let n=t[e].camera;if(n){let e=g[n];e||(e=new rx,g[n]=e);let t=c.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<b.length;e++){let t=_[e],n=b[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}U&&U(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null}),this.setAnimationLoop=function(e){U=e},this.dispose=function(){}}}let ca=new tl,cs=new e9;function co(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(e,i){e.opacity.value=i.opacity,i.color&&e.diffuse.value.copy(i.color),i.emissive&&e.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.bumpMap&&(e.bumpMap.value=i.bumpMap,n(i.bumpMap,e.bumpMapTransform),e.bumpScale.value=i.bumpScale,1===i.side&&(e.bumpScale.value*=-1)),i.normalMap&&(e.normalMap.value=i.normalMap,n(i.normalMap,e.normalMapTransform),e.normalScale.value.copy(i.normalScale),1===i.side&&e.normalScale.value.negate()),i.displacementMap&&(e.displacementMap.value=i.displacementMap,n(i.displacementMap,e.displacementMapTransform),e.displacementScale.value=i.displacementScale,e.displacementBias.value=i.displacementBias),i.emissiveMap&&(e.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,e.emissiveMapTransform)),i.specularMap&&(e.specularMap.value=i.specularMap,n(i.specularMap,e.specularMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest);let r=t.get(i),a=r.envMap,s=r.envMapRotation;a&&(e.envMap.value=a,ca.copy(s),ca.x*=-1,ca.y*=-1,ca.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(ca.y*=-1,ca.z*=-1),e.envMapRotation.value.setFromMatrix4(cs.makeRotationFromEuler(ca)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=i.reflectivity,e.ior.value=i.ior,e.refractionRatio.value=i.refractionRatio),i.lightMap&&(e.lightMap.value=i.lightMap,e.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,e.lightMapTransform)),i.aoMap&&(e.aoMap.value=i.aoMap,e.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,nE(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,a,s,o){var l,u,c,d,h,p,f,m,g,v,y,x,b,_,S,w,M,T,E,A,C,I,P;let k;r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),l=e,(u=r).gradientMap&&(l.gradientMap.value=u.gradientMap)):r.isMeshPhongMaterial?(i(e,r),c=e,d=r,c.specular.value.copy(d.specular),c.shininess.value=Math.max(d.shininess,1e-4)):r.isMeshStandardMaterial?(i(e,r),h=e,p=r,h.metalness.value=p.metalness,p.metalnessMap&&(h.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,h.metalnessMapTransform)),h.roughness.value=p.roughness,p.roughnessMap&&(h.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,h.roughnessMapTransform)),p.envMap&&(h.envMapIntensity.value=p.envMapIntensity),r.isMeshPhysicalMaterial&&(f=e,m=r,g=o,f.ior.value=m.ior,m.sheen>0&&(f.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),f.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(f.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,f.sheenColorMapTransform)),m.sheenRoughnessMap&&(f.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,f.sheenRoughnessMapTransform))),m.clearcoat>0&&(f.clearcoat.value=m.clearcoat,f.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(f.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,f.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,f.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(f.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,f.clearcoatNormalMapTransform),f.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),1===m.side&&f.clearcoatNormalScale.value.negate())),m.dispersion>0&&(f.dispersion.value=m.dispersion),m.iridescence>0&&(f.iridescence.value=m.iridescence,f.iridescenceIOR.value=m.iridescenceIOR,f.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(f.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,f.iridescenceMapTransform)),m.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,f.iridescenceThicknessMapTransform))),m.transmission>0&&(f.transmission.value=m.transmission,f.transmissionSamplerMap.value=g.texture,f.transmissionSamplerSize.value.set(g.width,g.height),m.transmissionMap&&(f.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,f.transmissionMapTransform)),f.thickness.value=m.thickness,m.thicknessMap&&(f.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,f.thicknessMapTransform)),f.attenuationDistance.value=m.attenuationDistance,f.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(f.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(f.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,f.anisotropyMapTransform))),f.specularIntensity.value=m.specularIntensity,f.specularColor.value.copy(m.specularColor),m.specularColorMap&&(f.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,f.specularColorMapTransform)),m.specularIntensityMap&&(f.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,f.specularIntensityMapTransform)))):r.isMeshMatcapMaterial?(i(e,r),v=e,(y=r).matcap&&(v.matcap.value=y.matcap)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),x=e,b=r,k=t.get(b).light,x.referencePosition.value.setFromMatrixPosition(k.matrixWorld),x.nearDistance.value=k.shadow.camera.near,x.farDistance.value=k.shadow.camera.far):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(_=e,S=r,_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,S.map&&(_.map.value=S.map,n(S.map,_.mapTransform)),r.isLineDashedMaterial&&(w=e,M=r,w.dashSize.value=M.dashSize,w.totalSize.value=M.dashSize+M.gapSize,w.scale.value=M.scale)):r.isPointsMaterial?(T=e,E=r,A=a,C=s,T.diffuse.value.copy(E.color),T.opacity.value=E.opacity,T.size.value=E.size*A,T.scale.value=.5*C,E.map&&(T.map.value=E.map,n(E.map,T.uvTransform)),E.alphaMap&&(T.alphaMap.value=E.alphaMap,n(E.alphaMap,T.alphaMapTransform)),E.alphaTest>0&&(T.alphaTest.value=E.alphaTest)):r.isSpriteMaterial?(I=e,P=r,I.diffuse.value.copy(P.color),I.opacity.value=P.opacity,I.rotation.value=P.rotation,P.map&&(I.map.value=P.map,n(P.map,I.mapTransform)),P.alphaMap&&(I.alphaMap.value=P.alphaMap,n(P.alphaMap,I.alphaMapTransform)),P.alphaTest>0&&(I.alphaTest.value=P.alphaTest)):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function cl(e,t,n,i){let r={},a={},s=[],o=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e){let t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?X("WebGLRenderer: Texture samplers can not be part of an uniforms group."):X("WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){let n=t.target;n.removeEventListener("dispose",u);let i=s.indexOf(n.__bindingPointIndex);s.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(e,t){let n=t.program;i.uniformBlockBinding(e,n)},update:function(n,c){var d;let h,p,f,m,g=r[n.id];void 0===g&&(function(e){let t=e.uniforms,n=0;for(let e=0,i=t.length;e<i;e++){let i=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=i.length;e<t;e++){let t=i[e],r=Array.isArray(t.value)?t.value:[t.value];for(let e=0,i=r.length;e<i;e++){let i=l(r[e]),a=n%16,s=a%i.boundary,o=a+s;n+=s,0!==o&&16-o<i.storage&&(n+=16-o),t.__data=new Float32Array(i.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=i.storage}}}let i=n%16;i>0&&(n+=16-i),e.__size=n,e.__cache={}}(n),(d=n).__bindingPointIndex=h=function(){for(let e=0;e<o;e++)if(-1===s.indexOf(e))return s.push(e),e;return q("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}(),p=e.createBuffer(),f=d.__size,m=d.usage,e.bindBuffer(e.UNIFORM_BUFFER,p),e.bufferData(e.UNIFORM_BUFFER,f,m),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,h,p),g=p,r[n.id]=g,n.addEventListener("dispose",u));let v=c.program;i.updateUBOMapping(n,v);let y=t.render.frame;a[n.id]!==y&&(function(t){let n=r[t.id],i=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=i.length;t<n;t++){let n=Array.isArray(i[t])?i[t]:[i[t]];for(let i=0,r=n.length;i<r;i++){let r=n[i];if(!0===function(e,t,n,i){let r=e.value,a=t+"_"+n;if(void 0===i[a])return"number"==typeof r||"boolean"==typeof r?i[a]=r:i[a]=r.clone(),!0;{let e=i[a];if("number"==typeof r||"boolean"==typeof r){if(e!==r)return i[a]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}(r,t,i,a)){let t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value],i=0;for(let a=0;a<n.length;a++){let s=n[a],o=l(s);"number"==typeof s||"boolean"==typeof s?(r.__data[0]=s,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=y)},dispose:function(){for(let t in r)e.deleteBuffer(r[t]);s=[],r={},a={}}}}let cu=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]),cc=null;class cd{constructor(e={}){let t,n,i,r,a,s,o,l,u,c,d,h,p,f,m,g,v,y,x,b,_,S,w,M,T;const{canvas:E=B(),context:A=null,depth:C=!0,stencil:I=!1,alpha:R=!1,antialias:N=!1,premultipliedAlpha:D=!0,preserveDrawingBuffer:L=!1,powerPreference:U="default",failIfMajorPerformanceCaveat:O=!1,reversedDepthBuffer:z=!1}=e;if(this.isWebGLRenderer=!0,null!==A){if("undefined"!=typeof WebGLRenderingContext&&A instanceof WebGLRenderingContext)throw Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");t=A.getContextAttributes().alpha}else t=R;const j=new Set([1033,1031,1029]),F=new Set([1009,1014,1012,1020,1017,1018]),$=new Uint32Array(4),V=new Int32Array(4);let G=null,H=null;const W=[],J=[];this.domElement=E,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const K=this;let Q=!1;this._outputColorSpace=P;let ee=0,et=0,en=null,ei=-1,er=null;const ea=new eC,es=new eC;let eo=null;const el=new tG(0);let eu=0,ec=E.width,eh=E.height,ep=1,ef=null,em=null;const eg=new eC(0,0,ec,eh),ev=new eC(0,0,ec,eh);let ex=!1;const eb=new iN;let e_=!1,eS=!1;const ew=new e9,eM=new ed,eT=new eC,eE={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let eA=!1;function eI(){return null===en?ep:1}let ek=A;function eR(e,t){return E.getContext(e,t)}try{if("setAttribute"in E&&E.setAttribute("data-engine","three.js r181"),E.addEventListener("webglcontextlost",eL,!1),E.addEventListener("webglcontextrestored",eU,!1),E.addEventListener("webglcontextcreationerror",eO,!1),null===ek){const e="webgl2";if(ek=eR(e,{alpha:!0,depth:C,stencil:I,antialias:N,premultipliedAlpha:D,preserveDrawingBuffer:L,powerPreference:U,failIfMajorPerformanceCaveat:O}),null===ek)if(eR(e))throw Error("Error creating WebGL context with your selected attributes.");else throw Error("Error creating WebGL context.")}}catch(e){throw e("WebGLRenderer: "+e.message),e}function eN(){(n=new lC(ek)).init(),w=new ce(ek,n),i=new lc(ek,n,e,w),r=new u9(ek,n),i.reversedDepthBuffer&&z&&r.buffers.depth.setReversed(!0),a=new lk(ek),s=new uq,o=new u7(ek,n,r,s,i,w,a),l=new lh(K),u=new lA(K),c=new le(ek),M=new ll(ek,c),d=new lI(ek,c,a,M),h=new lN(ek,d,c,a),b=new lR(ek,i,o),v=new ld(s),p=new uX(K,l,u,n,i,M,v),f=new co(K,s),m=new uQ,g=new u5(n),x=new lo(K,l,u,r,h,t,D),y=new u6(K,h,i),T=new cl(ek,a,i,r),_=new lu(ek,n,a),S=new lP(ek,n,a),a.programs=p.programs,K.capabilities=i,K.extensions=n,K.properties=s,K.renderLists=m,K.shadowMap=y,K.state=r,K.info=a}eN();const eD=new cr(K,ek);function eL(e){e.preventDefault(),Z("WebGLRenderer: Context Lost."),Q=!0}function eU(){Z("WebGLRenderer: Context Restored."),Q=!1;let e=a.autoReset,t=y.enabled,n=y.autoUpdate,i=y.needsUpdate,r=y.type;eN(),a.autoReset=e,y.enabled=t,y.autoUpdate=n,y.needsUpdate=i,y.type=r}function eO(e){q("WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function ez(e){var t,n;let i,r=e.target;r.removeEventListener("dispose",ez),n=t=r,void 0!==(i=s.get(n).programs)&&(i.forEach(function(e){p.releaseProgram(e)}),n.isShaderMaterial&&p.releaseShaderCache(n)),s.remove(t)}function ej(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,eq(e,t,n),e.side=0,e.needsUpdate=!0,eq(e,t,n),e.side=2):eq(e,t,n)}this.xr=eD,this.getContext=function(){return ek},this.getContextAttributes=function(){return ek.getContextAttributes()},this.forceContextLoss=function(){let e=n.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){let e=n.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return ep},this.setPixelRatio=function(e){void 0!==e&&(ep=e,this.setSize(ec,eh,!1))},this.getSize=function(e){return e.set(ec,eh)},this.setSize=function(e,t,n=!0){eD.isPresenting?X("WebGLRenderer: Can't change size while VR device is presenting."):(ec=e,eh=t,E.width=Math.floor(e*ep),E.height=Math.floor(t*ep),!0===n&&(E.style.width=e+"px",E.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(ec*ep,eh*ep).floor()},this.setDrawingBufferSize=function(e,t,n){ec=e,eh=t,ep=n,E.width=Math.floor(e*n),E.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(ea)},this.getViewport=function(e){return e.copy(eg)},this.setViewport=function(e,t,n,i){e.isVector4?eg.set(e.x,e.y,e.z,e.w):eg.set(e,t,n,i),r.viewport(ea.copy(eg).multiplyScalar(ep).round())},this.getScissor=function(e){return e.copy(ev)},this.setScissor=function(e,t,n,i){e.isVector4?ev.set(e.x,e.y,e.z,e.w):ev.set(e,t,n,i),r.scissor(es.copy(ev).multiplyScalar(ep).round())},this.getScissorTest=function(){return ex},this.setScissorTest=function(e){r.setScissorTest(ex=e)},this.setOpaqueSort=function(e){ef=e},this.setTransparentSort=function(e){em=e},this.getClearColor=function(e){return e.copy(x.getClearColor())},this.setClearColor=function(){x.setClearColor(...arguments)},this.getClearAlpha=function(){return x.getClearAlpha()},this.setClearAlpha=function(){x.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let i=0;if(e){let e=!1;if(null!==en){let t=en.texture.format;e=j.has(t)}if(e){let e=en.texture.type,t=F.has(e),n=x.getClearColor(),i=x.getClearAlpha(),r=n.r,a=n.g,s=n.b;t?($[0]=r,$[1]=a,$[2]=s,$[3]=i,ek.clearBufferuiv(ek.COLOR,0,$)):(V[0]=r,V[1]=a,V[2]=s,V[3]=i,ek.clearBufferiv(ek.COLOR,0,V))}else i|=ek.COLOR_BUFFER_BIT}t&&(i|=ek.DEPTH_BUFFER_BIT),n&&(i|=ek.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(0xffffffff)),ek.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){E.removeEventListener("webglcontextlost",eL,!1),E.removeEventListener("webglcontextrestored",eU,!1),E.removeEventListener("webglcontextcreationerror",eO,!1),x.dispose(),m.dispose(),g.dispose(),s.dispose(),l.dispose(),u.dispose(),h.dispose(),M.dispose(),T.dispose(),p.dispose(),eD.dispose(),eD.removeEventListener("sessionstart",e$),eD.removeEventListener("sessionend",eB),eV.stop()},this.renderBufferDirect=function(e,t,a,h,p,m){let g;null===t&&(t=eE);let y=p.isMesh&&0>p.matrixWorld.determinant(),x=function(e,t,n,a,c){var d,h;!0!==t.isScene&&(t=eE),o.resetTextureUnits();let p=t.fog,m=a.isMeshStandardMaterial?t.environment:null,g=null===en?K.outputColorSpace:!0===en.isXRRenderTarget?en.texture.colorSpace:k,y=(a.isMeshStandardMaterial?u:l).get(a.envMap||m),x=!0===a.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,_=!!n.attributes.tangent&&(!!a.normalMap||a.anisotropy>0),S=!!n.morphAttributes.position,w=!!n.morphAttributes.normal,M=!!n.morphAttributes.color,E=0;a.toneMapped&&(null===en||!0===en.isXRRenderTarget)&&(E=K.toneMapping);let A=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,C=void 0!==A?A.length:0,I=s.get(a),P=H.state.lights;if(!0===e_&&(!0===eS||e!==er)){let t=e===er&&a.id===ei;v.setState(a,e,t)}let R=!1;a.version===I.__version?I.needsLights&&I.lightsStateVersion!==P.state.version||I.outputColorSpace!==g||c.isBatchedMesh&&!1===I.batching?R=!0:c.isBatchedMesh||!0!==I.batching?c.isBatchedMesh&&!0===I.batchingColor&&null===c.colorTexture||c.isBatchedMesh&&!1===I.batchingColor&&null!==c.colorTexture||c.isInstancedMesh&&!1===I.instancing?R=!0:c.isInstancedMesh||!0!==I.instancing?c.isSkinnedMesh&&!1===I.skinning?R=!0:c.isSkinnedMesh||!0!==I.skinning?c.isInstancedMesh&&!0===I.instancingColor&&null===c.instanceColor||c.isInstancedMesh&&!1===I.instancingColor&&null!==c.instanceColor||c.isInstancedMesh&&!0===I.instancingMorph&&null===c.morphTexture||c.isInstancedMesh&&!1===I.instancingMorph&&null!==c.morphTexture||I.envMap!==y||!0===a.fog&&I.fog!==p||void 0!==I.numClippingPlanes&&(I.numClippingPlanes!==v.numPlanes||I.numIntersection!==v.numIntersection)||I.vertexAlphas!==x||I.vertexTangents!==_||I.morphTargets!==S||I.morphNormals!==w||I.morphColors!==M||I.toneMapping!==E?R=!0:I.morphTargetsCount!==C&&(R=!0):R=!0:R=!0:R=!0:(R=!0,I.__version=a.version);let N=I.currentProgram;!0===R&&(N=eq(a,t,c));let D=!1,L=!1,U=!1,O=N.getUniforms(),z=I.uniforms;if(r.useProgram(N.program)&&(D=!0,L=!0,U=!0),a.id!==ei&&(ei=a.id,L=!0),D||er!==e){r.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),O.setValue(ek,"projectionMatrix",e.projectionMatrix),O.setValue(ek,"viewMatrix",e.matrixWorldInverse);let t=O.map.cameraPosition;void 0!==t&&t.setValue(ek,eM.setFromMatrixPosition(e.matrixWorld)),i.logarithmicDepthBuffer&&O.setValue(ek,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial)&&O.setValue(ek,"isOrthographic",!0===e.isOrthographicCamera),er!==e&&(er=e,L=!0,U=!0)}if(c.isSkinnedMesh){O.setOptional(ek,c,"bindMatrix"),O.setOptional(ek,c,"bindMatrixInverse");let e=c.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(ek,"boneTexture",e.boneTexture,o))}c.isBatchedMesh&&(O.setOptional(ek,c,"batchingTexture"),O.setValue(ek,"batchingTexture",c._matricesTexture,o),O.setOptional(ek,c,"batchingIdTexture"),O.setValue(ek,"batchingIdTexture",c._indirectTexture,o),O.setOptional(ek,c,"batchingColorTexture"),null!==c._colorsTexture&&O.setValue(ek,"batchingColorTexture",c._colorsTexture,o));let j=n.morphAttributes;if((void 0!==j.position||void 0!==j.normal||void 0!==j.color)&&b.update(c,n,N),(L||I.receiveShadow!==c.receiveShadow)&&(I.receiveShadow=c.receiveShadow,O.setValue(ek,"receiveShadow",c.receiveShadow)),a.isMeshGouraudMaterial&&null!==a.envMap&&(z.envMap.value=y,z.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1),a.isMeshStandardMaterial&&null===a.envMap&&null!==t.environment&&(z.envMapIntensity.value=t.environmentIntensity),void 0!==z.dfgLUT&&(z.dfgLUT.value=(null===cc&&((cc=new ih(cu,32,32,1030,1016)).minFilter=1006,cc.magFilter=1006,cc.wrapS=1001,cc.wrapT=1001,cc.generateMipmaps=!1,cc.needsUpdate=!0),cc)),L&&(O.setValue(ek,"toneMappingExposure",K.toneMappingExposure),I.needsLights&&(d=z,h=U,d.ambientLightColor.needsUpdate=h,d.lightProbe.needsUpdate=h,d.directionalLights.needsUpdate=h,d.directionalLightShadows.needsUpdate=h,d.pointLights.needsUpdate=h,d.pointLightShadows.needsUpdate=h,d.spotLights.needsUpdate=h,d.spotLightShadows.needsUpdate=h,d.rectAreaLights.needsUpdate=h,d.hemisphereLights.needsUpdate=h),p&&!0===a.fog&&f.refreshFogUniforms(z,p),f.refreshMaterialUniforms(z,a,ep,eh,H.state.transmissionRenderTarget[e.id]),uA.upload(ek,eY(I),z,o)),a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(uA.upload(ek,eY(I),z,o),a.uniformsNeedUpdate=!1),a.isSpriteMaterial&&O.setValue(ek,"center",c.center),O.setValue(ek,"modelViewMatrix",c.modelViewMatrix),O.setValue(ek,"normalMatrix",c.normalMatrix),O.setValue(ek,"modelMatrix",c.matrixWorld),a.isShaderMaterial||a.isRawShaderMaterial){let e=a.uniformsGroups;for(let t=0,n=e.length;t<n;t++){let n=e[t];T.update(n,N),T.bind(n,N)}}return N}(e,t,a,h,p);r.setMaterial(h,y);let w=a.index,E=1;if(!0===h.wireframe){if(void 0===(w=d.getWireframeAttribute(a)))return;E=2}let A=a.drawRange,C=a.attributes.position,I=A.start*E,P=(A.start+A.count)*E;null!==m&&(I=Math.max(I,m.start*E),P=Math.min(P,(m.start+m.count)*E)),null!==w?(I=Math.max(I,0),P=Math.min(P,w.count)):null!=C&&(I=Math.max(I,0),P=Math.min(P,C.count));let R=P-I;if(R<0||R===1/0)return;M.setup(p,h,x,a,w);let N=_;if(null!==w&&(g=c.get(w),(N=S).setIndex(g)),p.isMesh)!0===h.wireframe?(r.setLineWidth(h.wireframeLinewidth*eI()),N.setMode(ek.LINES)):N.setMode(ek.TRIANGLES);else if(p.isLine){let e=h.linewidth;void 0===e&&(e=1),r.setLineWidth(e*eI()),p.isLineSegments?N.setMode(ek.LINES):p.isLineLoop?N.setMode(ek.LINE_LOOP):N.setMode(ek.LINE_STRIP)}else p.isPoints?N.setMode(ek.POINTS):p.isSprite&&N.setMode(ek.TRIANGLES);if(p.isBatchedMesh)if(null!==p._multiDrawInstances)Y("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),N.renderMultiDrawInstances(p._multiDrawStarts,p._multiDrawCounts,p._multiDrawCount,p._multiDrawInstances);else if(n.get("WEBGL_multi_draw"))N.renderMultiDraw(p._multiDrawStarts,p._multiDrawCounts,p._multiDrawCount);else{let e=p._multiDrawStarts,t=p._multiDrawCounts,n=p._multiDrawCount,i=w?c.get(w).bytesPerElement:1,r=s.get(h).currentProgram.getUniforms();for(let a=0;a<n;a++)r.setValue(ek,"_gl_DrawID",a),N.render(e[a]/i,t[a])}else if(p.isInstancedMesh)N.renderInstances(I,R,p.count);else if(a.isInstancedBufferGeometry){let e=void 0!==a._maxInstanceCount?a._maxInstanceCount:1/0,t=Math.min(a.instanceCount,e);N.renderInstances(I,R,t)}else N.render(I,R)},this.compile=function(e,t,n=null){null===n&&(n=e),(H=g.get(n)).init(t),J.push(H),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(H.pushLight(e),e.castShadow&&H.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(H.pushLight(e),e.castShadow&&H.pushShadow(e))}),H.setupLights();let i=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;let t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){let a=t[r];ej(a,n,e),i.add(a)}else ej(t,n,e),i.add(t)}),H=J.pop(),i},this.compileAsync=function(e,t,i=null){let r=this.compile(e,t,i);return new Promise(t=>{function i(){(r.forEach(function(e){s.get(e).currentProgram.isReady()&&r.delete(e)}),0===r.size)?t(e):setTimeout(i,10)}null!==n.get("KHR_parallel_shader_compile")?i():setTimeout(i,10)})};let eF=null;function e$(){eV.stop()}function eB(){eV.start()}const eV=new o7;function eG(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers)){if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)H.pushLight(e),e.castShadow&&H.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||eb.intersectsSprite(e)){i&&eT.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ew);let t=h.update(e),r=e.material;r.visible&&G.push(e,t,r,n,eT.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||eb.intersectsObject(e))){let t=h.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),eT.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),eT.copy(t.boundingSphere.center)),eT.applyMatrix4(e.matrixWorld).applyMatrix4(ew)),Array.isArray(r)){let i=t.groups;for(let a=0,s=i.length;a<s;a++){let s=i[a],o=r[s.materialIndex];o&&o.visible&&G.push(e,t,o,n,eT.z,s)}}else r.visible&&G.push(e,t,r,n,eT.z,null)}}let r=e.children;for(let e=0,a=r.length;e<a;e++)eG(r[e],t,n,i)}function eH(e,t,n,i){let{opaque:a,transmissive:s,transparent:o}=e;H.setupLightsView(n),!0===e_&&v.setGlobalState(K.clippingPlanes,n),i&&r.viewport(ea.copy(i)),a.length>0&&eZ(a,t,n),s.length>0&&eZ(s,t,n),o.length>0&&eZ(o,t,n),r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),r.setPolygonOffset(!1)}function eW(e,t,i,r){if(null!==(!0===i.isScene?i.overrideMaterial:null))return;void 0===H.state.transmissionRenderTarget[r.id]&&(H.state.transmissionRenderTarget[r.id]=new eP(1,1,{generateMipmaps:!0,type:n.has("EXT_color_buffer_half_float")||n.has("EXT_color_buffer_float")?1016:1009,minFilter:1008,samples:4,stencilBuffer:I,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ey.workingColorSpace}));let a=H.state.transmissionRenderTarget[r.id],s=r.viewport||ea;a.setSize(s.z*K.transmissionResolutionScale,s.w*K.transmissionResolutionScale);let l=K.getRenderTarget(),u=K.getActiveCubeFace(),c=K.getActiveMipmapLevel();K.setRenderTarget(a),K.getClearColor(el),(eu=K.getClearAlpha())<1&&K.setClearColor(0xffffff,.5),K.clear(),eA&&x.render(i);let d=K.toneMapping;K.toneMapping=0;let h=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),H.setupLightsView(r),!0===e_&&v.setGlobalState(K.clippingPlanes,r),eZ(e,i,r),o.updateMultisampleRenderTarget(a),o.updateRenderTargetMipmap(a),!1===n.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let n=0,a=t.length;n<a;n++){let{object:a,geometry:s,material:o,group:l}=t[n];if(2===o.side&&a.layers.test(r.layers)){let t=o.side;o.side=1,o.needsUpdate=!0,eX(a,i,r,s,o,l),o.side=t,o.needsUpdate=!0,e=!0}}!0===e&&(o.updateMultisampleRenderTarget(a),o.updateRenderTargetMipmap(a))}K.setRenderTarget(l,u,c),K.setClearColor(el,eu),void 0!==h&&(r.viewport=h),K.toneMapping=d}function eZ(e,t,n){let i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,a=e.length;r<a;r++){let a=e[r],{object:s,geometry:o,group:l}=a,u=a.material;!0===u.allowOverride&&null!==i&&(u=i),s.layers.test(n.layers)&&eX(s,t,n,o,u,l)}}function eX(e,t,n,i,r,a){e.onBeforeRender(K,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(K,t,n,i,e,a),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,K.renderBufferDirect(n,t,i,r,e,a),r.side=0,r.needsUpdate=!0,K.renderBufferDirect(n,t,i,r,e,a),r.side=2):K.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(K,t,n,i,r,a)}function eq(e,t,n){var i;!0!==t.isScene&&(t=eE);let r=s.get(e),a=H.state.lights,o=H.state.shadowsArray,c=a.state.version,d=p.getParameters(e,a.state,o,t,n),h=p.getProgramCacheKey(d),f=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?u:l).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===f&&(e.addEventListener("dispose",ez),r.programs=f=new Map);let m=f.get(h);if(void 0!==m){if(r.currentProgram===m&&r.lightsStateVersion===c)return eJ(e,d),m}else d.uniforms=p.getUniforms(e),e.onBeforeCompile(d,K),m=p.acquireProgram(d,h),f.set(h,m),r.uniforms=d.uniforms;let g=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(g.clippingPlanes=v.uniform),eJ(e,d),r.needsLights=(i=e).isMeshLambertMaterial||i.isMeshToonMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isShadowMaterial||i.isShaderMaterial&&!0===i.lights,r.lightsStateVersion=c,r.needsLights&&(g.ambientLightColor.value=a.state.ambient,g.lightProbe.value=a.state.probe,g.directionalLights.value=a.state.directional,g.directionalLightShadows.value=a.state.directionalShadow,g.spotLights.value=a.state.spot,g.spotLightShadows.value=a.state.spotShadow,g.rectAreaLights.value=a.state.rectArea,g.ltc_1.value=a.state.rectAreaLTC1,g.ltc_2.value=a.state.rectAreaLTC2,g.pointLights.value=a.state.point,g.pointLightShadows.value=a.state.pointShadow,g.hemisphereLights.value=a.state.hemi,g.directionalShadowMap.value=a.state.directionalShadowMap,g.directionalShadowMatrix.value=a.state.directionalShadowMatrix,g.spotShadowMap.value=a.state.spotShadowMap,g.spotLightMatrix.value=a.state.spotLightMatrix,g.spotLightMap.value=a.state.spotLightMap,g.pointShadowMap.value=a.state.pointShadowMap,g.pointShadowMatrix.value=a.state.pointShadowMatrix),r.currentProgram=m,r.uniformsList=null,m}function eY(e){if(null===e.uniformsList){let t=e.currentProgram.getUniforms();e.uniformsList=uA.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function eJ(e,t){let n=s.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}eV.setAnimationLoop(function(e){eF&&eF(e)}),"undefined"!=typeof self&&eV.setContext(self),this.setAnimationLoop=function(e){eF=e,eD.setAnimationLoop(e),null===e?eV.stop():eV.start()},eD.addEventListener("sessionstart",e$),eD.addEventListener("sessionend",eB),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void q("WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===Q)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===eD.enabled&&!0===eD.isPresenting&&(!0===eD.cameraAutoUpdate&&eD.updateCamera(t),t=eD.getCamera()),!0===e.isScene&&e.onBeforeRender(K,e,t,en),(H=g.get(e,J.length)).init(t),J.push(H),ew.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),eb.setFromProjectionMatrix(ew,2e3,t.reversedDepth),eS=this.localClippingEnabled,e_=v.init(this.clippingPlanes,eS),(G=m.get(e,W.length)).init(),W.push(G),!0===eD.enabled&&!0===eD.isPresenting){let e=K.xr.getDepthSensingMesh();null!==e&&eG(e,t,-1/0,K.sortObjects)}eG(e,t,0,K.sortObjects),G.finish(),!0===K.sortObjects&&G.sort(ef,em),(eA=!1===eD.enabled||!1===eD.isPresenting||!1===eD.hasDepthSensing())&&x.addToRenderList(G,e),this.info.render.frame++,!0===e_&&v.beginShadows();let n=H.state.shadowsArray;y.render(n,e,t),!0===e_&&v.endShadows(),!0===this.info.autoReset&&this.info.reset();let i=G.opaque,r=G.transmissive;if(H.setupLights(),t.isArrayCamera){let n=t.cameras;if(r.length>0)for(let t=0,a=n.length;t<a;t++)eW(i,r,e,n[t]);eA&&x.render(e);for(let t=0,i=n.length;t<i;t++){let i=n[t];eH(G,e,i,i.viewport)}}else r.length>0&&eW(i,r,e,t),eA&&x.render(e),eH(G,e,t);null!==en&&0===et&&(o.updateMultisampleRenderTarget(en),o.updateRenderTargetMipmap(en)),!0===e.isScene&&e.onAfterRender(K,e,t),M.resetDefaultState(),ei=-1,er=null,J.pop(),J.length>0?(H=J[J.length-1],!0===e_&&v.setGlobalState(K.clippingPlanes,H.state.camera)):H=null,W.pop(),G=W.length>0?W[W.length-1]:null},this.getActiveCubeFace=function(){return ee},this.getActiveMipmapLevel=function(){return et},this.getRenderTarget=function(){return en},this.setRenderTargetTextures=function(e,t,n){let i=s.get(e);i.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===i.__autoAllocateDepthBuffer&&(i.__useRenderToTexture=!1),s.get(e.texture).__webglTexture=t,s.get(e.depthTexture).__webglTexture=i.__autoAllocateDepthBuffer?void 0:n,i.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){let n=s.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const eK=ek.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){en=e,ee=t,et=n;let i=!0,a=null,l=!1,u=!1;if(e){let c=s.get(e);if(void 0!==c.__useDefaultFramebuffer)r.bindFramebuffer(ek.FRAMEBUFFER,null),i=!1;else if(void 0===c.__webglFramebuffer)o.setupRenderTarget(e);else if(c.__hasExternalTextures)o.rebindTextures(e,s.get(e.texture).__webglTexture,s.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){let t=e.depthTexture;if(c.__boundDepthTexture!==t){if(null!==t&&s.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");o.setupDepthRenderbuffer(e)}}let d=e.texture;(d.isData3DTexture||d.isDataArrayTexture||d.isCompressedArrayTexture)&&(u=!0);let h=s.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=Array.isArray(h[t])?h[t][n]:h[t],l=!0):a=e.samples>0&&!1===o.useMultisampledRTT(e)?s.get(e).__webglMultisampledFramebuffer:Array.isArray(h)?h[n]:h,ea.copy(e.viewport),es.copy(e.scissor),eo=e.scissorTest}else ea.copy(eg).multiplyScalar(ep).floor(),es.copy(ev).multiplyScalar(ep).floor(),eo=ex;if(0!==n&&(a=eK),r.bindFramebuffer(ek.FRAMEBUFFER,a)&&i&&r.drawBuffers(e,a),r.viewport(ea),r.scissor(es),r.setScissorTest(eo),l){let i=s.get(e.texture);ek.framebufferTexture2D(ek.FRAMEBUFFER,ek.COLOR_ATTACHMENT0,ek.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(u)for(let i=0;i<e.textures.length;i++){let r=s.get(e.textures[i]);ek.framebufferTextureLayer(ek.FRAMEBUFFER,ek.COLOR_ATTACHMENT0+i,r.__webglTexture,n,t)}else if(null!==e&&0!==n){let t=s.get(e.texture);ek.framebufferTexture2D(ek.FRAMEBUFFER,ek.COLOR_ATTACHMENT0,ek.TEXTURE_2D,t.__webglTexture,n)}ei=-1},this.readRenderTargetPixels=function(e,t,n,a,o,l,u,c=0){if(!(e&&e.isWebGLRenderTarget))return void q("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let d=s.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==u&&(d=d[u]),d){r.bindFramebuffer(ek.FRAMEBUFFER,d);try{let r=e.textures[c],s=r.format,u=r.type;if(!i.textureFormatReadable(s))return void q("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!i.textureTypeReadable(u))return void q("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-a&&n>=0&&n<=e.height-o&&(e.textures.length>1&&ek.readBuffer(ek.COLOR_ATTACHMENT0+c),ek.readPixels(t,n,a,o,w.convert(s),w.convert(u),l))}finally{let e=null!==en?s.get(en).__webglFramebuffer:null;r.bindFramebuffer(ek.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,a,o,l,u,c=0){if(!(e&&e.isWebGLRenderTarget))throw Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let d=s.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==u&&(d=d[u]),d)if(t>=0&&t<=e.width-a&&n>=0&&n<=e.height-o){var h;r.bindFramebuffer(ek.FRAMEBUFFER,d);let u=e.textures[c],p=u.format,f=u.type;if(!i.textureFormatReadable(p))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!i.textureTypeReadable(f))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let m=ek.createBuffer();ek.bindBuffer(ek.PIXEL_PACK_BUFFER,m),ek.bufferData(ek.PIXEL_PACK_BUFFER,l.byteLength,ek.STREAM_READ),e.textures.length>1&&ek.readBuffer(ek.COLOR_ATTACHMENT0+c),ek.readPixels(t,n,a,o,w.convert(p),w.convert(f),0);let g=null!==en?s.get(en).__webglFramebuffer:null;r.bindFramebuffer(ek.FRAMEBUFFER,g);let v=ek.fenceSync(ek.SYNC_GPU_COMMANDS_COMPLETE,0);return ek.flush(),await (h=ek,new Promise(function(e,t){setTimeout(function n(){switch(h.clientWaitSync(v,h.SYNC_FLUSH_COMMANDS_BIT,0)){case h.WAIT_FAILED:t();break;case h.TIMEOUT_EXPIRED:setTimeout(n,4);break;default:e()}},4)})),ek.bindBuffer(ek.PIXEL_PACK_BUFFER,m),ek.getBufferSubData(ek.PIXEL_PACK_BUFFER,0,l),ek.deleteBuffer(m),ek.deleteSync(v),l}else throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(e,t=null,n=0){let i=Math.pow(2,-n),a=Math.floor(e.image.width*i),s=Math.floor(e.image.height*i),l=null!==t?t.x:0,u=null!==t?t.y:0;o.setTexture2D(e,0),ek.copyTexSubImage2D(ek.TEXTURE_2D,n,0,0,l,u,a,s),r.unbindTexture()};const eQ=ek.createFramebuffer(),e0=ek.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,i=null,a=0,l=null){let u,c,d,h,p,f,m,g,v,y;null===l&&(0!==a?(Y("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),l=a,a=0):l=0);let x=e.isCompressedTexture?e.mipmaps[l]:e.image;if(null!==n)u=n.max.x-n.min.x,c=n.max.y-n.min.y,d=n.isBox3?n.max.z-n.min.z:1,h=n.min.x,p=n.min.y,f=n.isBox3?n.min.z:0;else{let t=Math.pow(2,-a);u=Math.floor(x.width*t),c=Math.floor(x.height*t),d=e.isDataArrayTexture?x.depth:e.isData3DTexture?Math.floor(x.depth*t):1,h=0,p=0,f=0}null!==i?(m=i.x,g=i.y,v=i.z):(m=0,g=0,v=0);let b=w.convert(t.format),_=w.convert(t.type);t.isData3DTexture?(o.setTexture3D(t,0),y=ek.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(o.setTexture2DArray(t,0),y=ek.TEXTURE_2D_ARRAY):(o.setTexture2D(t,0),y=ek.TEXTURE_2D),ek.pixelStorei(ek.UNPACK_FLIP_Y_WEBGL,t.flipY),ek.pixelStorei(ek.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ek.pixelStorei(ek.UNPACK_ALIGNMENT,t.unpackAlignment);let S=ek.getParameter(ek.UNPACK_ROW_LENGTH),M=ek.getParameter(ek.UNPACK_IMAGE_HEIGHT),T=ek.getParameter(ek.UNPACK_SKIP_PIXELS),E=ek.getParameter(ek.UNPACK_SKIP_ROWS),A=ek.getParameter(ek.UNPACK_SKIP_IMAGES);ek.pixelStorei(ek.UNPACK_ROW_LENGTH,x.width),ek.pixelStorei(ek.UNPACK_IMAGE_HEIGHT,x.height),ek.pixelStorei(ek.UNPACK_SKIP_PIXELS,h),ek.pixelStorei(ek.UNPACK_SKIP_ROWS,p),ek.pixelStorei(ek.UNPACK_SKIP_IMAGES,f);let C=e.isDataArrayTexture||e.isData3DTexture,I=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){let n=s.get(e),i=s.get(t),o=s.get(n.__renderTarget),y=s.get(i.__renderTarget);r.bindFramebuffer(ek.READ_FRAMEBUFFER,o.__webglFramebuffer),r.bindFramebuffer(ek.DRAW_FRAMEBUFFER,y.__webglFramebuffer);for(let n=0;n<d;n++)C&&(ek.framebufferTextureLayer(ek.READ_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,s.get(e).__webglTexture,a,f+n),ek.framebufferTextureLayer(ek.DRAW_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,s.get(t).__webglTexture,l,v+n)),ek.blitFramebuffer(h,p,u,c,m,g,u,c,ek.DEPTH_BUFFER_BIT,ek.NEAREST);r.bindFramebuffer(ek.READ_FRAMEBUFFER,null),r.bindFramebuffer(ek.DRAW_FRAMEBUFFER,null)}else if(0!==a||e.isRenderTargetTexture||s.has(e)){let n=s.get(e),i=s.get(t);r.bindFramebuffer(ek.READ_FRAMEBUFFER,eQ),r.bindFramebuffer(ek.DRAW_FRAMEBUFFER,e0);for(let e=0;e<d;e++)C?ek.framebufferTextureLayer(ek.READ_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,n.__webglTexture,a,f+e):ek.framebufferTexture2D(ek.READ_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,ek.TEXTURE_2D,n.__webglTexture,a),I?ek.framebufferTextureLayer(ek.DRAW_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,i.__webglTexture,l,v+e):ek.framebufferTexture2D(ek.DRAW_FRAMEBUFFER,ek.COLOR_ATTACHMENT0,ek.TEXTURE_2D,i.__webglTexture,l),0!==a?ek.blitFramebuffer(h,p,u,c,m,g,u,c,ek.COLOR_BUFFER_BIT,ek.NEAREST):I?ek.copyTexSubImage3D(y,l,m,g,v+e,h,p,u,c):ek.copyTexSubImage2D(y,l,m,g,h,p,u,c);r.bindFramebuffer(ek.READ_FRAMEBUFFER,null),r.bindFramebuffer(ek.DRAW_FRAMEBUFFER,null)}else I?e.isDataTexture||e.isData3DTexture?ek.texSubImage3D(y,l,m,g,v,u,c,d,b,_,x.data):t.isCompressedArrayTexture?ek.compressedTexSubImage3D(y,l,m,g,v,u,c,d,b,x.data):ek.texSubImage3D(y,l,m,g,v,u,c,d,b,_,x):e.isDataTexture?ek.texSubImage2D(ek.TEXTURE_2D,l,m,g,u,c,b,_,x.data):e.isCompressedTexture?ek.compressedTexSubImage2D(ek.TEXTURE_2D,l,m,g,x.width,x.height,b,x.data):ek.texSubImage2D(ek.TEXTURE_2D,l,m,g,u,c,b,_,x);ek.pixelStorei(ek.UNPACK_ROW_LENGTH,S),ek.pixelStorei(ek.UNPACK_IMAGE_HEIGHT,M),ek.pixelStorei(ek.UNPACK_SKIP_PIXELS,T),ek.pixelStorei(ek.UNPACK_SKIP_ROWS,E),ek.pixelStorei(ek.UNPACK_SKIP_IMAGES,A),0===l&&t.generateMipmaps&&ek.generateMipmap(y),r.unbindTexture()},this.initRenderTarget=function(e){void 0===s.get(e).__webglFramebuffer&&o.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?o.setTextureCube(e,0):e.isData3DTexture?o.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?o.setTexture2DArray(e,0):o.setTexture2D(e,0),r.unbindTexture()},this.resetState=function(){ee=0,et=0,en=null,r.reset(),M.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2e3}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let t=this.getContext();t.drawingBufferColorSpace=ey._getDrawingBufferColorSpace(e),t.unpackColorSpace=ey._getUnpackColorSpace()}}e.s(["PMREMGenerator",()=>l_,"ShaderChunk",()=>lt,"ShaderLib",()=>li,"UniformsLib",()=>ln,"WebGLRenderer",()=>cd,"WebGLUtils",()=>ce],8560);var ch=e.i(30224);let cp=e=>{let t,n=new Set,i=(e,i)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:i,getState:r,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(i,r,a);return a},{useSyncExternalStoreWithSelector:cf}=ch.default,cm=(e,t)=>{let n=e?cp(e):cp,i=(e,i=t)=>(function(e,t=e=>e,n){let i=cf(e.subscribe,e.getState,e.getInitialState,t,n);return w.default.useDebugValue(i),i})(n,e,i);return Object.assign(i,n),i},cg=[];function cv(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let i=e.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function cy(e,t=null,n=!1,i={}){for(let r of(null===t&&(t=[e]),cg))if(cv(t,r.keys,r.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!n)throw r.promise}let r={keys:t,equal:i.equal,remove:()=>{let e=cg.indexOf(r);-1!==e&&cg.splice(e,1)},promise:("object"==typeof e&&"function"==typeof e.then?e:e(...t)).then(e=>{r.response=e,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(e=>r.error=e)};if(cg.push(r),!n)throw r.promise}var cx=e.i(98133),cb=e.i(95087),c_=w;function cS(e,t,n){if(!e)return;if(!0===n(e))return e;let i=t?e.return:e.child;for(;i;){let e=cS(i,t,n);if(e)return e;i=t?null:i.sibling}}function cw(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(x=window.document)?void 0:x.createElement)||(null==(b=window.navigator)?void 0:b.product)==="ReactNative")?c_.useLayoutEffect:c_.useEffect;let cM=cw(c_.createContext(null));class cT extends c_.Component{render(){return c_.createElement(cM.Provider,{value:this._reactInternals},this.props.children)}}function cE(){let e=c_.useContext(cM);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=c_.useId();return c_.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=cS(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}let cA=Symbol.for("react.context"),cC=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===cA;function cI(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}M.act;let cP=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),ck="undefined"!=typeof window&&((null==(m=window.document)?void 0:m.createElement)||(null==(g=window.navigator)?void 0:g.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function cR(e){let t=M.useRef(e);return ck(()=>void(t.current=e),[e]),t}function cN({set:e}){return ck(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}let cD=((v=class extends M.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),v);function cL(e){var t;let n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function cU(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}let cO={obj:e=>e===Object(e)&&!cO.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){let a;if(typeof e!=typeof t||!!e!=!!t)return!1;if(cO.str(e)||cO.num(e)||cO.boo(e))return e===t;let s=cO.obj(e);if(s&&"reference"===i)return e===t;let o=cO.arr(e);if(o&&"reference"===n)return e===t;if((o||s)&&e===t)return!0;for(a in e)if(!(a in t))return!1;if(s&&"shallow"===n&&"shallow"===i){for(a in r?t:e)if(!cO.equ(e[a],t[a],{strict:r,objects:"reference"}))return!1}else for(a in r?t:e)if(e[a]!==t[a])return!1;if(cO.und(a)){if(o&&0===e.length&&0===t.length||s&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},cz=["children","key","ref"];function cj(e,t,n,i){let r=null==e?void 0:e.__r3f;return!r&&(r={root:t,type:n,parent:null,children:[],props:function(e){let t={};for(let n in e)cz.includes(n)||(t[n]=e[n]);return t}(i),object:e,eventCount:0,handlers:{},isHidden:!1},e&&(e.__r3f=r)),r}function cF(e,t){if(!t.includes("-")||t in e)return{root:e,key:t,target:e[t]};let n=e,i=t.split("-");for(let r of i){if("object"!=typeof n||null===n){if(void 0!==n)return{root:n,key:i.slice(i.indexOf(r)).join("-"),target:void 0};return{root:e,key:t,target:void 0}}t=r,e=n,n=n[t]}return{root:e,key:t,target:n}}let c$=/-\d+$/;function cB(e,t){if(cO.str(t.props.attach)){if(c$.test(t.props.attach)){let n=t.props.attach.replace(c$,""),{root:i,key:r}=cF(e.object,n);Array.isArray(i[r])||(i[r]=[])}let{root:n,key:i}=cF(e.object,t.props.attach);t.previousAttach=n[i],n[i]=t.object}else cO.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function cV(e,t){if(cO.str(t.props.attach)){let{root:n,key:i}=cF(e.object,t.props.attach),r=t.previousAttach;void 0===r?delete n[i]:n[i]=r}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}let cG=[...cz,"args","dispose","attach","object","onUpdate","dispose"],cH=new Map,cW=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],cZ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function cX(e,t){var n,i;let r=e.__r3f,a=r&&cI(r).getState(),s=null==r?void 0:r.eventCount;for(let n in t){let s=t[n];if(cG.includes(n))continue;if(r&&cZ.test(n)){"function"==typeof s?r.handlers[n]=s:delete r.handlers[n],r.eventCount=Object.keys(r.handlers).length;continue}if(void 0===s)continue;let{root:o,key:l,target:u}=cF(e,n);if(void 0===u&&("object"!=typeof o||null===o))throw Error(`R3F: Cannot set "${n}". Ensure it is an object before setting "${l}".`);u instanceof tu&&s instanceof tu?u.mask=s.mask:u instanceof tG&&cP(s)?u.set(s):null!==u&&"object"==typeof u&&"function"==typeof u.set&&"function"==typeof u.copy&&null!=s&&s.constructor&&u.constructor===s.constructor?u.copy(s):null!==u&&"object"==typeof u&&"function"==typeof u.set&&Array.isArray(s)?"function"==typeof u.fromArray?u.fromArray(s):u.set(...s):null!==u&&"object"==typeof u&&"function"==typeof u.set&&"number"==typeof s?"function"==typeof u.setScalar?u.setScalar(s):u.set(s):(o[l]=s,a&&!a.linear&&cW.includes(l)&&null!=(i=o[l])&&i.isTexture&&1023===o[l].format&&1009===o[l].type&&(o[l].colorSpace=P))}if(null!=r&&r.parent&&null!=a&&a.internal&&null!=(n=r.object)&&n.isObject3D&&s!==r.eventCount){let e=r.object,t=a.internal.interaction.indexOf(e);t>-1&&a.internal.interaction.splice(t,1),r.eventCount&&null!==e.raycast&&a.internal.interaction.push(e)}return r&&void 0===r.props.attach&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&cq(r),e}function cq(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);let n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}let cY=e=>null==e?void 0:e.isObject3D;function cJ(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function cK(e,t,n,i){let r=n.get(t);r&&(n.delete(t),0===n.size&&(e.delete(i),r.target.releasePointerCapture(i)))}let cQ=e=>!!(null!=e&&e.render),c0=M.createContext(null);function c1(e,t=0){let n=function(){let e=M.useContext(c0);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}(),i=n.getState().internal.subscribe,r=cR(e);return ck(()=>i(r,t,n),[t,i,n]),null}let c2=new WeakMap;function c3(e,t){return function(n,...i){var r;let a;return"function"==typeof n&&(null==n||null==(r=n.prototype)?void 0:r.constructor)===n?(a=c2.get(n))||(a=new n,c2.set(n,a)):a=n,e&&e(a),Promise.all(i.map(e=>new Promise((n,i)=>a.load(e,e=>{var t;let i;cY(null==e?void 0:e.scene)&&Object.assign(e,(t=e.scene,i={nodes:{},materials:{},meshes:{}},t&&t.traverse(e=>{e.name&&(i.nodes[e.name]=e),e.material&&!i.materials[e.material.name]&&(i.materials[e.material.name]=e.material),e.isMesh&&!i.meshes[e.name]&&(i.meshes[e.name]=e)}),i)),n(e)},t,t=>i(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function c4(e,t,n,i){let r=Array.isArray(t)?t:[t],a=cy(c3(n,i),[e,...r],!1,{equal:cO.equ});return Array.isArray(t)?a:a[0]}c4.preload=function(e,t,n){let i,r=Array.isArray(t)?t:[t];cy(c3(n),[e,...r],!0,i)},c4.clear=function(e,t){var n=[e,...Array.isArray(t)?t:[t]];if(void 0===n||0===n.length)cg.splice(0,cg.length);else{let e=cg.find(e=>cv(n,e.keys,e.equal));e&&e.remove()}};let c5={},c6=/^three(?=[A-Z])/,c8=e=>`${e[0].toUpperCase()}${e.slice(1)}`,c9=0;function c7(e,t){let n=c8(e),i=c5[n];if("primitive"!==e&&!i)throw Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw Error("R3F: The args prop must be an array!")}function de(e){if(e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?cB(e.parent,e):cY(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,cq(e)}}function dt(e,t,n){let i=t.root.getState();if(e.parent||e.object===i.scene){if(!t.object){var r,a;let e=c5[c8(t.type)];t.object=null!=(r=t.props.object)?r:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(cX(t.object,t.props),t.props.attach)cB(e,t);else if(cY(t.object)&&cY(e.object)){let i=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==i){let n=e.object.children.indexOf(t.object);-1!==n?(e.object.children.splice(n,1),e.object.children.splice(n<i?i-1:i,0,t.object)):(t.object.parent=e.object,e.object.children.splice(i,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object}))}else e.object.add(t.object)}for(let e of t.children)dt(t,e);cq(t)}}function dn(e,t){t&&(t.parent=e,e.children.push(t),dt(e,t))}function di(e,t,n){if(!t||!n)return;t.parent=e;let i=e.children.indexOf(n);-1!==i?e.children.splice(i,0,t):e.children.push(t),dt(e,t,n)}function dr(e){if("function"==typeof e.dispose){let t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,cb.unstable_scheduleCallback)(cb.unstable_IdlePriority,t)}}function da(e,t,n){if(!t)return;t.parent=null;let i=e.children.indexOf(t);-1!==i&&e.children.splice(i,1),t.props.attach?cV(e,t):cY(t.object)&&cY(e.object)&&(e.object.remove(t.object),function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,i)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(i)}),n.capturedMap.forEach((e,i)=>{cK(n.capturedMap,t,e,i)})}(cI(t),t.object));let r=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){let n=t.children[e];da(t,n,r)}t.children.length=0,delete t.object.__r3f,r&&"primitive"!==t.type&&"Scene"!==t.object.type&&dr(t.object),void 0===n&&cq(t)}let ds=[],dl=()=>{},du={},dc=0,dd=(_={isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var i;return c7(e=c8(e)in c5?e:e.replace(c6,""),t),"primitive"===e&&null!=(i=t.object)&&i.__r3f&&delete t.object.__r3f,cj(t.object,n,e,t)},removeChild:da,appendChild:dn,appendInitialChild:dn,insertBefore:di,appendChildToContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&dn(n,t)},removeChildFromContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&da(n,t)},insertInContainerBefore(e,t,n){let i=e.getState().scene.__r3f;t&&n&&i&&di(i,t,n)},getRootHostContext:()=>du,getChildHostContext:()=>du,commitUpdate(e,t,n,i,r){var a,s,o;c7(t,i);let l=!1;if("primitive"===e.type&&n.object!==i.object||(null==(a=i.args)?void 0:a.length)!==(null==(s=n.args)?void 0:s.length)?l=!0:null!=(o=i.args)&&o.some((e,t)=>{var i;return e!==(null==(i=n.args)?void 0:i[t])})&&(l=!0),l)ds.push([e,{...i},r]);else{let t=function(e,t){let n={};for(let i in t)if(!cG.includes(i)&&!cO.equ(t[i],e.props[i]))for(let e in n[i]=t[i],t)e.startsWith(`${i}-`)&&(n[e]=t[e]);for(let i in e.props){if(cG.includes(i)||t.hasOwnProperty(i))continue;let{root:r,key:a}=cF(e.object,i);if(r.constructor&&0===r.constructor.length){let e=function(e){let t=cH.get(e.constructor);try{t||(t=new e.constructor,cH.set(e.constructor,t))}catch(e){}return t}(r);cO.und(e)||(n[a]=e[a])}else n[a]=0}return n}(e,i);Object.keys(t).length&&(Object.assign(e.props,t),cX(e.object,t))}(null===r.sibling||(4&r.flags)==0)&&function(){for(let[e]of ds){let t=e.parent;if(t)for(let n of(e.props.attach?cV(t,e):cY(e.object)&&cY(t.object)&&t.object.remove(e.object),e.children))n.props.attach?cV(e,n):cY(n.object)&&cY(e.object)&&e.object.remove(n.object);e.isHidden&&de(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&dr(e.object)}for(let[i,r,a]of ds){i.props=r;let s=i.parent;if(s){let r=c5[c8(i.type)];i.object=null!=(e=i.props.object)?e:new r(...null!=(t=i.props.args)?t:[]),i.object.__r3f=i;var e,t,n=i.object;for(let e of[a,a.alternate])if(null!==e)if("function"==typeof e.ref){null==e.refCleanup||e.refCleanup();let t=e.ref(n);"function"==typeof t&&(e.refCleanup=t)}else e.ref&&(e.ref.current=n);for(let e of(cX(i.object,i.props),i.props.attach?cB(s,i):cY(i.object)&&cY(s.object)&&s.object.add(i.object),i.children))e.props.attach?cB(i,e):cY(e.object)&&cY(i.object)&&i.object.add(e.object);cq(i)}}ds.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>cj(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){if(!e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?cV(e.parent,e):cY(e.object)&&(e.object.visible=!1),e.isHidden=!0,cq(e)}},unhideInstance:de,createTextInstance:dl,hideTextInstance:dl,unhideTextInstance:dl,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:M.createContext(null),setCurrentUpdatePriority(e){dc=e},getCurrentUpdatePriority:()=>dc,resolveUpdatePriority(){var e;if(0!==dc)return dc;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return T.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return T.ContinuousEventPriority;default:return T.DefaultEventPriority}},resetFormInstance(){}},(y=(0,cx.default)(_)).injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:M.version}),y),dh=new Map,dp={objects:"shallow",strict:!1};function df({store:e,children:t,onCreated:n,rootElement:i}){return ck(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(i)},[]),(0,S.jsx)(c0.Provider,{value:e,children:t})}function dm(e,t){let n=dh.get(e),i=null==n?void 0:n.fiber;if(i){let r=null==n?void 0:n.store.getState();r&&(r.internal.active=!1),dd.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{null==r.events.disconnect||r.events.disconnect(),null==(n=r.gl)||null==(i=n.renderLists)||null==i.dispose||i.dispose(),null==(a=r.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(s=r.gl)&&s.xr&&r.xr.disconnect();var n,i,a,s,o=r.scene;for(let e in"Scene"!==o.type&&(null==o.dispose||o.dispose()),o){let t=o[e];(null==t?void 0:t.type)!=="Scene"&&(null==t||null==t.dispose||t.dispose())}dh.delete(e),t&&t(e)}catch(e){}},500)})}}let dg=new Set,dv=new Set,dy=new Set;function dx(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function db(e,t){switch(e){case"before":return dx(dg,t);case"after":return dx(dv,t);case"tail":return dx(dy,t)}}function d_(e,t,n){let i=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(i=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),s=t.internal.subscribers;for(let e=0;e<s.length;e++)(o=s[e]).ref.current(o.store.getState(),i,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let dS=!1,dw=!1;function dM(e){for(let n of(u=requestAnimationFrame(dM),dS=!0,l=0,db("before",e),dw=!0,dh.values())){var t;(c=n.store.getState()).internal.active&&("always"===c.frameloop||c.internal.frames>0)&&!(null!=(t=c.gl.xr)&&t.isPresenting)&&(l+=d_(e,c))}if(dw=!1,db("after",e),0===l)return db("tail",e),dS=!1,cancelAnimationFrame(u)}function dT(e,t=1){var n;if(!e)return dh.forEach(e=>dT(e.store.getState(),t));(null==(n=e.gl.xr)||!n.isPresenting)&&e.internal.active&&"never"!==e.frameloop&&(t>1?e.internal.frames=Math.min(60,e.internal.frames+t):dw?e.internal.frames=2:e.internal.frames=1,dS||(dS=!0,requestAnimationFrame(dM)))}function dE(e,t=!0,n,i){if(t&&db("before",e),n)d_(e,n,i);else for(let t of dh.values())d_(e,t.store.getState());t&&db("after",e)}let dA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dC(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let i=e.eventObject.__r3f;if(n.hovered.delete(cJ(e)),null!=i&&i.eventCount){let n=i.handlers,r={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(r),null==n.onPointerLeave||n.onPointerLeave(r)}}}function i(e,t){for(let n=0;n<t.length;n++){let i=t[n].__r3f;null==i||null==i.handlers.onPointerMissed||i.handlers.onPointerMissed(e)}}return{handlePointer:function(r){switch(r){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:i}=e.getState();"pointerId"in t&&i.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{i.capturedMap.has(t.pointerId)&&(i.capturedMap.delete(t.pointerId),n([]))})}}return function(a){let{onPointerMissed:s,internal:o}=e.getState();o.lastEvent.current=a;let l="onPointerMove"===r,u="onClick"===r||"onContextMenu"===r||"onDoubleClick"===r,c=function(t,n){let i=e.getState(),r=new Set,a=[],s=n?n(i.internal.interaction):i.internal.interaction;for(let e=0;e<s.length;e++){let t=cU(s[e]);t&&(t.raycaster.camera=void 0)}i.previousRoot||null==i.events.compute||i.events.compute(t,i);let o=s.flatMap(function(e){let n=cU(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var i;null==n.events.compute||n.events.compute(t,n,null==(i=n.previousRoot)?void 0:i.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=cU(e.object),i=cU(t.object);return n&&i&&i.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=cJ(e);return!r.has(t)&&(r.add(t),!0)});for(let e of(i.events.filter&&(o=i.events.filter(o,i)),o)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&i.internal.capturedMap.has(t.pointerId))for(let e of i.internal.capturedMap.get(t.pointerId).values())r.has(cJ(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=u?function(t){let{internal:n}=e.getState(),i=t.offsetX-n.initialClick[0],r=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(i*i+r*r))}(a):0;"onPointerDown"===r&&(o.initialClick=[a.offsetX,a.offsetY],o.initialHits=c.map(e=>e.eventObject)),u&&!c.length&&d<=2&&(i(a,o.interaction),s&&s(a)),l&&n(c),!function(e,t,i,r){if(e.length){let a={stopped:!1};for(let s of e){let o=cU(s.object);if(o||s.object.traverseAncestors(e=>{let t=cU(e);if(t)return o=t,!1}),o){let{raycaster:l,pointer:u,camera:c,internal:d}=o,h=new ed(u.x,u.y,0).unproject(c),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},f=e=>{let n={intersection:s,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(s.eventObject,n):d.capturedMap.set(e,new Map([[s.eventObject,n]])),t.target.setPointerCapture(e)},m=e=>{let t=d.capturedMap.get(e);t&&cK(d.capturedMap,s.eventObject,t,e)},g={};for(let e in t){let n=t[e];"function"!=typeof n&&(g[e]=n)}let v={...s,...g,pointer:u,intersections:e,stopped:a.stopped,delta:i,unprojectedPoint:h,ray:l.ray,camera:c,stopPropagation(){let i="pointerId"in t&&d.capturedMap.get(t.pointerId);(!i||i.has(s.eventObject))&&(v.stopped=a.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===s.eventObject)&&n([...e.slice(0,e.indexOf(s)),s]))},target:{hasPointerCapture:p,setPointerCapture:f,releasePointerCapture:m},currentTarget:{hasPointerCapture:p,setPointerCapture:f,releasePointerCapture:m},nativeEvent:t};if(r(v),!0===a.stopped)break}}}}(c,a,d,function(e){let t=e.eventObject,n=t.__r3f;if(!(null!=n&&n.eventCount))return;let s=n.handlers;if(l){if(s.onPointerOver||s.onPointerEnter||s.onPointerOut||s.onPointerLeave){let t=cJ(e),n=o.hovered.get(t);n?n.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==s.onPointerOver||s.onPointerOver(e),null==s.onPointerEnter||s.onPointerEnter(e))}null==s.onPointerMove||s.onPointerMove(e)}else{let n=s[r];n?(!u||o.initialHits.includes(t))&&(i(a,o.interaction.filter(e=>!o.initialHits.includes(e))),n(e)):u&&o.initialHits.includes(t)&&i(a,o.interaction.filter(e=>!o.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(dA).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:i}=e.getState();null!=(t=i.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{let{set:n,events:i}=e.getState();if(null==i.disconnect||i.disconnect(),n(e=>({events:{...e.events,connected:t}})),i.handlers)for(let e in i.handlers){let n=i.handlers[e],[r,a]=dA[e];t.addEventListener(r,n,{passive:a})}},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(let e in n.handlers){let t=n.handlers[e],[i]=dA[e];n.connected.removeEventListener(i,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}e.i(8560),e.s(["ACESFilmicToneMapping",()=>4,"AddEquation",()=>100,"AddOperation",()=>2,"AdditiveAnimationBlendMode",()=>2501,"AdditiveBlending",()=>2,"AgXToneMapping",()=>6,"AlphaFormat",()=>1021,"AlwaysCompare",()=>519,"AlwaysDepth",()=>1,"AlwaysStencilFunc",()=>519,"AmbientLight",()=>sw,"AnimationAction",()=>oi,"AnimationClip",()=>a2,"AnimationLoader",()=>se,"AnimationMixer",()=>oa,"AnimationObjectGroup",()=>on,"AnimationUtils",()=>aV,"ArcCurve",()=>rN,"ArrayCamera",()=>sV,"ArrowHelper",()=>o3,"AttachedBindMode",()=>C,"Audio",()=>sJ,"AudioAnalyser",()=>s3,"AudioContext",()=>sO,"AudioListener",()=>sY,"AudioLoader",()=>sz,"AxesHelper",()=>o4,"BackSide",()=>1,"BasicDepthPacking",()=>3200,"BasicShadowMap",()=>0,"BatchedMesh",()=>iQ,"Bone",()=>id,"BooleanKeyframeTrack",()=>aq,"Box2",()=>oS,"Box3",()=>eL,"Box3Helper",()=>o0,"BoxGeometry",()=>nw,"BoxHelper",()=>oQ,"BufferAttribute",()=>t2,"BufferGeometry",()=>nu,"BufferGeometryLoader",()=>sP,"ByteType",()=>1010,"Cache",()=>a3,"Camera",()=>nI,"CameraHelper",()=>oY,"CanvasTexture",()=>rv,"CapsuleGeometry",()=>rb,"CatmullRomCurve3",()=>rj,"CineonToneMapping",()=>3,"CircleGeometry",()=>r_,"ClampToEdgeWrapping",()=>1001,"Clock",()=>sG,"Color",()=>tG,"ColorKeyframeTrack",()=>aY,"ColorManagement",()=>ey,"CompressedArrayTexture",()=>rm,"CompressedCubeTexture",()=>rg,"CompressedTexture",()=>rf,"CompressedTextureLoader",()=>st,"ConeGeometry",()=>rw,"ConstantAlphaFactor",()=>213,"ConstantColorFactor",()=>211,"Controls",()=>o6,"CubeCamera",()=>nD,"CubeReflectionMapping",()=>301,"CubeRefractionMapping",()=>302,"CubeTexture",()=>nL,"CubeTextureLoader",()=>sr,"CubeUVReflectionMapping",()=>306,"CubicBezierCurve",()=>rV,"CubicBezierCurve3",()=>rG,"CubicInterpolant",()=>aH,"CullFaceBack",()=>1,"CullFaceFront",()=>2,"CullFaceFrontBack",()=>3,"CullFaceNone",()=>0,"Curve",()=>rk,"CurvePath",()=>rJ,"CustomBlending",()=>5,"CustomToneMapping",()=>5,"CylinderGeometry",()=>rS,"Cylindrical",()=>ox,"Data3DTexture",()=>eN,"DataArrayTexture",()=>ek,"DataTexture",()=>ih,"DataTextureLoader",()=>sa,"DataUtils",()=>tK,"DecrementStencilOp",()=>7683,"DecrementWrapStencilOp",()=>34056,"DefaultLoadingManager",()=>a5,"DepthFormat",()=>1026,"DepthStencilFormat",()=>1027,"DepthTexture",()=>ry,"DetachedBindMode",()=>I,"DirectionalLight",()=>sS,"DirectionalLightHelper",()=>oZ,"DiscreteInterpolant",()=>aZ,"DodecahedronGeometry",()=>rT,"DoubleSide",()=>2,"DstAlphaFactor",()=>206,"DstColorFactor",()=>208,"DynamicCopyUsage",()=>35050,"DynamicDrawUsage",()=>35048,"DynamicReadUsage",()=>35049,"EdgesGeometry",()=>rP,"EllipseCurve",()=>rR,"EqualCompare",()=>514,"EqualDepth",()=>4,"EqualStencilFunc",()=>514,"EquirectangularReflectionMapping",()=>303,"EquirectangularRefractionMapping",()=>304,"Euler",()=>tl,"EventDispatcher",()=>J,"ExternalTexture",()=>rx,"ExtrudeGeometry",()=>ac,"FileLoader",()=>a7,"Float16BufferAttribute",()=>ne,"Float32BufferAttribute",()=>nt,"FloatType",()=>1015,"Fog",()=>n$,"FogExp2",()=>nF,"FramebufferTexture",()=>rp,"FrontSide",()=>0,"Frustum",()=>iN,"FrustumArray",()=>iU,"GLBufferAttribute",()=>od,"GLSL1",()=>"100","GLSL3",()=>D,"GreaterCompare",()=>516,"GreaterDepth",()=>6,"GreaterEqualCompare",()=>518,"GreaterEqualDepth",()=>5,"GreaterEqualStencilFunc",()=>518,"GreaterStencilFunc",()=>516,"GridHelper",()=>oB,"Group",()=>nO,"HalfFloatType",()=>1016,"HemisphereLight",()=>sl,"HemisphereLightHelper",()=>o$,"IcosahedronGeometry",()=>ah,"ImageBitmapLoader",()=>sU,"ImageLoader",()=>si,"ImageUtils",()=>e_,"IncrementStencilOp",()=>7682,"IncrementWrapStencilOp",()=>34055,"InstancedBufferAttribute",()=>iv,"InstancedBufferGeometry",()=>sI,"InstancedInterleavedBuffer",()=>oc,"InstancedMesh",()=>iT,"Int16BufferAttribute",()=>t6,"Int32BufferAttribute",()=>t9,"Int8BufferAttribute",()=>t3,"IntType",()=>1013,"InterleavedBuffer",()=>nV,"InterleavedBufferAttribute",()=>nH,"Interpolant",()=>aG,"InterpolateDiscrete",()=>2300,"InterpolateLinear",()=>2301,"InterpolateSmooth",()=>2302,"InterpolationSamplingMode",()=>O,"InterpolationSamplingType",()=>U,"InvertStencilOp",()=>5386,"KeepStencilOp",()=>7680,"KeyframeTrack",()=>aX,"LOD",()=>n7,"LatheGeometry",()=>ap,"Layers",()=>tu,"LessCompare",()=>513,"LessDepth",()=>2,"LessEqualCompare",()=>515,"LessEqualDepth",()=>3,"LessEqualStencilFunc",()=>515,"LessStencilFunc",()=>513,"Light",()=>so,"LightProbe",()=>sE,"Line",()=>i9,"Line3",()=>oP,"LineBasicMaterial",()=>i0,"LineCurve",()=>rH,"LineCurve3",()=>rW,"LineDashedMaterial",()=>aO,"LineLoop",()=>ri,"LineSegments",()=>rn,"LinearFilter",()=>1006,"LinearInterpolant",()=>aW,"LinearMipMapLinearFilter",()=>1008,"LinearMipMapNearestFilter",()=>1007,"LinearMipmapLinearFilter",()=>1008,"LinearMipmapNearestFilter",()=>1007,"LinearSRGBColorSpace",()=>k,"LinearToneMapping",()=>1,"LinearTransfer",()=>R,"Loader",()=>a6,"LoaderUtils",()=>sC,"LoadingManager",()=>a4,"LoopOnce",()=>2200,"LoopPingPong",()=>2202,"LoopRepeat",()=>2201,"MOUSE",()=>E,"Material",()=>tZ,"MaterialLoader",()=>sA,"MathUtils",()=>el,"Matrix2",()=>ob,"Matrix3",()=>ef,"Matrix4",()=>e9,"MaxEquation",()=>104,"Mesh",()=>n_,"MeshBasicMaterial",()=>tX,"MeshDepthMaterial",()=>aD,"MeshDistanceMaterial",()=>aL,"MeshLambertMaterial",()=>aN,"MeshMatcapMaterial",()=>aU,"MeshNormalMaterial",()=>aR,"MeshPhongMaterial",()=>aP,"MeshPhysicalMaterial",()=>aI,"MeshStandardMaterial",()=>aC,"MeshToonMaterial",()=>ak,"MinEquation",()=>103,"MirroredRepeatWrapping",()=>1002,"MixOperation",()=>1,"MultiplyBlending",()=>4,"MultiplyOperation",()=>0,"NearestFilter",()=>1003,"NearestMipMapLinearFilter",()=>1005,"NearestMipMapNearestFilter",()=>1004,"NearestMipmapLinearFilter",()=>1005,"NearestMipmapNearestFilter",()=>1004,"NeutralToneMapping",()=>7,"NeverCompare",()=>512,"NeverDepth",()=>0,"NeverStencilFunc",()=>512,"NoBlending",()=>0,"NoColorSpace",()=>"","NoToneMapping",()=>0,"NormalAnimationBlendMode",()=>2500,"NormalBlending",()=>1,"NotEqualCompare",()=>517,"NotEqualDepth",()=>7,"NotEqualStencilFunc",()=>517,"NumberKeyframeTrack",()=>aJ,"Object3D",()=>tT,"ObjectLoader",()=>sk,"ObjectSpaceNormalMap",()=>1,"OctahedronGeometry",()=>af,"OneFactor",()=>201,"OneMinusConstantAlphaFactor",()=>214,"OneMinusConstantColorFactor",()=>212,"OneMinusDstAlphaFactor",()=>207,"OneMinusDstColorFactor",()=>209,"OneMinusSrcAlphaFactor",()=>205,"OneMinusSrcColorFactor",()=>203,"OrthographicCamera",()=>sb,"PCFShadowMap",()=>1,"PCFSoftShadowMap",()=>2,"PMREMGenerator",()=>l_,"Path",()=>rK,"PerspectiveCamera",()=>nN,"Plane",()=>iI,"PlaneGeometry",()=>am,"PlaneHelper",()=>o1,"PointLight",()=>sx,"PointLightHelper",()=>oO,"Points",()=>ru,"PointsMaterial",()=>rr,"PolarGridHelper",()=>oV,"PolyhedronGeometry",()=>rM,"PositionalAudio",()=>s2,"PropertyBinding",()=>ot,"PropertyMixer",()=>s4,"QuadraticBezierCurve",()=>rZ,"QuadraticBezierCurve3",()=>rX,"Quaternion",()=>ec,"QuaternionKeyframeTrack",()=>aQ,"QuaternionLinearInterpolant",()=>aK,"RED_GREEN_RGTC2_Format",()=>36285,"RED_RGTC1_Format",()=>36283,"REVISION",()=>"181","RGBADepthPacking",()=>3201,"RGBAFormat",()=>1023,"RGBAIntegerFormat",()=>1033,"RGBA_ASTC_10x10_Format",()=>37819,"RGBA_ASTC_10x5_Format",()=>37816,"RGBA_ASTC_10x6_Format",()=>37817,"RGBA_ASTC_10x8_Format",()=>37818,"RGBA_ASTC_12x10_Format",()=>37820,"RGBA_ASTC_12x12_Format",()=>37821,"RGBA_ASTC_4x4_Format",()=>37808,"RGBA_ASTC_5x4_Format",()=>37809,"RGBA_ASTC_5x5_Format",()=>37810,"RGBA_ASTC_6x5_Format",()=>37811,"RGBA_ASTC_6x6_Format",()=>37812,"RGBA_ASTC_8x5_Format",()=>37813,"RGBA_ASTC_8x6_Format",()=>37814,"RGBA_ASTC_8x8_Format",()=>37815,"RGBA_BPTC_Format",()=>36492,"RGBA_ETC2_EAC_Format",()=>37496,"RGBA_PVRTC_2BPPV1_Format",()=>35843,"RGBA_PVRTC_4BPPV1_Format",()=>35842,"RGBA_S3TC_DXT1_Format",()=>33777,"RGBA_S3TC_DXT3_Format",()=>33778,"RGBA_S3TC_DXT5_Format",()=>33779,"RGBDepthPacking",()=>3202,"RGBFormat",()=>1022,"RGBIntegerFormat",()=>1032,"RGB_BPTC_SIGNED_Format",()=>36494,"RGB_BPTC_UNSIGNED_Format",()=>36495,"RGB_ETC1_Format",()=>36196,"RGB_ETC2_Format",()=>37492,"RGB_PVRTC_2BPPV1_Format",()=>35841,"RGB_PVRTC_4BPPV1_Format",()=>35840,"RGB_S3TC_DXT1_Format",()=>33776,"RGDepthPacking",()=>3203,"RGFormat",()=>1030,"RGIntegerFormat",()=>1031,"RawShaderMaterial",()=>aA,"Ray",()=>e8,"Raycaster",()=>op,"RectAreaLight",()=>sM,"RedFormat",()=>1028,"RedIntegerFormat",()=>1029,"ReinhardToneMapping",()=>2,"RenderTarget",()=>eI,"RenderTarget3D",()=>os,"RepeatWrapping",()=>1e3,"ReplaceStencilOp",()=>7681,"ReverseSubtractEquation",()=>102,"RingGeometry",()=>ag,"SIGNED_RED_GREEN_RGTC2_Format",()=>36286,"SIGNED_RED_RGTC1_Format",()=>36284,"SRGBColorSpace",()=>P,"SRGBTransfer",()=>N,"Scene",()=>nB,"ShaderChunk",()=>lt,"ShaderLib",()=>li,"ShaderMaterial",()=>nC,"ShadowMaterial",()=>aE,"Shape",()=>rQ,"ShapeGeometry",()=>av,"ShapePath",()=>o5,"ShapeUtils",()=>ao,"ShortType",()=>1011,"Skeleton",()=>ig,"SkeletonHelper",()=>oU,"SkinnedMesh",()=>ic,"Source",()=>ew,"Sphere",()=>eQ,"SphereGeometry",()=>ay,"Spherical",()=>oy,"SphericalHarmonics3",()=>sT,"SplineCurve",()=>rq,"SpotLight",()=>sf,"SpotLightHelper",()=>oR,"Sprite",()=>n5,"SpriteMaterial",()=>nW,"SrcAlphaFactor",()=>204,"SrcAlphaSaturateFactor",()=>210,"SrcColorFactor",()=>202,"StaticCopyUsage",()=>35046,"StaticDrawUsage",()=>35044,"StaticReadUsage",()=>35045,"StereoCamera",()=>sB,"StreamCopyUsage",()=>35042,"StreamDrawUsage",()=>35040,"StreamReadUsage",()=>35041,"StringKeyframeTrack",()=>a0,"SubtractEquation",()=>101,"SubtractiveBlending",()=>3,"TOUCH",()=>A,"TangentSpaceNormalMap",()=>0,"TetrahedronGeometry",()=>ax,"Texture",()=>eA,"TextureLoader",()=>ss,"TextureUtils",()=>o9,"Timer",()=>og,"TimestampQuery",()=>L,"TorusGeometry",()=>ab,"TorusKnotGeometry",()=>a_,"Triangle",()=>tj,"TriangleFanDrawMode",()=>2,"TriangleStripDrawMode",()=>1,"TrianglesDrawMode",()=>0,"TubeGeometry",()=>aS,"UVMapping",()=>300,"Uint16BufferAttribute",()=>t8,"Uint32BufferAttribute",()=>t7,"Uint8BufferAttribute",()=>t4,"Uint8ClampedBufferAttribute",()=>t5,"Uniform",()=>oo,"UniformsGroup",()=>ou,"UniformsLib",()=>ln,"UniformsUtils",()=>nA,"UnsignedByteType",()=>1009,"UnsignedInt101111Type",()=>35899,"UnsignedInt248Type",()=>1020,"UnsignedInt5999Type",()=>35902,"UnsignedIntType",()=>1014,"UnsignedShort4444Type",()=>1017,"UnsignedShort5551Type",()=>1018,"UnsignedShortType",()=>1012,"VSMShadowMap",()=>3,"Vector2",()=>eu,"Vector3",()=>ed,"Vector4",()=>eC,"VectorKeyframeTrack",()=>a1,"VideoFrameTexture",()=>rh,"VideoTexture",()=>rd,"WebGL3DRenderTarget",()=>eD,"WebGLArrayRenderTarget",()=>eR,"WebGLCoordinateSystem",()=>2e3,"WebGLCubeRenderTarget",()=>nU,"WebGLRenderTarget",()=>eP,"WebGLRenderer",()=>cd,"WebGLUtils",()=>ce,"WebGPUCoordinateSystem",()=>2001,"WebXRController",()=>nj,"WireframeGeometry",()=>aw,"WrapAroundEnding",()=>2402,"ZeroCurvatureEnding",()=>2400,"ZeroFactor",()=>200,"ZeroSlopeEnding",()=>2401,"ZeroStencilOp",()=>0,"createCanvasElement",()=>B,"error",()=>q,"getConsoleFunction",()=>W,"log",()=>Z,"setConsoleFunction",()=>H,"warn",()=>X,"warnOnce",()=>Y],32009);var dI=e.i(32009);function dP(e,t){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...i),t)}}let dk=["x","y","top","bottom","left","right","width","height"];function dR({ref:e,children:t,fallback:n,resize:i,style:r,gl:a,events:s=dC,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:f,dpr:m,performance:g,raycaster:v,camera:y,scene:x,onPointerMissed:b,onCreated:_,...E}){let A,C,I;w.useMemo(()=>(function(e){if("function"==typeof e){let t=`${c9++}`;return c5[t]=e,t}Object.assign(c5,e)})(dI),[]);let R=(A=cE(),C=function(){let e=cE(),[t]=c_.useState(()=>new Map);t.clear();let n=e;for(;n;){let e=n.type;cC(e)&&e!==cM&&!t.has(e)&&t.set(e,c_.use(cw(e))),n=n.return}return t}(),I=c_.useMemo(()=>Array.from(C.keys()).reduce((e,t)=>n=>c_.createElement(e,null,c_.createElement(t.Provider,{...n,value:C.get(t)})),e=>c_.createElement(cT,{...e})),[C]),M.useMemo(()=>({children:e})=>{let t=cS(A,!0,e=>e.type===M.StrictMode)?M.StrictMode:M.Fragment;return(0,S.jsx)(t,{children:(0,S.jsx)(I,{children:e})})},[A,I])),[N,D]=function({debounce:e,scroll:t,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){var r,a,s;let o=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[l,u]=(0,w.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,w.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,h=e?"number"==typeof e?e:e.resize:null,p=(0,w.useRef)(!1);(0,w.useEffect)(()=>(p.current=!0,()=>void(p.current=!1)));let[f,m,g]=(0,w.useMemo)(()=>{let e=()=>{let e,t;if(!c.current.element)return;let{left:n,top:r,width:a,height:s,bottom:o,right:l,x:d,y:h}=c.current.element.getBoundingClientRect(),f={left:n,top:r,width:a,height:s,bottom:o,right:l,x:d,y:h};c.current.element instanceof HTMLElement&&i&&(f.height=c.current.element.offsetHeight,f.width=c.current.element.offsetWidth),Object.freeze(f),p.current&&(e=c.current.lastBounds,t=f,!dk.every(n=>e[n]===t[n]))&&u(c.current.lastBounds=f)};return[e,h?dP(e,h):e,d?dP(e,d):e]},[u,i,d,h]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function y(){c.current.element&&(c.current.resizeObserver=new o(g),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}return r=g,a=!!t,(0,w.useEffect)(()=>{if(a)return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)},[r,a]),s=m,(0,w.useEffect)(()=>(window.addEventListener("resize",s),()=>void window.removeEventListener("resize",s)),[s]),(0,w.useEffect)(()=>{v(),y()},[t,g,m]),(0,w.useEffect)(()=>v,[]),[e=>{e&&e!==c.current.element&&(v(),c.current.element=e,c.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:i,overflowX:r,overflowY:a}=window.getComputedStyle(t);return[i,r,a].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),y())},l,f]}({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=w.useRef(null),U=w.useRef(null);w.useImperativeHandle(e,()=>L.current);let O=cR(b),[z,j]=w.useState(!1),[F,$]=w.useState(!1);if(z)throw z;if(F)throw F;let B=w.useRef(null);ck(()=>{let e=L.current;if(D.width>0&&D.height>0&&e){let n,i,r,b,E,A,C,I,N,L,z,F,V,G,H,W,Z;B.current||(b=null==(r=dh.get(e))?void 0:r.fiber,E=null==r?void 0:r.store,r&&console.warn("R3F.createRoot should only be called once!"),A="function"==typeof reportError?reportError:console.error,G=E||(z=(L=(N=(C=(e,t)=>{let n,i=new ed,r=new ed,a=new ed;function s(e=t().camera,n=r,o=t().size){let{width:l,height:u,top:c,left:d}=o,h=l/u;n.isVector3?a.copy(n):a.set(...n);let p=e.getWorldPosition(i).distanceTo(a);if(e&&e.isOrthographicCamera)return{width:l/e.zoom,height:u/e.zoom,top:c,left:d,factor:1,distance:p,aspect:h};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,n=l/u*t;return{width:n,height:t,top:c,left:d,factor:l/n,distance:p,aspect:h}}}let o=t=>e(e=>({performance:{...e.performance,current:t}})),l=new eu;return{set:e,get:t,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(e=1)=>dT(t(),e),advance:(e,n)=>dE(e,n,t()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new sG,pointer:l,mouse:l,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=t();n&&clearTimeout(n),e.performance.current!==e.performance.min&&o(e.performance.min),n=setTimeout(()=>o(t().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:t=>e(e=>({...e,events:{...e.events,...t}})),setSize:(n,i,a=0,o=0)=>{let l=t().camera,u={width:n,height:i,top:a,left:o};e(e=>({size:u,viewport:{...e.viewport,...s(l,r,u)}}))},setDpr:t=>e(e=>{let n=cL(t);return{viewport:{...e.viewport,dpr:n,initialDpr:e.viewport.initialDpr||n}}}),setFrameloop:(n="always")=>{let i=t().clock;i.stop(),i.elapsedTime=0,"never"!==n&&(i.start(),i.elapsedTime=0),e(()=>({frameloop:n}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:M.createRef(),active:!1,frames:0,priority:0,subscribe:(e,n,i)=>{let r=t().internal;return r.priority=r.priority+ +(n>0),r.subscribers.push({ref:e,priority:n,store:i}),r.subscribers=r.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let i=t().internal;null!=i&&i.subscribers&&(i.priority=i.priority-(n>0),i.subscribers=i.subscribers.filter(t=>t.ref!==e))}}}}})?cm(C,I):cm).getState()).size,F=L.viewport.dpr,V=L.camera,N.subscribe(()=>{let{camera:e,size:t,viewport:n,gl:i,set:r}=N.getState();if(t.width!==z.width||t.height!==z.height||n.dpr!==F){z=t,F=n.dpr;!e.manual&&(e&&e.isOrthographicCamera?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix());n.dpr>0&&i.setPixelRatio(n.dpr);let r="undefined"!=typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,r)}e!==V&&(V=e,r(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),N.subscribe(e=>dT(e)),N),H=b||dd.createContainer(G,T.ConcurrentRoot,null,!1,null,"",A,A,A,null),r||dh.set(e,{fiber:H,store:G}),W=!1,Z=null,B.current={async configure(t={}){var r,a;let s;Z=new Promise(e=>s=e);let{gl:o,size:l,scene:u,events:c,onCreated:d,shadows:h=!1,linear:p=!1,flat:f=!1,legacy:m=!1,orthographic:g=!1,frameloop:v="always",dpr:y=[1,2],performance:x,raycaster:b,camera:_,onPointerMissed:S}=t,w=G.getState(),M=w.gl;if(!w.gl){let t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof o?await o(t):o;M=cQ(n)?n:new cd({...t,...o}),w.set({gl:M})}let T=w.raycaster;T||w.set({raycaster:T=new op});let{params:E,...A}=b||{};if(cO.equ(A,T,dp)||cX(T,{...A}),cO.equ(E,T.params,dp)||cX(T,{params:{...T.params,...E}}),!w.camera||w.camera===i&&!cO.equ(i,_,dp)){i=_;let e=null==_?void 0:_.isCamera,t=e?_:g?new sb(0,0,0,0,.1,1e3):new nN(75,0,.1,1e3);!e&&(t.position.z=5,_&&(cX(t,_),!t.manual&&("aspect"in _||"left"in _||"right"in _||"bottom"in _||"top"in _)&&(t.manual=!0,t.updateProjectionMatrix())),w.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),w.set({camera:t}),T.camera=t}if(!w.scene){let e;null!=u&&u.isScene?cj(e=u,G,"",{}):(cj(e=new nB,G,"",{}),u&&cX(e,u)),w.set({scene:e})}c&&!w.events.handlers&&w.set({events:c(G)});let C=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:i,left:r}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:r}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,l);if(cO.equ(C,w.size,dp)||w.setSize(C.width,C.height,C.top,C.left),y&&w.viewport.dpr!==cL(y)&&w.setDpr(y),w.frameloop!==v&&w.setFrameloop(v),w.onPointerMissed||w.set({onPointerMissed:S}),x&&!cO.equ(x,w.performance,dp)&&w.set(e=>({performance:{...e.performance,...x}})),!w.xr){let e=(e,t)=>{let n=G.getState();"never"!==n.frameloop&&dE(e,!0,n,t)},t=()=>{let t=G.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||dT(t)},n={connect(){let e=G.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=G.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(r=M.xr)?void 0:r.addEventListener)&&n.connect(),w.set({xr:n})}if(M.shadowMap){let e=M.shadowMap.enabled,t=M.shadowMap.type;M.shadowMap.enabled=!!h,cO.boo(h)?M.shadowMap.type=2:cO.str(h)?M.shadowMap.type=null!=(a=({basic:0,percentage:1,soft:2,variance:3})[h])?a:2:cO.obj(h)&&Object.assign(M.shadowMap,h),(e!==M.shadowMap.enabled||t!==M.shadowMap.type)&&(M.shadowMap.needsUpdate=!0)}return ey.enabled=!m,W||(M.outputColorSpace=p?k:P,M.toneMapping=4*!f),w.legacy!==m&&w.set(()=>({legacy:m})),w.linear!==p&&w.set(()=>({linear:p})),w.flat!==f&&w.set(()=>({flat:f})),!o||cO.fun(o)||cQ(o)||cO.equ(o,M,dp)||cX(M,o),n=d,W=!0,s(),this},render(t){return W||Z||this.configure(),Z.then(()=>{dd.updateContainer((0,S.jsx)(df,{store:G,children:t,onCreated:n,rootElement:e}),H,null,()=>void 0)}),G},unmount(){dm(e)}}),async function(){await B.current.configure({gl:a,scene:x,events:s,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:f,dpr:m,performance:g,raycaster:v,camera:y,size:D,onPointerMissed:(...e)=>null==O.current?void 0:O.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(o?o&&o.hasOwnProperty("current")?o.current:o:U.current),l&&e.setEvents({compute:(e,t)=>{let n=e[l+"X"],i=e[l+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(i/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==_||_(e)}}),B.current.render((0,S.jsx)(R,{children:(0,S.jsx)(cD,{set:$,children:(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(cN,{set:j}),children:null!=t?t:null})})}))}()}}),w.useEffect(()=>{let e=L.current;if(e)return()=>dm(e)},[]);let V=o?"none":"auto";return(0,S.jsx)("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...r},...E,children:(0,S.jsx)("div",{ref:N,style:{width:"100%",height:"100%"},children:(0,S.jsx)("canvas",{ref:L,style:{display:"block"},children:n})})})}function dN(e){return(0,S.jsx)(cT,{children:(0,S.jsx)(dR,{...e})})}let dD=w.forwardRef(({children:e,enabled:t=!0,speed:n=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:a=[-.1,.1],autoInvalidate:s=!1,...o},l)=>{let u=w.useRef(null);w.useImperativeHandle(l,()=>u.current,[]);let c=w.useRef(1e4*Math.random());return c1(e=>{var o,l;if(!t||0===n)return;s&&e.invalidate();let d=c.current+e.clock.elapsedTime;u.current.rotation.x=Math.cos(d/4*n)/8*i,u.current.rotation.y=Math.sin(d/4*n)/8*i,u.current.rotation.z=Math.sin(d/4*n)/20*i;let h=Math.sin(d/4*n)/10;h=el.mapLinear(h,-.1,.1,null!=(o=null==a?void 0:a[0])?o:-.1,null!=(l=null==a?void 0:a[1])?l:.1),u.current.position.y=h*r,u.current.updateMatrix()}),w.createElement("group",o,w.createElement("group",{ref:u,matrixAutoUpdate:!1},e))});function dL(){let e=(0,w.useRef)(null);return c1((t,n)=>{e.current&&(e.current.rotation.x+=.2*n,e.current.rotation.y+=.3*n)}),(0,S.jsxs)("mesh",{ref:e,children:[(0,S.jsx)("torusKnotGeometry",{args:[1,.3,128,16]}),(0,S.jsx)("meshStandardMaterial",{color:"#ffffff",roughness:.1,metalness:.8,wireframe:!0})]})}function dU(){return(0,S.jsx)("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-30",children:(0,S.jsxs)(dN,{camera:{position:[0,0,5]},children:[(0,S.jsx)("ambientLight",{intensity:.5}),(0,S.jsx)("pointLight",{position:[10,10,10]}),(0,S.jsx)(dD,{speed:2,rotationIntensity:1,floatIntensity:1,children:(0,S.jsx)(dL,{})})]})})}e.s(["Scene3D",()=>dU],83797)},14891,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["AnimatedBadge",0,({text:e,className:r="",showDot:a=!0})=>{let s=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{s.current&&(i.default.timeline().add({targets:s.current,opacity:[0,1],scale:[.8,1],duration:800,delay:300}),a&&o.current&&(0,i.default)({targets:o.current,scale:[1,1.3,1],opacity:[1,.6,1],duration:2e3,loop:!0,easing:"easeInOutQuad"}),(0,i.default)({targets:s.current,translateY:[0,-4,0],duration:3e3,loop:!0,easing:"easeInOutSine",delay:1e3}))},[a]),(0,t.jsxs)("div",{ref:s,className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm opacity-0 ${r}`,children:[a&&(0,t.jsxs)("span",{className:"relative flex h-1.5 w-1.5",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-60"}),(0,t.jsx)("span",{ref:o,className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-300 font-medium tracking-wide leading-none",children:e})]})}])},78227,e=>{"use strict";var t=e.i(43476),n=e.i(81321),i=e.i(54189),r=e.i(8768);e.s(["AnimatedFooter",0,()=>{let{t:e}=(0,r.useLanguage)();return(0,t.jsx)("footer",{className:"relative bg-neutral-950 text-white pt-16 md:pt-32 pb-8 md:pb-12 px-4 border-t border-white/10 overflow-hidden",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto relative z-10",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 md:gap-16 mb-16 md:mb-32",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm text-neutral-500 uppercase tracking-widest mb-6 md:mb-8",children:e("footer.getInTouch")}),(0,t.jsxs)("div",{className:"space-y-3 md:space-y-2",children:[(0,t.jsx)("a",{href:"mailto:tonymora1982@gmail.com",className:"block text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-bold hover:text-neutral-400 transition-colors tracking-tighter break-all md:break-normal",children:"tonymora1982@gmail.com"}),(0,t.jsx)("a",{href:"https://wa.me/50670179787",target:"_blank",rel:"noopener noreferrer",className:"block text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-bold hover:text-emerald-400 transition-colors tracking-tighter",children:"+506 7017-9787"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-8 lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 md:gap-4 lg:justify-end",children:[(0,t.jsx)(n.AnimatedButton,{href:"https://github.com/Sobgo",variant:"secondary",className:"border-white/20 flex-1 sm:flex-none min-w-[100px] justify-center",children:"GitHub"}),(0,t.jsx)(n.AnimatedButton,{href:"https://www.linkedin.com/in/anthony-mora-parra-5510b0160/",variant:"secondary",className:"border-white/20 flex-1 sm:flex-none min-w-[100px] justify-center",children:"LinkedIn"}),(0,t.jsx)(n.AnimatedButton,{href:"https://wa.me/50670179787",variant:"secondary",className:"border-white/20 border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10 flex-1 sm:flex-none min-w-[100px] justify-center",children:"WhatsApp"})]}),(0,t.jsx)("div",{className:"text-left lg:text-right",children:(0,t.jsx)("p",{className:"text-lg md:text-xl text-neutral-400 max-w-md lg:ml-auto leading-relaxed",children:e("footer.available")})})]})]}),(0,t.jsx)("div",{className:"relative overflow-hidden",children:(0,t.jsx)(i.AnimatedHeroText,{text:"ANTHONY MORA",className:"text-[15vw] md:text-[12vw] leading-[0.8] font-bold tracking-tighter text-white/10 select-none pointer-events-none whitespace-nowrap"})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 md:gap-4 mt-8 md:mt-12 border-t border-white/10 pt-6 md:pt-8 text-neutral-500 text-xs md:text-sm font-mono uppercase tracking-widest",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{children:[" ",new Date().getFullYear()," GeeksLab. ",e("footer.rights")]}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 text-xs normal-case",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e("hero.badge")]})]}),(0,t.jsxs)("div",{className:"text-left md:text-right",children:[(0,t.jsx)("span",{className:"text-neutral-400",children:e("footer.location")}),(0,t.jsx)("br",{className:"hidden md:block"}),(0,t.jsx)("span",{className:"md:hidden",children:"  "}),(0,t.jsxs)("span",{children:[e("footer.localTime"),": ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/Costa_Rica"})]})]})]})]})})}])},4177,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["AnimatedSkillBadge",0,({skill:e,index:r})=>{let a=(0,n.useRef)(null);return(0,t.jsxs)("li",{ref:a,className:"text-gray-400 flex items-center gap-2 cursor-default transition-colors",onMouseEnter:()=>{if(!a.current)return;(0,i.default)({targets:a.current,scale:1.1,translateX:5,color:"#3b82f6",duration:400,easing:"easeOutElastic(1, .6)"});let e=a.current.querySelector(".skill-dot");e&&(0,i.default)({targets:e,scale:[1,1.5,1],backgroundColor:"#60a5fa",duration:600,easing:"easeInOutQuad"})},onMouseLeave:()=>{if(!a.current)return;(0,i.default)({targets:a.current,scale:1,translateX:0,color:"#9ca3af",duration:400,easing:"easeOutElastic(1, .6)"});let e=a.current.querySelector(".skill-dot");e&&(0,i.default)({targets:e,scale:1,backgroundColor:"#3b82f6",duration:400,easing:"easeInOutQuad"})},children:[(0,t.jsx)("span",{className:"skill-dot w-1.5 h-1.5 rounded-full bg-blue-500 block"}),e]})}])},39272,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["BackgroundGrid",0,()=>{let e=(0,n.useRef)(null),[r,a]=(0,n.useState)(0),[s,o]=(0,n.useState)(0),[l,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let t=()=>{if(!e.current)return;let t=window.innerWidth,n=Math.floor(window.innerHeight/50);a(Math.floor(t/50)),o(n)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,t.jsx)("div",{ref:e,className:"fixed inset-0 z-0 grid pointer-events-none",style:{gridTemplateColumns:`repeat(${r}, 1fr)`,gridTemplateRows:`repeat(${s}, 1fr)`},children:Array.from({length:r*s}).map((n,a)=>(0,t.jsx)("div",{className:"w-full h-full border-[0.5px] border-white/5 bg-neutral-900/50 pointer-events-auto transition-colors",onClick:()=>{u(!l),(0,i.default)({targets:e.current?.children||[],scale:[{value:.1,easing:"easeOutSine",duration:500},{value:1,easing:"easeInOutQuad",duration:1200}],delay:i.default.stagger(200,{grid:[r,s],from:a})})},onMouseEnter:()=>{(0,i.default)({targets:e.current?.children||[],backgroundColor:[{value:"#3b82f6",easing:"easeOutSine",duration:500},{value:"#171717",easing:"easeInOutQuad",duration:1200}],delay:i.default.stagger(50,{grid:[r,s],from:a})})}},a))})}])},60705,e=>{"use strict";var t=e.i(43476),n=e.i(32137),i=e.i(71645),r=e.i(38359),a=e.i(22016);e.s(["BentoGrid",0,({className:e,children:a})=>{let s=(0,i.useRef)(null);return(0,i.useEffect)(()=>{s.current&&(0,r.default)({targets:s.current.children,opacity:[0,1],translateY:[50,0],duration:800,delay:r.default.stagger(100),easing:"easeOutExpo"})},[]),(0,t.jsx)("div",{ref:s,className:(0,n.cn)("grid md:auto-rows-[18rem] grid-cols-1 md:grid-cols-3 gap-4 max-w-7xl mx-auto ",e),children:a})},"BentoGridItem",0,({className:e,title:s,description:o,header:l,icon:u,id:c,href:d})=>{let h=(0,i.useRef)(null),p=(0,i.useRef)(null),f=e=>{if(!h.current)return;let t=h.current.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,a=t.width/2,s=t.height/2;(0,r.default)({targets:h.current,rotateX:-((i-s)/s*5),rotateY:(n-a)/a*5,scale:1.02,duration:800,easing:"easeOutExpo"});let o=h.current.querySelector(".spotlight");o&&(o.style.background=`radial-gradient(600px circle at ${n}px ${i}px, rgba(255,255,255,0.1), transparent 40%)`)},m=()=>{if(!p.current)return;(0,r.default)({targets:p.current.children,translateY:[0,-2],opacity:[.7,1],duration:600,delay:r.default.stagger(50),easing:"easeOutExpo"});let e=h.current?.querySelector(".spotlight");e&&(0,r.default)({targets:e,opacity:1,duration:300,easing:"easeOutQuad"})},g=()=>{if(!h.current||!p.current)return;(0,r.default)({targets:h.current,rotateX:0,rotateY:0,scale:1,duration:800,easing:"easeOutExpo"}),(0,r.default)({targets:p.current.children,translateY:0,opacity:1,duration:600,easing:"easeOutExpo"});let e=h.current.querySelector(".spotlight");e&&(0,r.default)({targets:e,opacity:0,duration:300,easing:"easeOutQuad"})},v=()=>(0,t.jsxs)("div",{ref:h,className:(0,n.cn)("row-span-1 rounded-none group/bento hover:shadow-xl transition duration-200 shadow-input dark:shadow-none p-4 dark:bg-black dark:border-white/10 bg-white border border-transparent justify-between flex flex-col space-y-4 h-full relative overflow-hidden",e),style:{perspective:"1000px",transformStyle:"preserve-3d"},onMouseMove:f,onMouseEnter:m,onMouseLeave:g,id:c,children:[(0,t.jsx)("div",{className:"spotlight absolute inset-0 pointer-events-none opacity-0 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"transition duration-500 group-hover/bento:-translate-y-2 h-full relative z-10",children:l}),(0,t.jsxs)("div",{ref:p,className:"transition duration-500 group-hover/bento:translate-x-2 relative z-10",children:[u,(0,t.jsx)("div",{className:"font-sans font-bold text-neutral-600 dark:text-neutral-200 mb-2 mt-2",children:s}),(0,t.jsx)("div",{className:"font-sans font-normal text-neutral-600 text-xs dark:text-neutral-300",children:o})]})]});return d?(0,t.jsx)(a.default,{href:d,target:d.startsWith("http")?"_blank":void 0,className:"block h-full",children:(0,t.jsx)(v,{})}):(0,t.jsx)(v,{})}])},26064,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(71645);e.s(["CircuitLines",0,()=>(0,t.jsx)("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:(0,t.jsxs)("svg",{className:"absolute w-full h-full opacity-10",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)(n.motion.path,{d:"M0 100 Q 250 50 500 100 T 1000 100",fill:"none",stroke:"url(#gradient-line)",strokeWidth:"2",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:2,ease:"easeInOut",repeat:1/0,repeatType:"reverse",repeatDelay:3}}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"gradient-line",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"transparent"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#a855f7"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"transparent"})]})})]})}),"CornerAccents",0,()=>(0,t.jsxs)("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[(0,t.jsx)("svg",{className:"absolute top-10 left-10 w-24 h-24 opacity-20",viewBox:"0 0 100 100",children:(0,t.jsx)("path",{d:"M0 0 L40 0 L40 2 L2 2 L2 40 L0 40 Z",fill:"white"})}),(0,t.jsx)("svg",{className:"absolute bottom-10 right-10 w-24 h-24 opacity-20 rotate-180",viewBox:"0 0 100 100",children:(0,t.jsx)("path",{d:"M0 0 L40 0 L40 2 L2 2 L2 40 L0 40 Z",fill:"white"})})]}),"DecorativeFloatingShapes",0,()=>{let[e,r]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{r(!0)},[]),e)?(0,t.jsxs)(n.motion.div,{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[(0,t.jsx)(n.motion.div,{className:"absolute top-1/4 left-1/4 w-64 h-64 rounded-full bg-purple-500/5 blur-3xl",animate:{x:[0,50,0],y:[0,30,0],scale:[1,1.1,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)(n.motion.div,{className:"absolute bottom-1/3 right-1/4 w-96 h-96 rounded-full bg-blue-500/5 blur-3xl",animate:{x:[0,-30,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}})]}):null},"GridPattern",0,()=>(0,t.jsx)("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:(0,t.jsxs)("svg",{className:"absolute w-full h-full opacity-[0.015]",xmlns:"http://www.w3.org/2000/svg",style:{maskImage:"radial-gradient(circle at center, rgba(0,0,0,0.85), transparent 80%)",WebkitMaskImage:"radial-gradient(circle at center, rgba(0,0,0,0.85), transparent 80%)"},children:[(0,t.jsx)("defs",{children:(0,t.jsx)("pattern",{id:"grid-pattern",width:"80",height:"80",patternUnits:"userSpaceOnUse",children:(0,t.jsx)("path",{d:"M 80 0 L 0 0 0 80",fill:"none",stroke:"rgba(255,255,255,0.06)",strokeWidth:"0.5"})})}),(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid-pattern)"})]})})])},88143,(e,t,n)=>{"use strict";function i({widthInt:e,heightInt:t,blurWidth:n,blurHeight:i,blurDataURL:r,objectFit:a}){let s=n?40*n:e,o=i?40*i:t,l=s&&o?`viewBox='0 0 ${s} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${r}'/%3E%3C/svg%3E`}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},87690,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={VALID_LOADERS:function(){return a},imageConfigDefault:function(){return s}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(33525);let i=e.r(88143),r=e.r(87690),a=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:n=!1,priority:l=!1,preload:u=!1,loading:c,className:d,quality:h,width:p,height:f,fill:m=!1,style:g,overrideSrc:v,onLoad:y,onLoadingComplete:x,placeholder:b="empty",blurDataURL:_,fetchPriority:S,decoding:w="async",layout:M,objectFit:T,objectPosition:E,lazyBoundary:A,lazyRoot:C,...I},P){var k;let R,N,D,{imgConf:L,showAltText:U,blurComplete:O,defaultLoader:z}=P,j=L||r.imageConfigDefault;if("allSizes"in j)R=j;else{let e=[...j.deviceSizes,...j.imageSizes].sort((e,t)=>e-t),t=j.deviceSizes.sort((e,t)=>e-t),n=j.qualities?.sort((e,t)=>e-t);R={...j,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===z)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let F=I.loader||z;delete I.loader,delete I.srcSet;let $="__next_img_default"in F;if($){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=F;F=t=>{let{config:n,...i}=t;return e(i)}}if(M){"fill"===M&&(m=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[M];e&&(g={...g,...e});let n={responsive:"100vw",fill:"100vw"}[M];n&&!t&&(t=n)}let B="",V=o(p),G=o(f);if((k=e)&&"object"==typeof k&&(s(k)||void 0!==k.src)){let t=s(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(N=t.blurWidth,D=t.blurHeight,_=_||t.blurDataURL,B=t.src,!m)if(V||G){if(V&&!G){let e=V/t.width;G=Math.round(t.height*e)}else if(!V&&G){let e=G/t.height;V=Math.round(t.width*e)}}else V=t.width,G=t.height}let H=!l&&!u&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:B)||e.startsWith("data:")||e.startsWith("blob:"))&&(n=!0,H=!1),R.unoptimized&&(n=!0),$&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(n=!0);let W=o(h),Z=Object.assign(m?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:T,objectPosition:E}:{},U?{}:{color:"transparent"},g),X=O||"empty"===b?null:"blur"===b?`url("data:image/svg+xml;charset=utf-8,${(0,i.getImageBlurSvg)({widthInt:V,heightInt:G,blurWidth:N,blurHeight:D,blurDataURL:_||"",objectFit:Z.objectFit})}")`:`url("${b}")`,q=a.includes(Z.objectFit)?"fill"===Z.objectFit?"100% 100%":"cover":Z.objectFit,Y=X?{backgroundSize:q,backgroundPosition:Z.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},J=function({config:e,src:t,unoptimized:n,width:i,quality:r,sizes:a,loader:s}){if(n)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:l}=function({deviceSizes:e,allSizes:t},n,i){if(i){let n=/(^|\s)(1?\d?\d)vw/g,r=[];for(let e;e=n.exec(i);)r.push(parseInt(e[2]));if(r.length){let n=.01*Math.min(...r);return{widths:t.filter(t=>t>=e[0]*n),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof n?{widths:e,kind:"w"}:{widths:[...new Set([n,2*n].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,i,a),u=o.length-1;return{sizes:a||"w"!==l?a:"100vw",srcSet:o.map((n,i)=>`${s({config:e,src:t,quality:r,width:n})} ${"w"===l?n:i+1}${l}`).join(", "),src:s({config:e,src:t,quality:r,width:o[u]})}}({config:R,src:e,unoptimized:n,width:V,quality:W,sizes:t,loader:F}),K=H?"lazy":c;return{props:{...I,loading:K,fetchPriority:S,width:V,height:G,decoding:w,className:d,style:{...Z,...Y},sizes:J.sizes,srcSet:J.srcSet,src:v||J.src},meta:{unoptimized:n,preload:u||l,placeholder:b,fill:m}}}},98879,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});let i=e.r(71645),r="undefined"==typeof window,a=r?()=>{}:i.useLayoutEffect,s=r?()=>{}:i.useEffect;function o(e){let{headManager:t,reduceComponentsToState:n}=e;function o(){if(t&&t.mountedInstances){let e=i.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(e))}}return r&&(t?.mountedInstances?.add(e.children),o()),a(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),a(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={default:function(){return m},defaultHead:function(){return d}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=e.r(55682),s=e.r(90809),o=e.r(43476),l=s._(e.r(71645)),u=a._(e.r(98879)),c=e.r(42732);function d(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let p=["name","httpEquiv","charSet","itemProp"];function f(e){let t,n,i,r;return e.reduce(h,[]).reverse().concat(d().reverse()).filter((t=new Set,n=new Set,i=new Set,r={},e=>{let a=!0,s=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){s=!0;let n=e.key.slice(e.key.indexOf("$")+1);t.has(n)?a=!1:t.add(n)}switch(e.type){case"title":case"base":n.has(e.type)?a=!1:n.add(e.type);break;case"meta":for(let t=0,n=p.length;t<n;t++){let n=p[t];if(e.props.hasOwnProperty(n))if("charSet"===n)i.has(n)?a=!1:i.add(n);else{let t=e.props[n],i=r[n]||new Set;("name"!==n||!s)&&i.has(t)?a=!1:(i.add(t),r[n]=i)}}}return a})).reverse().map((e,t)=>{let n=e.key||t;return l.default.cloneElement(e,{key:n})})}let m=function({children:e}){let t=(0,l.useContext)(c.HeadManagerContext);return(0,o.jsx)(u.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18556,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let i=e.r(55682)._(e.r(71645)),r=e.r(87690),a=i.default.createContext(r.imageConfigDefault)},65856,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return i}});let i=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,n)=>{"use strict";function i(e,t){let n=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,0):n}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"findClosestQuality",{enumerable:!0,get:function(){return i}})},1948,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let i=e.r(70965);function r({config:e,src:t,width:n,quality:r}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,i.findClosestQuality)(r,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${n}&q=${a}${t.startsWith("/_next/static/media/"),""}`}r.__next_img_default=!0;let a=r},85437,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return b}});let i=e.r(55682),r=e.r(90809),a=e.r(43476),s=r._(e.r(71645)),o=i._(e.r(74080)),l=i._(e.r(25633)),u=e.r(8927),c=e.r(87690),d=e.r(18556);e.r(33525);let h=e.r(65856),p=i._(e.r(1948)),f=e.r(18581),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,n,i,r,a,s){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),n?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,r=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}i?.current&&i.current(e)}}))}function v(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,s.forwardRef)(({src:e,srcSet:t,sizes:n,height:i,width:r,decoding:o,className:l,style:u,fetchPriority:c,placeholder:d,loading:h,unoptimized:p,fill:m,onLoadRef:y,onLoadingCompleteRef:x,setBlurComplete:b,setShowAltText:_,sizesInput:S,onLoad:w,onError:M,...T},E)=>{let A=(0,s.useCallback)(e=>{e&&(M&&(e.src=e.src),e.complete&&g(e,d,y,x,b,p,S))},[e,d,y,x,b,M,p,S]),C=(0,f.useMergedRef)(E,A);return(0,a.jsx)("img",{...T,...v(c),loading:h,width:r,height:i,decoding:o,"data-nimg":m?"fill":"1",className:l,style:u,sizes:n,srcSet:t,src:e,ref:C,onLoad:e=>{g(e.currentTarget,d,y,x,b,p,S)},onError:e=>{_(!0),"empty"!==d&&b(!0),M&&M(e)}})});function x({isAppRouter:e,imgAttributes:t}){let n={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...v(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,n),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...n},"__nimg-"+t.src+t.srcSet+t.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let n=(0,s.useContext)(h.RouterContext),i=(0,s.useContext)(d.ImageConfigContext),r=(0,s.useMemo)(()=>{let e=m||i||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),n=e.deviceSizes.sort((e,t)=>e-t),r=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:n,qualities:r,localPatterns:"undefined"==typeof window?i?.localPatterns:e.localPatterns}},[i]),{onLoad:o,onLoadingComplete:l}=e,f=(0,s.useRef)(o);(0,s.useEffect)(()=>{f.current=o},[o]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[v,b]=(0,s.useState)(!1),[_,S]=(0,s.useState)(!1),{props:w,meta:M}=(0,u.getImgProps)(e,{defaultLoader:p.default,imgConf:r,blurComplete:v,showAltText:_});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{...w,unoptimized:M.unoptimized,placeholder:M.placeholder,fill:M.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:b,setShowAltText:S,sizesInput:e.sizes,ref:t}),M.preload?(0,a.jsx)(x,{isAppRouter:!n,imgAttributes:w}):null]})});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},94909,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={default:function(){return c},getImageProps:function(){return u}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let a=e.r(55682),s=e.r(8927),o=e.r(85437),l=a._(e.r(1948));function u(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let c=o.Image},57688,(e,t,n)=>{t.exports=e.r(94909)},95965,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(71645),r=e.i(57688);e.s(["DraggableShapes",0,()=>{let e=(0,i.useRef)(null);return(0,t.jsx)("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none",children:(0,t.jsxs)("div",{className:"relative w-full h-full pointer-events-auto",children:[(0,t.jsx)(n.motion.div,{drag:!0,dragConstraints:{left:-800,right:800,top:-600,bottom:600},dragElastic:.4,dragMomentum:!0,dragTransition:{bounceStiffness:200,bounceDamping:20,power:.3,timeConstant:400},whileHover:{scale:1.08,cursor:"grab",filter:"brightness(1.2) drop-shadow(0 0 50px rgba(255,100,200,0.5))",transition:{type:"spring",stiffness:300,damping:15}},whileDrag:{scale:1.05,cursor:"grabbing",filter:"brightness(1.1)",transition:{duration:.1}},initial:{opacity:0,scale:.5,rotate:-90},whileInView:{opacity:1,scale:1,rotate:0},transition:{type:"spring",stiffness:120,damping:18,duration:1.2},animate:{y:[0,-25,0,-15,0],x:[0,12,0,-12,0],rotate:[0,3,0,-3,0]},transition:{y:{duration:14,repeat:1/0,ease:"easeInOut"},x:{duration:11,repeat:1/0,ease:"easeInOut"},rotate:{duration:18,repeat:1/0,ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,t.jsx)("div",{className:"relative w-[300px] h-[200px] drop-shadow-2xl",children:(0,t.jsx)(r.default,{src:"/assets/graphics/Cerebro.png",alt:"AI Brain",fill:!0,className:"object-contain",draggable:!1})})}),(0,t.jsx)(n.motion.div,{drag:!0,dragConstraints:{left:-800,right:800,top:-600,bottom:600},dragElastic:.4,dragMomentum:!0,dragTransition:{bounceStiffness:200,bounceDamping:20,power:.3,timeConstant:400},whileHover:{scale:1.08,cursor:"grab",filter:"brightness(1.2) drop-shadow(0 0 50px rgba(100,200,255,0.5))",transition:{type:"spring",stiffness:300,damping:15}},whileDrag:{scale:1.05,cursor:"grabbing",filter:"brightness(1.1)",transition:{duration:.1}},initial:{opacity:0,scale:.5,rotate:90},whileInView:{opacity:1,scale:1,rotate:0},transition:{type:"spring",stiffness:120,damping:18,duration:1.2,delay:.3},animate:{y:[0,-20,0,-10,0],x:[0,-15,0,15,0],rotate:[0,-4,0,4,0]},transition:{y:{duration:12,repeat:1/0,ease:"easeInOut",delay:.5},x:{duration:10,repeat:1/0,ease:"easeInOut",delay:.3},rotate:{duration:16,repeat:1/0,ease:"easeInOut",delay:.7}},className:"absolute top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2",children:(0,t.jsx)("div",{className:"relative w-[250px] h-[250px] drop-shadow-2xl",children:(0,t.jsx)(r.default,{src:"/assets/graphics/Robot.png",alt:"Robot",fill:!0,className:"object-contain",draggable:!1})})})]})})}])},15057,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>t],15057)},23128,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(15057),r=e.i(75254);let a=(0,r.default)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),s=(0,r.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=(0,r.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var l=e.i(22016);let u=({href:e,label:r,icon:a,colorClass:s,delay:o})=>(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:o,duration:.5},children:(0,t.jsxs)(l.default,{href:e,className:"group flex items-center gap-3 px-4 py-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer",children:[(0,t.jsx)("span",{className:`p-1 rounded-full bg-white/5 ${s} group-hover:scale-110 transition-transform duration-300`,children:a}),(0,t.jsx)("span",{className:"text-sm font-medium text-neutral-300 group-hover:text-white transition-colors",children:r}),(0,t.jsx)(i.ArrowUpRight,{className:"w-3 h-3 text-neutral-500 group-hover:text-white transition-colors"})]})});e.s(["EcosystemNav",0,({t:e})=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 mb-12",children:[(0,t.jsx)(n.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3.2},className:"text-xs uppercase tracking-[0.2em] text-neutral-500 font-medium",children:e("hero.ecosystem_tagline")}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-3",children:[(0,t.jsx)(u,{href:"/portfolio",label:e("hero.cta_portfolio"),icon:(0,t.jsx)(o,{className:"w-3 h-3"}),colorClass:"text-cyan-400",delay:3.3}),(0,t.jsx)(u,{href:"/cv",label:e("hero.cta_cv"),icon:(0,t.jsx)(s,{className:"w-3 h-3"}),colorClass:"text-emerald-400",delay:3.4}),(0,t.jsx)(u,{href:"/lab",label:e("hero.cta_lab"),icon:(0,t.jsx)(a,{className:"w-3 h-3"}),colorClass:"text-purple-400",delay:3.5})]})]})],23128)},30199,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(8768);let r=[{dates:"Jan 2024  Present",role:"Freelance Full Stack Developer",company:"GeeksLab",location:"Grecia, Costa Rica  Remote (EU/LATAM)",type:"Independent",bullets:["Architected and shipped production apps with Next.js 16, React 19, Node.js and PostgreSQL  maintaining 99.9% uptime SLA.","Reduced CLS by ~30% and boosted conversion ~12% through A/B testing, UX optimizations, and edge caching strategies.","Established async-first delivery workflow: ADRs, OpenAPI contracts, feature flags, automated testing, and weekly increments."],tech:["Next.js","React","TypeScript","Node.js","PostgreSQL","Docker"]},{dates:"Jun 2025  Present",role:"Technical Administrative Support",company:"Grupo INS",location:"Costa Rica",type:"Full-time",bullets:["Automated reporting and validation pipelines using Python/SQL, reducing monthly close time by ~25%.","Built operational dashboards with proactive alerting for distributed teams."],tech:["Python","SQL","Power BI","Automation"]},{dates:"Sep 2024  Mar 2025",role:"Production Supervisor",company:"Establishment Labs",location:"Alajuela, Costa Rica",type:"Full-time",bullets:["Led process standardization with real-time data monitoring; reduced MTTR by ~20% on critical production lines.","Authored digital SOPs and checklists laying groundwork for future automation initiatives."],tech:["Operations","Lean","Data Analysis","SOPs"]},{dates:"Mar 2018  Oct 2023",role:"R&D Jr. Engineer",company:"Establishment Labs",location:"Alajuela, Costa Rica",type:"Full-time",bullets:["Analyzed complex production data to identify bottlenecks using engineering methodologies; improved throughput without CAPEX.","Designed and executed experiments under ISO 13485 compliance, collaborating with QA and production teams.","Developed documentation standards and technical analysis frameworks adopted across R&D department."],tech:["ISO 13485","Data Analysis","Python","Technical Documentation"]},{dates:"Jun 2017  Mar 2018",role:"CAD Designer",company:"Align Technology",location:"Heredia, Costa Rica",type:"Full-time",bullets:["Created 3D/2D models and technical documentation supporting rapid product iterations.","Collaborated with cross-functional engineering teams to optimize design workflows."],tech:["CAD","3D Modeling","Technical Drawing"]}];e.s(["ExperienceTimeline",0,()=>((0,i.useLanguage)(),(0,t.jsxs)("div",{className:"relative max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"absolute left-3 md:left-4 top-0 bottom-0 w-px bg-white/8 pointer-events-none"}),(0,t.jsx)("div",{className:"space-y-8",children:r.map((e,i)=>(0,t.jsxs)(n.motion.article,{initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-10% 0px"},transition:{delay:.05*i,duration:.35,ease:[.16,1,.3,1]},className:"relative bg-white/[0.02] border border-white/8 rounded-xl p-5 shadow-[0_18px_50px_rgba(0,0,0,0.25)]",children:[(0,t.jsx)("div",{className:"absolute left-2 md:left-3 top-6 w-2 h-2 rounded-full bg-white/80"}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 pl-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-[0.2em] text-neutral-400",children:[(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-white/90",children:e.type}),(0,t.jsx)("span",{className:"text-neutral-500",children:""}),(0,t.jsx)("span",{children:e.dates})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-white",children:e.role}),(0,t.jsx)("p",{className:"text-neutral-300 text-sm",children:e.company}),(0,t.jsx)("p",{className:"text-neutral-500 text-xs",children:e.location})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 text-[11px]",children:e.tech.map(e=>(0,t.jsx)("span",{className:"px-2.5 py-1 rounded-full border border-white/10 bg-black/30 text-neutral-200",children:e},e))}),(0,t.jsx)("div",{className:"space-y-2",children:e.bullets.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm text-neutral-200 leading-relaxed",children:[(0,t.jsx)("span",{className:"text-emerald-400 mt-1",children:""}),(0,t.jsx)("span",{children:e})]},e))})]})]},e.role+e.dates))})]}))])},8541,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(75254);let r=(0,i.default)("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),a=(0,i.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),s=(0,i.default)("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]),o=(0,i.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var l=e.i(8768);let u=[{id:"edge-lcp",hypothesis:{en:"Edge caching reduces LCP by 40% for personalized static pages",es:"Edge caching reduce LCP en 40% para pginas estticas personalizadas"},date:"2024-12-05",status:"validated",metrics:{before:2.9,after:1.7,delta:"-41%",unit:"s"},reproduction:{label:{en:"Open in Stackblitz",es:"Reproducir en Stackblitz"},url:"https://stackblitz.com",difficulty:"15min"},learnings:{en:["Geo-segmented caching yields better P95 than fixed TTL","Silent revalidation avoids cold starts during campaigns"],es:["El cacheo por geosegmentacin entrega mejores P95 que TTL fijo","Revalidacin silenciosa evita cold starts en campaas"]},commits:["a1c4f2d","b7e91c3"]},{id:"qos-api",hypothesis:{en:"Circuit breakers reduce errors in bursts > 2k RPM",es:"Circuit breakers reducen errores en rfagas > 2k RPM"},date:"2025-01-12",status:"running",metrics:{before:.68,after:.18,delta:"-73%",unit:"% errors"},reproduction:{label:{en:"View PoC",es:"Ver PoC"},url:"https://stackblitz.com",difficulty:"5min"},learnings:{en:["Fallback to internal queue keeps UX acceptable without impacting billing","A saturation dashboard reduces MTTR more than extra logs"],es:["El fallback a cola interna mantiene UX aceptable sin afectar billing","Un dashboard de saturacin reduce MTTR ms que logs adicionales"]},commits:["c9e3ad4"]},{id:"glsl-hero",hypothesis:{en:"GLSL underlay animations dont impact CLS or TTI",es:"Animaciones GLSL con underlay no afectan CLS ni TTI"},date:"2025-02-02",status:"validated",metrics:{before:.12,after:.03,delta:"-75%",unit:"CLS"},reproduction:{label:{en:"View code",es:"Ver cdigo"},url:"https://stackblitz.com",difficulty:"30min"},learnings:{en:["Keeping the canvas as underlay with pointer-events-none removes jank","A 2 draw-call budget keeps the main thread free"],es:["Separar el canvas en underlay con pointer-events-none elimina jank","Un budget de 2 draw calls mantiene el main thread libre"]},commits:["d1f2aa9","e3bcf78","f42d0af"]}];e.s(["ExperimentLog",0,()=>{let{t:e,language:i}=(0,l.useLanguage)(),c=(0,n.useMemo)(()=>u,[]),d={running:{label:e("lab.status.running"),color:"bg-amber-500/15 text-amber-200 border-amber-500/40"},validated:{label:e("lab.status.validated"),color:"bg-emerald-500/15 text-emerald-200 border-emerald-500/40"},failed:{label:e("lab.status.failed"),color:"bg-rose-500/15 text-rose-200 border-rose-500/40"}};return(0,t.jsxs)("section",{id:"experiments-lab",className:"relative w-full overflow-hidden border-t border-white/10 bg-gradient-to-b from-black via-black to-neutral-950 py-24 md:py-32",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(transparent 19px, rgba(255,255,255,0.08) 20px), linear-gradient(90deg, transparent 19px, rgba(255,255,255,0.08) 20px)",backgroundSize:"40px 40px",maskImage:"radial-gradient(circle at center, rgba(0,0,0,0.75), transparent 70%)",WebkitMaskImage:"radial-gradient(circle at center, rgba(0,0,0,0.75), transparent 70%)"}}),(0,t.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 space-y-10",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 max-w-3xl",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-300",children:[(0,t.jsx)(o,{className:"w-4 h-4"}),e("lab.badge")]}),(0,t.jsx)("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight text-white",children:e("lab.title")}),(0,t.jsx)("p",{className:"text-neutral-400 max-w-2xl text-lg md:text-xl leading-relaxed",children:e("lab.description")})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map(n=>{let o=d[n.status];return(0,t.jsxs)("div",{className:"border border-white/10 bg-white/[0.03] backdrop-blur-xl rounded-3xl p-6 flex flex-col gap-5 shadow-[0_20px_60px_rgba(0,0,0,0.35)]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[(0,t.jsx)(r,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-mono",children:n.date})]}),(0,t.jsx)("span",{className:`text-[11px] px-3 py-1 rounded-full border ${o.color}`,children:o.label})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white leading-tight",children:n.hypothesis[i]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-neutral-300",children:[(0,t.jsx)("span",{children:e("lab.before")}),(0,t.jsxs)("span",{className:"font-mono text-white",children:[n.metrics.before,n.metrics.unit]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-neutral-300",children:[(0,t.jsx)("span",{children:e("lab.after")}),(0,t.jsxs)("span",{className:"font-mono text-white",children:[n.metrics.after,n.metrics.unit]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-emerald-300",children:[(0,t.jsx)("span",{children:e("lab.delta")}),(0,t.jsx)("span",{className:"font-mono",children:n.metrics.delta})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.18em] text-neutral-400",children:e("lab.learnings")}),(0,t.jsx)("ul",{className:"space-y-1 text-sm text-neutral-200",children:n.learnings[i].map(e=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-emerald-400",children:""}),(0,t.jsx)("span",{children:e})]},e))})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:n.commits.map(e=>(0,t.jsxs)("span",{className:"text-xs font-mono px-2 py-1 rounded border border-white/10 text-neutral-300",children:[(0,t.jsx)(s,{className:"inline w-3 h-3 mr-1"}),e]},e))}),(0,t.jsxs)("a",{href:n.reproduction.url,target:"_blank",rel:"noreferrer",className:"mt-auto inline-flex items-center justify-between gap-2 px-4 py-3 rounded-xl bg-white text-black font-semibold hover:bg-neutral-200 transition",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4"}),n.reproduction.label[i]||e("lab.reproduce")]}),(0,t.jsx)("span",{className:"text-xs uppercase tracking-[0.18em] text-neutral-600",children:n.reproduction.difficulty})]})]},n.id)})})]})]})}],8541)},46692,e=>{"use strict";var t=e.i(43476),n=e.i(95965),i=e.i(8768);e.s(["ExperimentsSection",0,()=>{let{t:e}=(0,i.useLanguage)();return(0,t.jsxs)("section",{className:"relative min-h-[80vh] w-full flex items-center justify-center overflow-hidden bg-neutral-950 border-t border-white/10 py-24 md:py-32",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px",maskImage:"radial-gradient(circle at center, rgba(0,0,0,0.85), transparent 65%)",WebkitMaskImage:"radial-gradient(circle at center, rgba(0,0,0,0.85), transparent 65%)"}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-black/70 to-black pointer-events-none"}),(0,t.jsx)(n.DraggableShapes,{}),(0,t.jsx)("div",{className:"container px-4 mx-auto relative z-10 pointer-events-none",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto text-center space-y-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-emerald-300",children:e("lab.badge")}),(0,t.jsx)("h2",{className:"text-4xl md:text-6xl font-bold leading-tight tracking-tight text-white",children:e("lab.title")}),(0,t.jsx)("p",{className:"text-neutral-400 text-lg md:text-xl",children:e("lab.description")})]})})]})}])},74056,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(8768);let r=[{id:"frontend",label:"Layer 1",title:"Frontend",subtitle:"Interfaces that convert on first impression.",tags:["React 19","Next.js 16","Tailwind 4","Motion"],accent:"from-sky-400/30 via-sky-300/10 to-transparent",wins:["Async-first UX patterns (links, tooltips, skeletons) for remote buyers.","CLS-safe motion + strong type safety for quick iteration."],metric:{label:"Bounce drop",value:"-22%"},cta:{label:"View UI walk-through",href:"/portfolio"}},{id:"backend",label:"Layer 2",title:"Backend",subtitle:"Predictable business logic for async pipelines.",tags:["Node.js","PostgreSQL","Prisma","API REST"],accent:"from-emerald-400/30 via-emerald-300/10 to-transparent",wins:["Contracts-first APIs with zod + OpenAPI for distributed teams.","Circuit breakers & queues to handle bursty traffic without paging."],metric:{label:"MTTR drop",value:"-32%"},cta:{label:"See API design notes",href:"/nexastore"}},{id:"infrastructure",label:"Layer 3",title:"Infrastructure",subtitle:"Deploy, observe, and recover without on-site help.",tags:["Docker","CI/CD","Vercel","Security"],accent:"from-amber-400/30 via-amber-300/10 to-transparent",wins:["Pipelines with preview-per-PR, checks, and feature flags.","Runtime telemetry + synthetic checks to protect SLAs remotely."],metric:{label:"Uptime target",value:"99.9%"},cta:{label:"Open SLA dashboard",href:"/sla-dashboard"}}];e.s(["ExplodedView",0,()=>{let{t:e}=(0,i.useLanguage)();return(0,t.jsxs)("section",{className:"relative w-full overflow-hidden bg-gradient-to-b from-neutral-950 via-black to-neutral-950 border-t border-white/5 py-16 md:py-24",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.05), transparent 35%), radial-gradient(circle at 80% 10%, rgba(255,255,255,0.04), transparent 35%), radial-gradient(circle at 50% 80%, rgba(255,255,255,0.04), transparent 40%)"}}),(0,t.jsx)("div",{className:"absolute left-1/2 top-24 bottom-16 w-px bg-gradient-to-b from-white/20 via-white/5 to-transparent pointer-events-none"}),(0,t.jsxs)("div",{className:"relative max-w-5xl mx-auto px-4 flex flex-col items-center gap-12",children:[(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.28em] text-neutral-500",children:e("deconstructed.title")}),(0,t.jsx)("h2",{className:"text-3xl md:text-5xl font-bold text-white tracking-tight",children:"Understanding every layer of the stack, from pixel to packet."}),(0,t.jsx)("p",{className:"text-neutral-400 max-w-2xl mx-auto text-base md:text-lg",children:"Built for remote delivery: interfaces that convert, APIs that dont page you, and infra you can trust from any time zone."})]}),(0,t.jsx)("div",{className:"w-full flex flex-col items-center gap-10",children:r.map((e,i)=>(0,t.jsxs)("div",{className:"w-full flex flex-col items-center gap-5",children:[i>0&&(0,t.jsx)("div",{className:"h-8 w-px bg-white/12"}),(0,t.jsxs)(n.motion.article,{initial:{opacity:0,y:24,scale:.98},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.5,delay:.06*i,ease:[.16,1,.3,1]},viewport:{once:!0},className:"relative w-full rounded-3xl border border-white/10 bg-white/[0.04] backdrop-blur-xl shadow-[0_30px_80px_rgba(0,0,0,0.35)] overflow-hidden",children:[(0,t.jsx)("div",{className:`absolute inset-x-0 top-0 h-24 bg-gradient-to-b ${e.accent} pointer-events-none`}),(0,t.jsxs)("div",{className:"relative flex flex-col gap-6 px-6 py-7 md:px-8 md:py-8",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs uppercase tracking-[0.28em] text-neutral-300",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full border border-white/10 bg-white/5 text-white font-semibold",children:e.label}),(0,t.jsx)("span",{className:"text-neutral-500",children:""}),(0,t.jsx)("span",{className:"text-neutral-400",children:"Remote-ready delivery"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight",children:e.title}),(0,t.jsx)("p",{className:"text-lg text-neutral-400",children:e.subtitle})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:e.tags.map(e=>(0,t.jsx)("span",{className:"px-3 py-1 rounded-full border border-white/10 bg-black/30 text-sm text-neutral-200",children:e},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"col-span-2 space-y-2",children:e.wins.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm text-neutral-200",children:[(0,t.jsx)("span",{className:"text-emerald-400 mt-1",children:""}),(0,t.jsx)("span",{className:"leading-relaxed",children:e})]},e))}),(0,t.jsxs)("div",{className:"flex flex-col justify-between border border-white/10 rounded-2xl bg-white/[0.03] px-4 py-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-400",children:e.metric.label}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.metric.value}),(0,t.jsx)("p",{className:"text-xs text-neutral-500",children:"Last remote rollout"})]})]}),e.cta&&(0,t.jsxs)("a",{href:e.cta.href,className:"inline-flex items-center gap-2 text-sm font-semibold text-white hover:text-neutral-200 transition",children:[e.cta.label,(0,t.jsx)("span",{className:"text-neutral-400",children:""})]})]})]})]},e.id))})]})]})}])},96971,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["FloatingShapes",0,()=>{let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{e.current&&((0,i.default)({targets:e.current.querySelectorAll(".shape-circle"),translateY:()=>200*Math.random()-100,translateX:()=>200*Math.random()-100,scale:[.5,1.5],opacity:[.2,.5],duration:()=>3e3+2e3*Math.random(),direction:"alternate",loop:!0,easing:"easeInOutSine",delay:()=>1e3*Math.random()}),(0,i.default)({targets:e.current.querySelectorAll(".shape-triangle"),rotate:360,duration:()=>5e3+3e3*Math.random(),loop:!0,easing:"linear"}))},[]),(0,t.jsxs)("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[(0,t.jsx)("svg",{className:"absolute top-1/4 left-1/4 w-24 h-24 text-blue-500/10 shape-circle",viewBox:"0 0 100 100",children:(0,t.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"currentColor"})}),(0,t.jsx)("svg",{className:"absolute top-3/4 left-1/3 w-32 h-32 text-purple-500/10 shape-triangle",viewBox:"0 0 100 100",children:(0,t.jsx)("polygon",{points:"50,15 90,85 10,85",fill:"currentColor"})}),(0,t.jsx)("svg",{className:"absolute top-1/2 right-1/4 w-16 h-16 text-green-500/10 shape-circle",viewBox:"0 0 100 100",children:(0,t.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"currentColor"})}),(0,t.jsx)("svg",{className:"absolute bottom-1/4 right-1/3 w-20 h-20 text-pink-500/10 shape-triangle",viewBox:"0 0 100 100",children:(0,t.jsx)("polygon",{points:"50,15 90,85 10,85",fill:"currentColor"})})]})}])},504,e=>{"use strict";var t=e.i(43476),n=e.i(71645);let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";e.s(["HackerText",0,({text:e,className:r=""})=>{let[a,s]=(0,n.useState)(e),o=(0,n.useRef)(null);return(0,t.jsx)("span",{className:r,onMouseEnter:()=>{let t=0;o.current&&clearInterval(o.current),o.current=setInterval(()=>{s(n=>e.split("").map((n,r)=>r<t?e[r]:i[Math.floor(Math.random()*i.length)]).join("")),t>=e.length&&o.current&&clearInterval(o.current),t+=1/3},30)},style:{cursor:"default"},children:a})}])},41907,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["MagneticCursor",0,()=>{let e=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!e.current||!r.current)return;let t=e.current,n=r.current,a=e=>{(0,i.default)({targets:t,translateX:e.clientX,translateY:e.clientY,duration:0}),(0,i.default)({targets:n,translateX:e.clientX,translateY:e.clientY,duration:800,easing:"easeOutExpo"})},s=()=>{(0,i.default)({targets:n,scale:3,backgroundColor:"rgba(255, 255, 255, 0.1)",borderWidth:0,duration:500,easing:"easeOutExpo"})},o=()=>{(0,i.default)({targets:n,scale:1,backgroundColor:"transparent",borderWidth:"1px",duration:500,easing:"easeOutExpo"})};window.addEventListener("mousemove",a);let l=document.querySelectorAll("a, button");return l.forEach(e=>{e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",o)}),()=>{window.removeEventListener("mousemove",a),l.forEach(e=>{e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",o)})}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:e,className:"pointer-events-none fixed left-0 top-0 z-[9999] h-2 w-2 -ml-1 -mt-1 rounded-full bg-white mix-blend-difference hidden md:block"}),(0,t.jsx)("div",{ref:r,className:"pointer-events-none fixed left-0 top-0 z-[9998] h-8 w-8 -ml-4 -mt-4 rounded-full border border-white/30 mix-blend-difference hidden md:block"})]})}])},54359,e=>{"use strict";var t=e.i(43476),n=e.i(32137),i=e.i(71645);e.s(["Meteors",0,({number:e,className:r})=>{let[a,s]=i.default.useState([]);return i.default.useEffect(()=>{s(Array(e||20).fill(!0).map(()=>({top:0,left:Math.floor(800*Math.random()+-400)+"px",animationDelay:Math.random()*(.8-.2)+.2+"s",animationDuration:Math.floor(8*Math.random()+2)+"s"})))},[e]),(0,t.jsx)(t.Fragment,{children:a.map((e,i)=>(0,t.jsx)("span",{className:(0,n.cn)("animate-meteor-effect absolute top-1/2 left-1/2 h-0.5 w-0.5 rounded-[9999px] bg-slate-500 shadow-[0_0_0_1px_#ffffff10] rotate-[215deg]","before:content-[''] before:absolute before:top-1/2 before:transform before:-translate-y-[50%] before:w-[50px] before:h-[1px] before:bg-gradient-to-r before:from-[#64748b] before:to-transparent",r),style:e},"meteor"+i))})}])},69758,e=>{"use strict";var t=e.i(43476);e.s(["NoiseOverlay",0,()=>(0,t.jsx)("div",{className:"pointer-events-none fixed inset-0 z-[9999] h-full w-full opacity-[0.03]",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}})])},94200,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(38359);e.s(["Preloader",0,()=>{let[e,r]=(0,n.useState)(0),[a,s]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e={value:0},t=!1,n=()=>{t||(t=!0,r(100),(0,i.default)({targets:"#preloader",translateY:"-100%",duration:1e3,easing:"easeOutExpo",complete:()=>s(!1)}))};(0,i.default)({targets:e,value:100,duration:2e3,easing:"cubicBezier(0.25, 1, 0.5, 1)",round:1,update:()=>r(e.value),complete:n});let a=setTimeout(()=>{t||(console.warn("[Preloader] Animation timeout - forcing completion"),n())},3e3);return()=>{clearTimeout(a)}},[]),a)?(0,t.jsx)("div",{id:"preloader",className:"fixed inset-0 z-10000 flex items-end justify-end bg-black p-8 md:p-16",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"text-[12rem] md:text-[20rem] font-bold leading-none text-white tracking-tighter",children:[e,"%"]}),(0,t.jsx)("div",{className:"text-neutral-500 font-mono text-sm uppercase tracking-widest mt-4",children:"System Initializing..."})]})}):null}])},60787,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(46932),r=e.i(49652);let a={some:0,all:1};var s=e.i(15057),o=e.i(75254);let l=(0,o.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),u=(0,o.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=(0,o.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),d=(0,o.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var h=e.i(22016),p=e.i(8768);let f=({status:e})=>{let n={live:{label:"Live",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},development:{label:"In Development",color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},completed:{label:"Completed",color:"bg-sky-500/20 text-sky-400 border-sky-500/30"}};return(0,t.jsx)("span",{className:`px-2 py-0.5 text-[10px] uppercase tracking-wider rounded-full border ${n[e].color}`,children:n[e].label})},m=({project:e,index:o})=>{let l=(0,n.useRef)(null),u=function(e,{root:t,margin:i,amount:s,once:o=!1,initial:l=!1}={}){let[u,c]=(0,n.useState)(l);return(0,n.useEffect)(()=>{if(!e.current||o&&u)return;let n={root:t&&t.current||void 0,margin:i,amount:s};return function(e,t,{root:n,margin:i,amount:s="some"}={}){let o=(0,r.resolveElements)(e),l=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(e=>{let n=l.get(e.target);if(!!n!==e.isIntersecting)if(e.isIntersecting){let n=t(e.target,e);"function"==typeof n?l.set(e.target,n):u.unobserve(e.target)}else"function"==typeof n&&(n(e),l.delete(e.target))})},{root:n,rootMargin:i,threshold:"number"==typeof s?s:a[s]});return o.forEach(e=>u.observe(e)),()=>u.disconnect()}(e.current,()=>(c(!0),o?void 0:()=>c(!1)),n)},[t,e,i,o,s]),u}(l,{amount:.25,once:!1}),c=o%2==0;return(0,t.jsxs)("section",{ref:l,className:"relative min-h-[85vh] flex items-center justify-center py-20 md:py-28",children:[(0,t.jsx)("div",{className:`absolute inset-0 opacity-30 pointer-events-none bg-gradient-to-br ${e.gradient}`}),(0,t.jsx)("div",{className:"relative container px-4 mx-auto",children:(0,t.jsxs)("div",{className:`grid md:grid-cols-2 gap-10 md:gap-16 items-center ${!c?"md:grid-flow-dense":""}`,children:[(0,t.jsxs)(i.motion.div,{initial:{opacity:0,x:c?-40:40},animate:u?{opacity:1,x:0}:{opacity:.3,x:c?-40:40},transition:{duration:.7,delay:.1,ease:[.16,1,.3,1]},className:`space-y-6 ${!c?"md:col-start-2":""}`,children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-5xl md:text-7xl font-bold text-white/10",children:["0",o+1]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-neutral-500 font-mono text-sm",children:e.year}),(0,t.jsx)(f,{status:e.status})]})]}),(0,t.jsx)("h2",{className:"text-4xl md:text-6xl font-bold tracking-tighter text-white",children:e.title}),(0,t.jsx)("p",{className:"text-lg text-neutral-400 max-w-lg leading-relaxed",children:e.description})]}),e.metrics&&(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:e.metrics.map((e,n)=>(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:u?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.3+.1*n},className:"p-4 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[e.icon,(0,t.jsx)("span",{className:"text-xs uppercase tracking-wider",children:e.label})]}),(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:e.value})]},e.label))}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,t.jsx)("span",{className:"px-3 py-1.5 rounded-full border border-white/10 bg-white/5 text-sm text-neutral-300 hover:bg-white/10 hover:border-white/20 transition-all",children:e},e))}),(0,t.jsxs)(h.default,{href:e.link,className:"inline-flex items-center gap-3 px-6 py-3 bg-white text-black font-semibold rounded-full hover:bg-neutral-200 transition-all group",children:[(0,t.jsx)("span",{children:"View Case Study"}),(0,t.jsx)(s.ArrowUpRight,{className:"w-4 h-4 transition-transform group-hover:-translate-y-0.5 group-hover:translate-x-0.5"})]})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,scale:.9,y:60},animate:u?{opacity:1,scale:1,y:0}:{opacity:.2,scale:.9,y:60},transition:{duration:.8,delay:.2,ease:[.16,1,.3,1]},className:`relative aspect-[4/3] rounded-2xl overflow-hidden ${!c?"md:col-start-1":""}`,children:[(0,t.jsx)("div",{className:`absolute -inset-[1px] rounded-2xl bg-gradient-to-br ${e.gradient} opacity-50`}),(0,t.jsxs)("div",{className:"absolute inset-[1px] rounded-2xl bg-neutral-900 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/60 via-transparent to-transparent z-10"}),(0,t.jsx)("div",{className:"absolute inset-0 opacity-20 z-10",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"32px 32px"}}),(0,t.jsx)(i.motion.img,{src:e.image,alt:e.title,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.6}}),(0,t.jsx)(i.motion.div,{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500 flex items-end justify-center pb-8 z-20",children:(0,t.jsxs)("span",{className:"text-white font-medium flex items-center gap-2",children:["Explore Project ",(0,t.jsx)(s.ArrowUpRight,{className:"w-4 h-4"})]})})]})]})]})})]})};e.s(["ProjectShowcase",0,()=>{let{t:e}=(0,p.useLanguage)(),n=[{id:"geekslab",title:"GeeksLab Portfolio",description:e("bento.item1.description"),tags:["Next.js 16","TypeScript","Turborepo","Tailwind v4","Vitest"],year:"2024",image:"/images/projects/geekslab.svg",link:"/geekslab",gradient:"from-violet-600/20 via-transparent to-fuchsia-600/20",status:"live",metrics:[{label:"Lighthouse",value:"98/100",icon:(0,t.jsx)(d,{className:"w-3 h-3"})},{label:"Test Coverage",value:"37 tests",icon:(0,t.jsx)(u,{className:"w-3 h-3"})}]},{id:"nexastore",title:"NexaStore",description:e("bento.item2.description"),tags:["E-commerce","Stripe","Headless CMS","GraphQL"],year:"2023",image:"/images/projects/nexastore.svg",link:"/nexastore",gradient:"from-emerald-600/20 via-transparent to-cyan-600/20",status:"completed",metrics:[{label:"Tech Demo",value:"Full Stack",icon:(0,t.jsx)(l,{className:"w-3 h-3"})},{label:"Features",value:"Cart + Pay",icon:(0,t.jsx)(c,{className:"w-3 h-3"})}]},{id:"qms",title:"ISO 13485 QMS",description:e("bento.item3.description"),tags:["MedTech","Compliance","Python","Automation"],year:"2018-2023",image:"/images/projects/qms.svg",link:"/qms",gradient:"from-amber-600/20 via-transparent to-orange-600/20",status:"completed",metrics:[{label:"Background",value:"5+ yrs",icon:(0,t.jsx)(d,{className:"w-3 h-3"})},{label:"Standard",value:"ISO 13485",icon:(0,t.jsx)(u,{className:"w-3 h-3"})}]},{id:"monorepo",title:"Monorepo Architecture",description:e("bento.item4.description"),tags:["Turborepo","CI/CD","Shared Packages","pnpm"],year:"2024",image:"/images/projects/monorepo.svg",link:"https://github.com/Tonymora1982/Geekslab-portfolio",gradient:"from-sky-600/20 via-transparent to-indigo-600/20",status:"live",metrics:[{label:"Apps",value:"3",icon:(0,t.jsx)(d,{className:"w-3 h-3"})},{label:"Packages",value:"4",icon:(0,t.jsx)(u,{className:"w-3 h-3"})}]}];return(0,t.jsx)("div",{className:"relative w-full",children:n.map((e,n)=>(0,t.jsx)(m,{project:e,index:n},e.id))})}],60787)},29765,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(21218),r=e.i(75254);let a=(0,r.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),s=(0,r.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),o=(0,r.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),l=(0,r.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),u=(0,r.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),c={ttfb:{label:"TTFB",unit:"ms",threshold:200,icon:(0,t.jsx)(o,{className:"w-4 h-4"})},lcp:{label:"LCP",unit:"s",threshold:2.5,icon:(0,t.jsx)(a,{className:"w-4 h-4"}),formatter:e=>e.toFixed(2)},uptime:{label:"Uptime",unit:"%",threshold:99.5,icon:(0,t.jsx)(s,{className:"w-4 h-4"}),formatter:e=>e.toFixed(2)},errorBudget:{label:"Error Budget",unit:"%",threshold:.5,icon:(0,t.jsx)(i.Activity,{className:"w-4 h-4"}),formatter:e=>e.toFixed(2)}},d={ttfb:120,lcp:1.8,uptime:99.7,errorBudget:.12};function h(e,t){return e+(2*Math.random()-1)*t}function p(e,t,n){return Math.min(Math.max(e,t),n)}e.s(["SLAPanel",0,()=>{let[e,i]=(0,n.useState)(d),[r,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(null),f=(0,n.useMemo)(()=>Object.entries(c),[]),m=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/sla-metrics",{cache:"no-store"});if(e.ok){let t=await e.json();if(t.uptime&&t.latency){i({ttfb:t.latency||d.ttfb,lcp:t.latency/100||d.lcp,uptime:t.uptime||d.uptime,errorBudget:t.errorRate||d.errorBudget}),a(!0),o(new Date);return}}}catch(e){}a(!1)},[]);return(0,n.useEffect)(()=>{m();let e=setInterval(m,3e4);return()=>clearInterval(e)},[m]),(0,n.useEffect)(()=>{let e=setInterval(()=>{i(e=>({ttfb:p(h(e.ttfb,r?3:8),90,180),lcp:p(h(e.lcp,r?.02:.08),1.5,2.3),uptime:p(h(e.uptime,r?.01:.05),99.5,99.99),errorBudget:p(h(e.errorBudget,r?.01:.05),.05,.45)}))},1e4);return()=>clearInterval(e)},[r]),(0,t.jsxs)("div",{className:"space-y-2 w-full max-w-3xl",children:[(0,t.jsx)("div",{className:"flex items-center justify-end gap-2 text-[10px] uppercase tracking-wider",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{className:"w-3 h-3 text-emerald-400"}),(0,t.jsx)("span",{className:"text-emerald-400",children:"Live API"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"w-3 h-3 text-neutral-500"}),(0,t.jsx)("span",{className:"text-neutral-500",children:"Simulated"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(([n,i])=>{let r=e[n],a=i.formatter?i.formatter(r):Math.round(r).toString(),s="uptime"===n?r>=i.threshold:r<=i.threshold;return(0,t.jsxs)("div",{className:"border border-white/10 bg-white/5 backdrop-blur-md rounded-xl p-4 flex flex-col gap-2 shadow-lg shadow-black/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-400 uppercase tracking-[0.18em]",children:[i.icon,i.label]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("span",{className:"text-2xl font-semibold text-white",children:a}),(0,t.jsx)("span",{className:"text-sm text-neutral-400",children:i.unit})]}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 text-[11px] px-2 py-1 rounded-full border ${s?"bg-emerald-500/15 text-emerald-300 border-emerald-500/40":"bg-amber-500/15 text-amber-200 border-amber-500/40"}`,children:["SLA ",i.threshold]})]},n)})})]})}],29765)},5023,e=>{"use strict";var t=e.i(43476),n=e.i(71645);function i(e,t,n){return Math.max(e,Math.min(t,n))}var r=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(e){if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;let n=i(0,this.currentTime/this.duration,1),r=(t=n>=1)?1:this.easing(n);this.value=this.from+(this.to-this.from)*r}else if(this.lerp){var n,r,a,s;this.value=(n=this.value,r=this.to,a=60*this.lerp,(1-(s=1-Math.exp(-a*e)))*n+s*r),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)}else this.value=this.to,t=!0;t&&this.stop(),this.onUpdate?.(this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n,duration:i,easing:r,onStart:a,onUpdate:s}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=s}},a=class{constructor(e,t,{autoResize:n=!0,debounce:i=250}={}){this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(e,t){let n;return function(...i){let r=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,e.apply(r,i)},t)}}(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},s=class{events={};emit(e,...t){let n=this.events[e]||[];for(let e=0,i=n.length;e<i;e++)n[e]?.(...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(e=>t!==e)}}off(e,t){this.events[e]=this.events[e]?.filter(e=>t!==e)}destroy(){this.events={}}},o=100/6,l={passive:!1},u=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onTouchMove,l),this.element.addEventListener("touchend",this.onTouchEnd,l)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new s;on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onTouchMove,l),this.element.removeEventListener("touchend",this.onTouchEnd,l)}onTouchStart=e=>{let{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{let{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(t-this.touchStart.x)*this.options.touchMultiplier,r=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n,deltaMode:i}=e,r=1===i?o:2===i?this.window.width:1,a=1===i?o:2===i?this.window.height:1;t*=r,n*=a,t*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},c=e=>Math.min(1,1.001-Math.pow(2,-10*e)),d=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new r;emitter=new s;dimensions;virtualScroll;constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:n=e,smoothWheel:i=!0,syncTouch:r=!1,syncTouchLerp:s=.075,touchInertiaExponent:o=1.7,duration:l,easing:d,lerp:h=.1,infinite:p=!1,orientation:f="vertical",gestureOrientation:m="horizontal"===f?"both":"vertical",touchMultiplier:g=1,wheelMultiplier:v=1,autoResize:y=!0,prevent:x,virtualScroll:b,overscroll:_=!0,autoRaf:S=!1,anchors:w=!1,autoToggle:M=!1,allowNestedScroll:T=!1,__experimental__naiveDimensions:E=!1}={}){window.lenisVersion="1.3.15",e&&e!==document.documentElement||(e=window),"number"==typeof l&&"function"!=typeof d?d=c:"function"==typeof d&&"number"!=typeof l&&(l=1),this.options={wrapper:e,content:t,eventsTarget:n,smoothWheel:i,syncTouch:r,syncTouchLerp:s,touchInertiaExponent:o,duration:l,easing:d,lerp:h,infinite:p,gestureOrientation:m,orientation:f,touchMultiplier:g,wheelMultiplier:v,autoResize:y,prevent:x,virtualScroll:b,overscroll:_,autoRaf:S,anchors:w,autoToggle:M,allowNestedScroll:T,__experimental__naiveDimensions:E},this.dimensions=new a(e,t,{autoResize:y}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new u(n,{touchMultiplier:g,wheelMultiplier:v}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}onScrollEnd=e=>{e instanceof CustomEvent||"smooth"!==this.isScrolling&&!1!==this.isScrolling||e.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=e=>{if(e.propertyName.includes("overflow")){let e=this.isHorizontal?"overflow-x":"overflow-y";["hidden","clip"].includes(getComputedStyle(this.rootElement)[e])?this.internalStop():this.internalStart()}};setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}onClick=e=>{let t=e.composedPath().find(e=>e instanceof HTMLAnchorElement&&e.getAttribute("href")?.includes("#"));if(t){let e=t.getAttribute("href");if(e){let t="object"==typeof this.options.anchors&&this.options.anchors?this.options.anchors:void 0,n=`#${e.split("#")[1]}`;this.scrollTo(n,t)}}};onPointerDown=e=>{1===e.button&&this.reset()};onVirtualScroll=e=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(e))return;let{deltaX:t,deltaY:n,event:i}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:n,event:i}),i.ctrlKey||i.lenisStopPropagation)return;let r=i.type.includes("touch"),a=i.type.includes("wheel");this.isTouching="touchstart"===i.type||"touchmove"===i.type;let s=0===t&&0===n;if(this.options.syncTouch&&r&&"touchstart"===i.type&&s&&!this.isStopped&&!this.isLocked)return void this.reset();let o="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===t;if(s||o)return;let l=i.composedPath();l=l.slice(0,l.indexOf(this.rootElement));let u=this.options.prevent;if(l.find(e=>e instanceof HTMLElement&&("function"==typeof u&&u?.(e)||e.hasAttribute?.("data-lenis-prevent")||r&&e.hasAttribute?.("data-lenis-prevent-touch")||a&&e.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(e,{deltaX:t,deltaY:n}))))return;if(this.isStopped||this.isLocked){i.cancelable&&i.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&a)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let c=n;"both"===this.options.gestureOrientation?c=Math.abs(n)>Math.abs(t)?n:t:"horizontal"===this.options.gestureOrientation&&(c=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||0===this.animatedScroll&&n>0||this.animatedScroll===this.limit&&n<0))&&(i.lenisStopPropagation=!0),i.cancelable&&i.preventDefault();let d=r&&this.options.syncTouch,h=r&&"touchend"===i.type;h&&(c=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+c,{programmatic:!1,...d?{lerp:h?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(!1===this.isScrolling||"native"===this.isScrolling){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle)return void this.rootElement.style.removeProperty("overflow");this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle)return void this.rootElement.style.setProperty("overflow","clip");this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=e=>{let t=e-(this.time||e);this.time=e,this.animate.advance(.001*t),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(e,{offset:t=0,immediate:n=!1,lock:r=!1,duration:a=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:u,force:d=!1,programmatic:h=!0,userData:p}={}){if(!this.isStopped&&!this.isLocked||d){if("string"==typeof e&&["top","left","start","#"].includes(e))e=0;else if("string"==typeof e&&["bottom","right","end"].includes(e))e=this.limit;else{let n;if("string"==typeof e?(n=document.querySelector(e))||("#top"===e?e=0:console.warn("Lenis: Target not found",e)):e instanceof HTMLElement&&e?.nodeType&&(n=e),n){if(this.options.wrapper!==window){let e=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}let i=n.getBoundingClientRect();e=(this.isHorizontal?i.left:i.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite){if(h){this.targetScroll=this.animatedScroll=this.scroll;let t=e-this.animatedScroll;t>this.limit/2?e-=this.limit:t<-this.limit/2&&(e+=this.limit)}}else e=i(0,e,this.limit);if(e===this.targetScroll){l?.(this),u?.(this);return}if(this.userData=p??{},n){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),u?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}h||(this.targetScroll=e),"number"==typeof a&&"function"!=typeof s?s=c:"function"==typeof s&&"number"!=typeof a&&(a=1),this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:s,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",l?.(this)},onUpdate:(e,t)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),h&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),u?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:t,deltaY:n}){let i,r,a,s,o,l,u,c,d,h,p,f,m,g,v=Date.now(),y=e._lenis??={},x=this.options.gestureOrientation;if(v-(y.time??0)>2e3){y.time=Date.now();let t=window.getComputedStyle(e);y.computedStyle=t;let n=t.overflowX,d=t.overflowY;if(i=["auto","overlay","scroll"].includes(n),r=["auto","overlay","scroll"].includes(d),y.hasOverflowX=i,y.hasOverflowY=r,!i&&!r||"vertical"===x&&!r||"horizontal"===x&&!i)return!1;o=e.scrollWidth,l=e.scrollHeight,u=e.clientWidth,c=e.clientHeight,a=o>u,s=l>c,y.isScrollableX=a,y.isScrollableY=s,y.scrollWidth=o,y.scrollHeight=l,y.clientWidth=u,y.clientHeight=c}else a=y.isScrollableX,s=y.isScrollableY,i=y.hasOverflowX,r=y.hasOverflowY,o=y.scrollWidth,l=y.scrollHeight,u=y.clientWidth,c=y.clientHeight;if(!i&&!r||!a&&!s||"vertical"===x&&(!r||!s)||"horizontal"===x&&(!i||!a)||("horizontal"===x?d="x":"vertical"===x?d="y":(0!==t&&i&&a&&(d="x"),0!==n&&r&&s&&(d="y")),!d))return!1;if("x"===d)h=e.scrollLeft,p=o-u,f=t,m=i,g=a;else{if("y"!==d)return!1;h=e.scrollTop,p=l-c,f=n,m=r,g=s}return(f>0?h<p:h>0)&&m&&g}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){let e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){var e;return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),"smooth"===this.isScrolling&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};e.s(["SmoothScroll",0,({children:e})=>((0,n.useEffect)(()=>{let e=new d({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,wheelMultiplier:1,touchMultiplier:2});return requestAnimationFrame(function t(n){e.raf(n),requestAnimationFrame(t)}),()=>{e.destroy()}},[]),(0,t.jsx)(t.Fragment,{children:e}))],5023)},57466,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(46932),r=e.i(47414),a=e.i(74008),s=e.i(65566),o=e.i(97989),l=e.i(45161);function u(e,t){[...t].reverse().forEach(n=>{let i=e.getVariant(n);i&&(0,o.setTarget)(e,i),e.variantChildren&&e.variantChildren.forEach(e=>{u(e,t)})})}function c(){let e=!1,t=new Set,n={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(n,i){(0,s.invariant)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let r=[];return t.forEach(e=>{r.push((0,l.animateVisualElement)(e,n,{transitionOverride:i}))}),Promise.all(r)},set:n=>((0,s.invariant)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{var t,i;t=e,Array.isArray(i=n)?u(t,i):"string"==typeof i?u(t,[i]):(0,o.setTarget)(t,i)})),stop(){t.forEach(e=>{e.values.forEach(e=>e.stop())})},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}let d=function(){let e=(0,r.useConstant)(c);return(0,a.useIsomorphicLayoutEffect)(e.mount,[]),e};var h=e.i(32137);e.s(["Sparkles",0,({color:e="#FFF",className:n,...i})=>(0,t.jsx)("div",{className:(0,h.cn)("absolute inset-0 overflow-hidden pointer-events-none",n),...i}),"SparklesCore",0,({id:e,className:r,background:a,minSize:s,maxSize:o,particleDensity:l,particleColor:u,particleOffsetTop:c,particleOffsetBottom:p,speed:f})=>{let[m,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(!0)},[]);let v=d();return(0,t.jsx)(i.motion.div,{animate:v,className:(0,h.cn)("opacity-0",r),children:m&&(0,t.jsx)("canvas",{className:"w-full h-full pointer-events-none",style:{background:a||"transparent"}})})}],57466)},71565,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(83411),r=e.i(87022),a=e.i(74008),s=e.i(86427),o=e.i(71645),l=e.i(37806),u=e.i(47414);function c(e){let t=(0,u.useConstant)(()=>(0,s.motionValue)(e)),{isStatic:n}=(0,o.useContext)(l.MotionConfigContext);if(n){let[,n]=(0,o.useState)(e);(0,o.useEffect)(()=>t.on("change",n),[])}return t}function d(e,...t){var n,s;let o,l,u=e.length;return n=t.filter(i.isMotionValue),o=c((s=function(){let n="";for(let r=0;r<u;r++){n+=e[r];let a=t[r];a&&(n+=(0,i.isMotionValue)(a)?a.get():a)}return n})()),(l=()=>o.set(s()))(),(0,a.useIsomorphicLayoutEffect)(()=>{let e=()=>r.frame.preRender(l,!1,!0),t=n.map(t=>t.on("change",e));return()=>{t.forEach(e=>e()),(0,r.cancelFrame)(l)}}),o}var h=e.i(32137);e.s(["Spotlight",0,({className:e,fill:i="white"})=>{let r=c(0),a=c(0);return(0,t.jsx)("div",{className:(0,h.cn)("pointer-events-none absolute -inset-px opacity-0 transition duration-300 group-hover:opacity-100",e),onMouseMove:function({currentTarget:e,clientX:t,clientY:n}){let{left:i,top:s}=e.getBoundingClientRect();r.set(t-i),a.set(n-s)},children:(0,t.jsx)(n.motion.div,{className:"pointer-events-none absolute -inset-px rounded-xl opacity-0 transition duration-300 group-hover:opacity-100",style:{background:d`
            radial-gradient(
              650px circle at ${r}px ${a}px,
              ${i} 0%,
              transparent 80%
            )
          `}})})},"SpotlightHero",0,({children:e,className:i=""})=>{let r=c(0),a=c(0);return(0,t.jsxs)("div",{className:(0,h.cn)("group relative flex items-center justify-center w-full h-full overflow-hidden",i),onMouseMove:function({currentTarget:e,clientX:t,clientY:n}){let{left:i,top:s}=e.getBoundingClientRect();r.set(t-i),a.set(n-s)},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px] pointer-events-none"}),(0,t.jsx)(n.motion.div,{className:"pointer-events-none absolute -inset-px opacity-0 transition duration-300 group-hover:opacity-100",style:{background:d`
            radial-gradient(
              600px circle at ${r}px ${a}px,
              rgba(255,255,255,0.06),
              transparent 40%
            )
          `}}),(0,t.jsx)("div",{className:"relative z-10",children:e})]})}],71565)},59543,98889,e=>{"use strict";var t,n=e.i(43476),i=e.i(71645),r=e.i(46932),a=e.i(88653);let s=Object.freeze({status:"aborted"});function o(e,t,n){function i(n,i){var r;for(let a in Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(r=n._zod).traits??(r.traits=new Set),n._zod.traits.add(e),t(n,i),s.prototype)a in n||Object.defineProperty(n,a,{value:s.prototype[a].bind(n)});n._zod.constr=s,n._zod.def=i}let r=n?.Parent??Object;class a extends r{}function s(e){var t;let r=n?.Parent?new a:this;for(let n of(i(r,e),(t=r._zod).deferred??(t.deferred=[]),r._zod.deferred))n();return r}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!n?.Parent&&t instanceof n.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}let l=Symbol("zod_brand");class u extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class c extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let d={};function h(e){return e&&Object.assign(d,e),d}function p(e){return e}function f(e){return e}function m(e){}function g(e){throw Error()}function v(e){}function y(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function x(e,t="|"){return e.map(e=>Z(e)).join(t)}function b(e,t){return"bigint"==typeof t?t.toString():t}function _(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function S(e){return null==e}function w(e){let t=+!!e.startsWith("^"),n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function M(e,t){let n=(e.toString().split(".")[1]||"").length,i=t.toString(),r=(i.split(".")[1]||"").length;if(0===r&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(r=Number.parseInt(e[1]))}let a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>u,"$ZodEncodeError",()=>c,"$brand",0,l,"$constructor",()=>o,"NEVER",0,s,"config",()=>h,"globalConfig",0,d],97753);let T=Symbol("evaluating");function E(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==T)return void 0===i&&(i=T,i=n()),i},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function A(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function C(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function I(...e){let t={};for(let n of e)Object.assign(t,Object.getOwnPropertyDescriptors(n));return Object.defineProperties({},t)}function P(e){return I(e._zod.def)}function k(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function R(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let n={};for(let i=0;i<t.length;i++)n[t[i]]=e[i];return n})}function N(e=10){let t="abcdefghijklmnopqrstuvwxyz",n="";for(let i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n}function D(e){return JSON.stringify(e)}let L="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function U(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let O=_(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function z(e){if(!1===U(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!1!==U(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function j(e){return z(e)?{...e}:Array.isArray(e)?[...e]:e}function F(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}let $=new Set(["string","number","symbol"]),B=new Set(["string","number","bigint","boolean","symbol","undefined"]);function V(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(e,t,n){let i=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(i._zod.parent=e),i}function H(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function W(e){let t;return new Proxy({},{get:(n,i,r)=>(t??(t=e()),Reflect.get(t,i,r)),set:(n,i,r,a)=>(t??(t=e()),Reflect.set(t,i,r,a)),has:(n,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(n,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:n=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(n,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(n,i,r)=>(t??(t=e()),Reflect.defineProperty(t,i,r))})}function Z(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function X(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let q={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Y={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function J(e,t){let n=e._zod.def,i=I(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in n.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=n.shape[i])}return C(this,"shape",e),e},checks:[]});return G(e,i)}function K(e,t){let n=e._zod.def,i=I(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return C(this,"shape",i),i},checks:[]});return G(e,i)}function Q(e,t){if(!z(t))throw Error("Invalid input to extend: expected a plain object");let n=e._zod.def.checks;if(n&&n.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=I(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return C(this,"shape",n),n},checks:[]});return G(e,i)}function ee(e,t){if(!z(t))throw Error("Invalid input to safeExtend: expected a plain object");let n={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return C(this,"shape",n),n},checks:e._zod.def.checks};return G(e,n)}function et(e,t){let n=I(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return C(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return G(e,n)}function en(e,t,n){let i=I(t._zod.def,{get shape(){let i=t._zod.def.shape,r={...i};if(n)for(let t in n){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);n[t]&&(r[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)r[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return C(this,"shape",r),r},checks:[]});return G(t,i)}function ei(e,t,n){let i=I(t._zod.def,{get shape(){let i=t._zod.def.shape,r={...i};if(n)for(let t in n){if(!(t in r))throw Error(`Unrecognized key: "${t}"`);n[t]&&(r[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)r[t]=new e({type:"nonoptional",innerType:i[t]});return C(this,"shape",r),r},checks:[]});return G(t,i)}function er(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function ea(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function es(e){return"string"==typeof e?e:e?.message}function eo(e,t,n){let i={...e,path:e.path??[]};return e.message||(i.message=es(e.inst?._zod.def?.error?.(e))??es(t?.error?.(e))??es(n.customError?.(e))??es(n.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function el(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function eu(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ec(...e){let[t,n,i]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:i}:{...t}}function ed(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function eh(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function ep(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function ef(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-t.length%4)%4);return eh(t+n)}function em(e){return ep(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function eg(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)n[e/2]=Number.parseInt(t.slice(e,e+2),16);return n}function ev(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class ey{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,Y,"Class",()=>ey,"NUMBER_FORMAT_RANGES",0,q,"aborted",()=>er,"allowsEval",0,O,"assert",()=>v,"assertEqual",()=>p,"assertIs",()=>m,"assertNever",()=>g,"assertNotEqual",()=>f,"assignProp",()=>C,"base64ToUint8Array",()=>eh,"base64urlToUint8Array",()=>ef,"cached",()=>_,"captureStackTrace",0,L,"cleanEnum",()=>ed,"cleanRegex",()=>w,"clone",()=>G,"cloneDef",()=>P,"createTransparentProxy",()=>W,"defineLazy",()=>E,"esc",()=>D,"escapeRegex",()=>V,"extend",()=>Q,"finalizeIssue",()=>eo,"floatSafeRemainder",()=>M,"getElementAtPath",()=>k,"getEnumValues",()=>y,"getLengthableOrigin",()=>eu,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>el,"hexToUint8Array",()=>eg,"isObject",()=>U,"isPlainObject",()=>z,"issue",()=>ec,"joinValues",()=>x,"jsonStringifyReplacer",()=>b,"merge",()=>et,"mergeDefs",()=>I,"normalizeParams",()=>H,"nullish",()=>S,"numKeys",()=>F,"objectClone",()=>A,"omit",()=>K,"optionalKeys",()=>X,"partial",()=>en,"pick",()=>J,"prefixIssues",()=>ea,"primitiveTypes",0,B,"promiseAllObject",()=>R,"propertyKeyTypes",0,$,"randomString",()=>N,"required",()=>ei,"safeExtend",()=>ee,"shallowClone",()=>j,"stringifyPrimitive",()=>Z,"uint8ArrayToBase64",()=>ep,"uint8ArrayToBase64url",()=>em,"uint8ArrayToHex",()=>ev,"unwrapMessage",()=>es],22143);let ex=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,b,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},eb=o("$ZodError",ex),e_=o("$ZodError",ex,{Parent:Error});function eS(e,t=e=>e.message){let n={},i=[];for(let r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function ew(e,t=e=>e.message){let n={_errors:[]},i=e=>{for(let r of e.issues)if("invalid_union"===r.code&&r.errors.length)r.errors.map(e=>i({issues:e}));else if("invalid_key"===r.code)i({issues:r.issues});else if("invalid_element"===r.code)i({issues:r.issues});else if(0===r.path.length)n._errors.push(t(r));else{let e=n,i=0;for(;i<r.path.length;){let n=r.path[i];i===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(e),n}function eM(e,t=e=>e.message){let n={errors:[]},i=(e,r=[])=>{var a,s;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>i({issues:e},o.path));else if("invalid_key"===o.code)i({issues:o.issues},o.path);else if("invalid_element"===o.code)i({issues:o.issues},o.path);else{let e=[...r,...o.path];if(0===e.length){n.errors.push(t(o));continue}let i=n,l=0;for(;l<e.length;){let n=e[l],r=l===e.length-1;"string"==typeof n?(i.properties??(i.properties={}),(a=i.properties)[n]??(a[n]={errors:[]}),i=i.properties[n]):(i.items??(i.items=[]),(s=i.items)[n]??(s[n]={errors:[]}),i=i.items[n]),r&&i.errors.push(t(o)),l++}}};return i(e),n}function eT(e){let t=[];for(let n of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof n?t.push(`[${n}]`):"symbol"==typeof n?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function eE(e){let t=[];for(let n of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${eT(n.path)}`);return t.join("\n")}e.s(["$ZodError",0,eb,"$ZodRealError",0,e_,"flattenError",()=>eS,"formatError",()=>ew,"prettifyError",()=>eE,"toDotPath",()=>eT,"treeifyError",()=>eM],74969);let eA=e=>(t,n,i,r)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new u;if(s.issues.length){let t=new(r?.Err??e)(s.issues.map(e=>eo(e,a,h())));throw L(t,r?.callee),t}return s.value},eC=eA(e_),eI=e=>async(t,n,i,r)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(r?.Err??e)(s.issues.map(e=>eo(e,a,h())));throw L(t,r?.callee),t}return s.value},eP=eI(e_),ek=e=>(t,n,i)=>{let r=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new u;return a.issues.length?{success:!1,error:new(e??eb)(a.issues.map(e=>eo(e,r,h())))}:{success:!0,data:a.value}},eR=ek(e_),eN=e=>async(t,n,i)=>{let r=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>eo(e,r,h())))}:{success:!0,data:a.value}},eD=eN(e_),eL=e=>(t,n,i)=>{let r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eA(e)(t,n,r)},eU=eL(e_),eO=e=>(t,n,i)=>eA(e)(t,n,i),ez=eO(e_),ej=e=>async(t,n,i)=>{let r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eI(e)(t,n,r)},eF=ej(e_),e$=e=>async(t,n,i)=>eI(e)(t,n,i),eB=e$(e_),eV=e=>(t,n,i)=>{let r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ek(e)(t,n,r)},eG=eV(e_),eH=e=>(t,n,i)=>ek(e)(t,n,i),eW=eH(e_),eZ=e=>async(t,n,i)=>{let r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eN(e)(t,n,r)},eX=eZ(e_),eq=e=>async(t,n,i)=>eN(e)(t,n,i),eY=eq(e_);e.s(["_decode",0,eO,"_decodeAsync",0,e$,"_encode",0,eL,"_encodeAsync",0,ej,"_parse",0,eA,"_parseAsync",0,eI,"_safeDecode",0,eH,"_safeDecodeAsync",0,eq,"_safeEncode",0,eV,"_safeEncodeAsync",0,eZ,"_safeParse",0,ek,"_safeParseAsync",0,eN,"decode",0,ez,"decodeAsync",0,eB,"encode",0,eU,"encodeAsync",0,eF,"parse",0,eC,"parseAsync",0,eP,"safeDecode",0,eW,"safeDecodeAsync",0,eY,"safeEncode",0,eG,"safeEncodeAsync",0,eX,"safeParse",0,eR,"safeParseAsync",0,eD],3108);let eJ=/^[cC][^\s-]{8,}$/,eK=/^[0-9a-z]+$/,eQ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,e0=/^[0-9a-vA-V]{20}$/,e1=/^[A-Za-z0-9]{27}$/,e2=/^[a-zA-Z0-9_-]{21}$/,e3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,e4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,e5=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,e6=e5(4),e8=e5(6),e9=e5(7),e7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,te=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function tt(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let tn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ti=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tr=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ta=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ts=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,to=/^[A-Za-z0-9_-]*$/,tl=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,tu=/^\+(?:[0-9]){6,14}[0-9]$/,tc="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",td=RegExp(`^${tc}$`);function th(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tp(e){return RegExp(`^${th(e)}$`)}function tf(e){let t=th({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${n.join("|")})`;return RegExp(`^${tc}T(?:${i})$`)}let tm=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},tg=/^-?\d+n?$/,tv=/^-?\d+$/,ty=/^-?\d+(?:\.\d+)?/,tx=/^(?:true|false)$/i,tb=/^null$/i,t_=/^undefined$/i,tS=/^[^A-Z]*$/,tw=/^[^a-z]*$/;function tM(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function tT(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let tE=tM(22,"=="),tA=tT(22),tC=tM(27,"="),tI=tT(27),tP=tM(43,"="),tk=tT(43),tR=tM(64,""),tN=tT(64),tD=tM(86,"=="),tL=tT(86);e.s(["base64",0,ts,"base64url",0,to,"bigint",0,tg,"boolean",0,tx,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,tr,"cidrv6",0,ta,"cuid",0,eJ,"cuid2",0,eK,"date",0,td,"datetime",()=>tf,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,e3,"e164",0,tu,"email",0,e7,"emoji",()=>tt,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,e4,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,tl,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,te,"integer",0,tv,"ipv4",0,tn,"ipv6",0,ti,"ksuid",0,e1,"lowercase",0,tS,"md5_base64",0,tE,"md5_base64url",0,tA,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,e2,"null",()=>tb,"number",0,ty,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,tC,"sha1_base64url",0,tI,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,tP,"sha256_base64url",0,tk,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,tR,"sha384_base64url",0,tN,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,tD,"sha512_base64url",0,tL,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,tm,"time",()=>tp,"ulid",0,eQ,"undefined",()=>t_,"unicodeEmail",0,te,"uppercase",0,tw,"uuid",0,e5,"uuid4",0,e6,"uuid6",0,e8,"uuid7",0,e9,"xid",0,e0],82358);let tU=o("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),tO={number:"number",bigint:"bigint",object:"date"},tz=o("$ZodCheckLessThan",(e,t)=>{tU.init(e,t);let n=tO[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,i=(t.inclusive?n.maximum:n.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tj=o("$ZodCheckGreaterThan",(e,t)=>{tU.init(e,t);let n=tO[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,i=(t.inclusive?n.minimum:n.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tF=o("$ZodCheckMultipleOf",(e,t)=>{tU.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===M(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),t$=o("$ZodCheckNumberFormat",(e,t)=>{tU.init(e,t),t.format=t.format||"float64";let n=t.format?.includes("int"),i=n?"int":"number",[r,a]=q[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=r,i.maximum=a,n&&(i.pattern=tv)}),e._zod.check=s=>{let o=s.value;if(n){if(!Number.isInteger(o))return void s.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}o<r&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),tB=o("$ZodCheckBigIntFormat",(e,t)=>{tU.init(e,t);let[n,i]=Y[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=n,r.maximum=i}),e._zod.check=r=>{let a=r.value;a<n&&r.issues.push({origin:"bigint",input:a,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),a>i&&r.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:e})}}),tV=o("$ZodCheckMaxSize",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;i.size<=t.maximum||n.issues.push({origin:el(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tG=o("$ZodCheckMinSize",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;i.size>=t.minimum||n.issues.push({origin:el(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tH=o("$ZodCheckSizeEquals",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{let i=n.value,r=i.size;if(r===t.size)return;let a=r>t.size;n.issues.push({origin:el(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),tW=o("$ZodCheckMaxLength",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;if(i.length<=t.maximum)return;let r=eu(i);n.issues.push({origin:r,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tZ=o("$ZodCheckMinLength",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;if(i.length>=t.minimum)return;let r=eu(i);n.issues.push({origin:r,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tX=o("$ZodCheckLengthEquals",(e,t)=>{var n;tU.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!S(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{let i=n.value,r=i.length;if(r===t.length)return;let a=eu(i),s=r>t.length;n.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),tq=o("$ZodCheckStringFormat",(e,t)=>{var n,i;tU.init(e,t),e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),tY=o("$ZodCheckRegex",(e,t)=>{tq.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),tJ=o("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tS),tq.init(e,t)}),tK=o("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tw),tq.init(e,t)}),tQ=o("$ZodCheckIncludes",(e,t)=>{tU.init(e,t);let n=V(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),t0=o("$ZodCheckStartsWith",(e,t)=>{tU.init(e,t);let n=RegExp(`^${V(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),t1=o("$ZodCheckEndsWith",(e,t)=>{tU.init(e,t);let n=RegExp(`.*${V(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function t2(e,t,n){e.issues.length&&t.issues.push(...ea(n,e.issues))}let t3=o("$ZodCheckProperty",(e,t)=>{tU.init(e,t),e._zod.check=e=>{let n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>t2(n,e,t.property));t2(n,e,t.property)}}),t4=o("$ZodCheckMimeType",(e,t)=>{tU.init(e,t);let n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{n.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),t5=o("$ZodCheckOverwrite",(e,t)=>{tU.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,tU,"$ZodCheckBigIntFormat",0,tB,"$ZodCheckEndsWith",0,t1,"$ZodCheckGreaterThan",0,tj,"$ZodCheckIncludes",0,tQ,"$ZodCheckLengthEquals",0,tX,"$ZodCheckLessThan",0,tz,"$ZodCheckLowerCase",0,tJ,"$ZodCheckMaxLength",0,tW,"$ZodCheckMaxSize",0,tV,"$ZodCheckMimeType",0,t4,"$ZodCheckMinLength",0,tZ,"$ZodCheckMinSize",0,tG,"$ZodCheckMultipleOf",0,tF,"$ZodCheckNumberFormat",0,t$,"$ZodCheckOverwrite",0,t5,"$ZodCheckProperty",0,t3,"$ZodCheckRegex",0,tY,"$ZodCheckSizeEquals",0,tH,"$ZodCheckStartsWith",0,t0,"$ZodCheckStringFormat",0,tq,"$ZodCheckUpperCase",0,tK],55605);class t6{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>t6],98530);let t8={major:4,minor:1,patch:12};e.s(["version",0,t8],98477);let t9=o("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=t8;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let n of t._zod.onattach)n(e);if(0===i.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,n)=>{let i,r=er(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(r)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&n?.async===!1)throw new u;if(i||s instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(r||(r=er(e,t)))});else{if(e.issues.length===t)continue;r||(r=er(e,t))}}return i?i.then(()=>e):e},n=(n,r,a)=>{if(er(n))return n.aborted=!0,n;let s=t(r,i,a);if(s instanceof Promise){if(!1===a.async)throw new u;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if("backward"===a.direction){let t=e._zod.parse({value:r.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,r,a)):n(t,r,a)}let s=e._zod.parse(r,a);if(s instanceof Promise){if(!1===a.async)throw new u;return s.then(e=>t(e,i,a))}return t(s,i,a)}}e["~standard"]={validate:t=>{try{let n=eR(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return eD(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),t7=o("$ZodString",(e,t)=>{t9.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??tm(e._zod.bag),e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=String(n.value)}catch(e){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ne=o("$ZodStringFormat",(e,t)=>{tq.init(e,t),t7.init(e,t)}),nt=o("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=e4),ne.init(e,t)}),nn=o("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=e5(e))}else t.pattern??(t.pattern=e5());ne.init(e,t)}),ni=o("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=e7),ne.init(e,t)}),nr=o("$ZodURL",(e,t)=>{ne.init(e,t),e._zod.check=n=>{try{let i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tl.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch(i){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),na=o("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=tt()),ne.init(e,t)}),ns=o("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=e2),ne.init(e,t)}),no=o("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=eJ),ne.init(e,t)}),nl=o("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=eK),ne.init(e,t)}),nu=o("$ZodULID",(e,t)=>{t.pattern??(t.pattern=eQ),ne.init(e,t)}),nc=o("$ZodXID",(e,t)=>{t.pattern??(t.pattern=e0),ne.init(e,t)}),nd=o("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=e1),ne.init(e,t)}),nh=o("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=tf(t)),ne.init(e,t)}),np=o("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=td),ne.init(e,t)}),nf=o("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=tp(t)),ne.init(e,t)}),nm=o("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=e3),ne.init(e,t)}),ng=o("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=tn),ne.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),nv=o("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ti),ne.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),ny=o("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=tr),ne.init(e,t)}),nx=o("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ta),ne.init(e,t),e._zod.check=n=>{let i=n.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let n=Number(t);if(`${n}`!==t||n<0||n>128)throw Error();new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nb(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let n_=o("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=ts),ne.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{nb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function nS(e){if(!to.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return nb(t.padEnd(4*Math.ceil(t.length/4),"="))}let nw=o("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=to),ne.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{nS(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),nM=o("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tu),ne.init(e,t)});function nT(e,t=null){try{let n=e.split(".");if(3!==n.length)return!1;let[i]=n;if(!i)return!1;let r=JSON.parse(atob(i));if("typ"in r&&r?.typ!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))return!1;return!0}catch{return!1}}let nE=o("$ZodJWT",(e,t)=>{ne.init(e,t),e._zod.check=n=>{nT(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),nA=o("$ZodCustomStringFormat",(e,t)=>{ne.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),nC=o("$ZodNumber",(e,t)=>{t9.init(e,t),e._zod.pattern=e._zod.bag.pattern??ty,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}let r=n.value;if("number"==typeof r&&!Number.isNaN(r)&&Number.isFinite(r))return n;let a="number"==typeof r?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),nI=o("$ZodNumber",(e,t)=>{t$.init(e,t),nC.init(e,t)}),nP=o("$ZodBoolean",(e,t)=>{t9.init(e,t),e._zod.pattern=tx,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch(e){}let r=n.value;return"boolean"==typeof r||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),nk=o("$ZodBigInt",(e,t)=>{t9.init(e,t),e._zod.pattern=tg,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),nR=o("$ZodBigInt",(e,t)=>{tB.init(e,t),nk.init(e,t)}),nN=o("$ZodSymbol",(e,t)=>{t9.init(e,t),e._zod.parse=(t,n)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),nD=o("$ZodUndefined",(e,t)=>{t9.init(e,t),e._zod.pattern=t_,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),nL=o("$ZodNull",(e,t)=>{t9.init(e,t),e._zod.pattern=tb,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),nU=o("$ZodAny",(e,t)=>{t9.init(e,t),e._zod.parse=e=>e}),nO=o("$ZodUnknown",(e,t)=>{t9.init(e,t),e._zod.parse=e=>e}),nz=o("$ZodNever",(e,t)=>{t9.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),nj=o("$ZodVoid",(e,t)=>{t9.init(e,t),e._zod.parse=(t,n)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),nF=o("$ZodDate",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}let r=n.value,a=r instanceof Date;return a&&!Number.isNaN(r.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:r,...a?{received:"Invalid Date"}:{},inst:e}),n}});function n$(e,t,n){e.issues.length&&t.issues.push(...ea(n,e.issues)),t.value[n]=e.value}let nB=o("$ZodArray",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{let r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);let a=[];for(let e=0;e<r.length;e++){let s=r[e],o=t.element._zod.run({value:s,issues:[]},i);o instanceof Promise?a.push(o.then(t=>n$(t,n,e))):n$(o,n,e)}return a.length?Promise.all(a).then(()=>n):n}});function nV(e,t,n,i){e.issues.length&&t.issues.push(...ea(n,e.issues)),void 0===e.value?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function nG(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=X(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function nH(e,t,n,i,r,a){let s=[],o=r.keySet,l=r.catchall._zod,u=l.def.type;for(let r of Object.keys(t)){if(o.has(r))continue;if("never"===u){s.push(r);continue}let a=l.run({value:t[r],issues:[]},i);a instanceof Promise?e.push(a.then(e=>nV(e,n,r,t))):nV(a,n,r,t)}return(s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length)?Promise.all(e).then(()=>n):n}let nW=o("$ZodObject",(e,t)=>{let n;t9.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}let r=_(()=>nG(t));E(e._zod,"propValues",()=>{let e=t.shape,n={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(n[t]??(n[t]=new Set),i.values))n[t].add(e)}return n});let a=t.catchall;e._zod.parse=(t,i)=>{n??(n=r.value);let s=t.value;if(!U(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let o=[],l=n.shape;for(let e of n.keys){let n=l[e]._zod.run({value:s[e],issues:[]},i);n instanceof Promise?o.push(n.then(n=>nV(n,t,e,s))):nV(n,t,e,s)}return a?nH(o,s,t,i,r.value,e):o.length?Promise.all(o).then(()=>t):t}}),nZ=o("$ZodObjectJIT",(e,t)=>{let n,i;nW.init(e,t);let r=e._zod.parse,a=_(()=>nG(t)),s=!d.jitless,o=s&&O.value,l=t.catchall;e._zod.parse=(u,c)=>{i??(i=a.value);let d=u.value;return U(d)?s&&o&&c?.async===!1&&!0!==c.jitless?(n||(n=(e=>{let t=new t6(["shape","payload","ctx"]),n=a.value,i=e=>{let t=D(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let r=Object.create(null),s=0;for(let e of n.keys)r[e]=`key_${s++}`;for(let e of(t.write("const newResult = {};"),n.keys)){let n=r[e],a=D(e);t.write(`const ${n} = ${i(e)};`),t.write(`
        if (${n}.issues.length) {
          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${n}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${n}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,n)=>o(e,t,n)})(t.shape)),u=n(u,c),l)?nH([],d,u,c,i,e):u:r(u,c):(u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u)}});function nX(e,t,n,i){for(let n of e)if(0===n.issues.length)return t.value=n.value,t;let r=e.filter(e=>!er(e));return 1===r.length?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>eo(e,i,h())))}),t)}let nq=o("$ZodUnion",(e,t)=>{t9.init(e,t),E(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),E(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),E(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),E(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>w(e.source)).join("|")})$`)}});let n=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return i(r,a);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},a);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>nX(t,r,e,a)):nX(o,r,e,a)}}),nY=o("$ZodDiscriminatedUnion",(e,t)=>{nq.init(e,t);let n=e._zod.parse;E(e._zod,"propValues",()=>{let e={};for(let n of t.options){let i=n._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let[t,n]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),n))e[t].add(i)}return e});let i=_(()=>{let e=t.options,n=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(n.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,i)}}return n});e._zod.parse=(r,a)=>{let s=r.value;if(!U(s))return r.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),r;let o=i.value.get(s?.[t.discriminator]);return o?o._zod.run(r,a):t.unionFallback?n(r,a):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),r)}}),nJ=o("$ZodIntersection",(e,t)=>{t9.init(e,t),e._zod.parse=(e,n)=>{let i=e.value,r=t.left._zod.run({value:i,issues:[]},n),a=t.right._zod.run({value:i,issues:[]},n);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([t,n])=>nK(e,t,n)):nK(e,r,a)}});function nK(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),er(e))return e;let i=function e(t,n){if(t===n||t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(z(t)&&z(n)){let i=Object.keys(n),r=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...n};for(let i of r){let r=e(t[i],n[i]);if(!r.valid)return{valid:!1,mergeErrorPath:[i,...r.mergeErrorPath]};a[i]=r.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let r=0;r<t.length;r++){let a=e(t[r],n[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,n.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let nQ=o("$ZodTuple",(e,t)=>{t9.init(e,t);let n=t.items,i=n.length-[...n].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(r,a)=>{let s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];let o=[];if(!t.rest){let t=s.length>n.length,a=s.length<i-1;if(t||a)return r.issues.push({...t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let l=-1;for(let e of n){if(++l>=s.length&&l>=i)continue;let t=e._zod.run({value:s[l],issues:[]},a);t instanceof Promise?o.push(t.then(e=>n0(e,r,l))):n0(t,r,l)}if(t.rest)for(let e of s.slice(n.length)){l++;let n=t.rest._zod.run({value:e,issues:[]},a);n instanceof Promise?o.push(n.then(e=>n0(e,r,l))):n0(n,r,l)}return o.length?Promise.all(o).then(()=>r):r}});function n0(e,t,n){e.issues.length&&t.issues.push(...ea(n,e.issues)),t.value[n]=e.value}let n1=o("$ZodRecord",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{let r=n.value;if(!z(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;let a=[];if(t.keyType._zod.values){let s,o=t.keyType._zod.values;for(let e of(n.value={},o))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let s=t.valueType._zod.run({value:r[e],issues:[]},i);s instanceof Promise?a.push(s.then(t=>{t.issues.length&&n.issues.push(...ea(e,t.issues)),n.value[e]=t.value})):(s.issues.length&&n.issues.push(...ea(e,s.issues)),n.value[e]=s.value)}for(let e in r)o.has(e)||(s=s??[]).push(e);s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:s})}else for(let s of(n.value={},Reflect.ownKeys(r))){if("__proto__"===s)continue;let o=t.keyType._zod.run({value:s,issues:[]},i);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(o.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>eo(e,i,h())),input:s,path:[s],inst:e}),n.value[o.value]=o.value;continue}let l=t.valueType._zod.run({value:r[s],issues:[]},i);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&n.issues.push(...ea(s,e.issues)),n.value[o.value]=e.value})):(l.issues.length&&n.issues.push(...ea(s,l.issues)),n.value[o.value]=l.value)}return a.length?Promise.all(a).then(()=>n):n}}),n2=o("$ZodMap",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{let r=n.value;if(!(r instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:r,inst:e}),n;let a=[];for(let[s,o]of(n.value=new Map,r)){let l=t.keyType._zod.run({value:s,issues:[]},i),u=t.valueType._zod.run({value:o,issues:[]},i);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{n3(t,a,n,s,r,e,i)})):n3(l,u,n,s,r,e,i)}return a.length?Promise.all(a).then(()=>n):n}});function n3(e,t,n,i,r,a,s){e.issues.length&&($.has(typeof i)?n.issues.push(...ea(i,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:r,inst:a,issues:e.issues.map(e=>eo(e,s,h()))})),t.issues.length&&($.has(typeof i)?n.issues.push(...ea(i,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:r,inst:a,key:i,issues:t.issues.map(e=>eo(e,s,h()))})),n.value.set(e.value,t.value)}let n4=o("$ZodSet",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{let r=n.value;if(!(r instanceof Set))return n.issues.push({input:r,inst:e,expected:"set",code:"invalid_type"}),n;let a=[];for(let e of(n.value=new Set,r)){let r=t.valueType._zod.run({value:e,issues:[]},i);r instanceof Promise?a.push(r.then(e=>n5(e,n))):n5(r,n)}return a.length?Promise.all(a).then(()=>n):n}});function n5(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let n6=o("$ZodEnum",(e,t)=>{t9.init(e,t);let n=y(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=RegExp(`^(${n.filter(e=>$.has(typeof e)).map(e=>"string"==typeof e?V(e):e.toString()).join("|")})$`),e._zod.parse=(t,r)=>{let a=t.value;return i.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}}),n8=o("$ZodLiteral",(e,t)=>{if(t9.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?V(e):e?V(e.toString()):String(e)).join("|")})$`),e._zod.parse=(n,i)=>{let r=n.value;return e._zod.values.has(r)||n.issues.push({code:"invalid_value",values:t.values,input:r,inst:e}),n}}),n9=o("$ZodFile",(e,t)=>{t9.init(e,t),e._zod.parse=(t,n)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),n7=o("$ZodTransform",(e,t)=>{t9.init(e,t),e._zod.parse=(n,i)=>{if("backward"===i.direction)throw new c(e.constructor.name);let r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(e=>(n.value=e,n));if(r instanceof Promise)throw new u;return n.value=r,n}});function ie(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let it=o("$ZodOptional",(e,t)=>{t9.init(e,t),e._zod.optin="optional",e._zod.optout="optional",E(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),E(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${w(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,n);return i instanceof Promise?i.then(t=>ie(t,e.value)):ie(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),ii=o("$ZodNullable",(e,t)=>{t9.init(e,t),E(e._zod,"optin",()=>t.innerType._zod.optin),E(e._zod,"optout",()=>t.innerType._zod.optout),E(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${w(e.source)}|null)$`):void 0}),E(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),ir=o("$ZodDefault",(e,t)=>{t9.init(e,t),e._zod.optin="optional",E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,n);return i instanceof Promise?i.then(e=>ia(e,t)):ia(i,t)}});function ia(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let is=o("$ZodPrefault",(e,t)=>{t9.init(e,t),e._zod.optin="optional",E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),io=o("$ZodNonOptional",(e,t)=>{t9.init(e,t),E(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,i)=>{let r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(t=>il(t,e)):il(r,e)}});function il(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let iu=o("$ZodSuccess",(e,t)=>{t9.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new c("ZodSuccess");let i=t.innerType._zod.run(e,n);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),ic=o("$ZodCatch",(e,t)=>{t9.init(e,t),E(e._zod,"optin",()=>t.innerType._zod.optin),E(e._zod,"optout",()=>t.innerType._zod.optout),E(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);let i=t.innerType._zod.run(e,n);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eo(e,n,h()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eo(e,n,h()))},input:e.value}),e.issues=[]),e)}}),id=o("$ZodNaN",(e,t)=>{t9.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),ih=o("$ZodPipe",(e,t)=>{t9.init(e,t),E(e._zod,"values",()=>t.in._zod.values),E(e._zod,"optin",()=>t.in._zod.optin),E(e._zod,"optout",()=>t.out._zod.optout),E(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){let i=t.out._zod.run(e,n);return i instanceof Promise?i.then(e=>ip(e,t.in,n)):ip(i,t.in,n)}let i=t.in._zod.run(e,n);return i instanceof Promise?i.then(e=>ip(e,t.out,n)):ip(i,t.out,n)}});function ip(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}let im=o("$ZodCodec",(e,t)=>{t9.init(e,t),E(e._zod,"values",()=>t.in._zod.values),E(e._zod,"optin",()=>t.in._zod.optin),E(e._zod,"optout",()=>t.out._zod.optout),E(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){let i=t.in._zod.run(e,n);return i instanceof Promise?i.then(e=>ig(e,t,n)):ig(i,t,n)}{let i=t.out._zod.run(e,n);return i instanceof Promise?i.then(e=>ig(e,t,n)):ig(i,t,n)}}});function ig(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>iv(e,i,t.out,n)):iv(e,i,t.out,n)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>iv(e,i,t.in,n)):iv(e,i,t.in,n)}}function iv(e,t,n,i){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},i)}let iy=o("$ZodReadonly",(e,t)=>{t9.init(e,t),E(e._zod,"propValues",()=>t.innerType._zod.propValues),E(e._zod,"values",()=>t.innerType._zod.values),E(e._zod,"optin",()=>t.innerType._zod.optin),E(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);let i=t.innerType._zod.run(e,n);return i instanceof Promise?i.then(ix):ix(i)}});function ix(e){return e.value=Object.freeze(e.value),e}let ib=o("$ZodTemplateLiteral",(e,t)=>{t9.init(e,t);let n=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),r=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(i,r))}else if(null===e||B.has(typeof e))n.push(V(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${n.join("")}$`),e._zod.parse=(n,i)=>("string"!=typeof n.value?n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),n)}),i_=o("$ZodFunction",(e,t)=>(t9.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...n){let i=Reflect.apply(t,this,e._def.input?eC(e._def.input,n):n);return e._def.output?eC(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...n){let i=e._def.input?await eP(e._def.input,n):n,r=await Reflect.apply(t,this,i);return e._def.output?await eP(e._def.output,r):r}},e._zod.parse=(t,n)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let n=e.constructor;return new n(Array.isArray(t[0])?{type:"function",input:new nQ({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),iS=o("$ZodPromise",(e,t)=>{t9.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),iw=o("$ZodLazy",(e,t)=>{t9.init(e,t),E(e._zod,"innerType",()=>t.getter()),E(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),E(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),E(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),E(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),iM=o("$ZodCustom",(e,t)=>{tU.init(e,t),t9.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{let i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(t=>iT(t,n,i,e));iT(r,n,i,e)}});function iT(e,t,n,i){if(!e){let e={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(ec(e))}}function iE(e,t,n,i){let r=Math.abs(e),a=r%10,s=r%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?n:i}function iA(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Invalid input: expected ${Z(n.values[0])}`;return`Invalid option: expected one of ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Too big: expected ${n.origin??"value"} to have ${t}${n.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${n.origin??"value"} to be ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Too small: expected ${n.origin} to have ${t}${n.minimum.toString()} ${i.unit}`;return`Too small: expected ${n.origin} to be ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Invalid string: must start with "${n.prefix}"`;if("ends_with"===n.format)return`Invalid string: must end with "${n.suffix}"`;if("includes"===n.format)return`Invalid string: must include "${n.includes}"`;if("regex"===n.format)return`Invalid string: must match pattern ${n.pattern}`;return`Invalid ${t[n.format]??n.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`}})}}function iC(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return`  ${n.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`  ${Z(n.values[0])}`;return`  ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`  ${n.origin??""} ${t} ${n.maximum.toString()} ${i.unit??""}`;return`  ${n.origin??""} ${t} ${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`  ${n.origin} ${t} ${n.minimum.toString()} ${i.unit}`;return`  ${n.origin} ${t} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`  "${n.prefix}"`;if("ends_with"===n.format)return`  "${n.suffix}"`;if("includes"===n.format)return`  "${n.includes}"`;if("regex"===n.format)return`  ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return`  ${n.divisor}`;case"unrecognized_keys":return` ${x(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${n.origin}`}})}}e.s(["$ZodAny",0,nU,"$ZodArray",0,nB,"$ZodBase64",0,n_,"$ZodBase64URL",0,nw,"$ZodBigInt",0,nk,"$ZodBigIntFormat",0,nR,"$ZodBoolean",0,nP,"$ZodCIDRv4",0,ny,"$ZodCIDRv6",0,nx,"$ZodCUID",0,no,"$ZodCUID2",0,nl,"$ZodCatch",0,ic,"$ZodCodec",0,im,"$ZodCustom",0,iM,"$ZodCustomStringFormat",0,nA,"$ZodDate",0,nF,"$ZodDefault",0,ir,"$ZodDiscriminatedUnion",0,nY,"$ZodE164",0,nM,"$ZodEmail",0,ni,"$ZodEmoji",0,na,"$ZodEnum",0,n6,"$ZodFile",0,n9,"$ZodFunction",0,i_,"$ZodGUID",0,nt,"$ZodIPv4",0,ng,"$ZodIPv6",0,nv,"$ZodISODate",0,np,"$ZodISODateTime",0,nh,"$ZodISODuration",0,nm,"$ZodISOTime",0,nf,"$ZodIntersection",0,nJ,"$ZodJWT",0,nE,"$ZodKSUID",0,nd,"$ZodLazy",0,iw,"$ZodLiteral",0,n8,"$ZodMap",0,n2,"$ZodNaN",0,id,"$ZodNanoID",0,ns,"$ZodNever",0,nz,"$ZodNonOptional",0,io,"$ZodNull",0,nL,"$ZodNullable",0,ii,"$ZodNumber",0,nC,"$ZodNumberFormat",0,nI,"$ZodObject",0,nW,"$ZodObjectJIT",0,nZ,"$ZodOptional",0,it,"$ZodPipe",0,ih,"$ZodPrefault",0,is,"$ZodPromise",0,iS,"$ZodReadonly",0,iy,"$ZodRecord",0,n1,"$ZodSet",0,n4,"$ZodString",0,t7,"$ZodStringFormat",0,ne,"$ZodSuccess",0,iu,"$ZodSymbol",0,nN,"$ZodTemplateLiteral",0,ib,"$ZodTransform",0,n7,"$ZodTuple",0,nQ,"$ZodType",0,t9,"$ZodULID",0,nu,"$ZodURL",0,nr,"$ZodUUID",0,nn,"$ZodUndefined",0,nD,"$ZodUnion",0,nq,"$ZodUnknown",0,nO,"$ZodVoid",0,nj,"$ZodXID",0,nc,"isValidBase64",()=>nb,"isValidBase64URL",()=>nS,"isValidJWT",()=>nT],76094);let iI=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},iP=e=>e.charAt(0).toUpperCase()+e.slice(1);function ik(e){let t=Math.abs(e),n=t%10,i=t%100;return i>=11&&i<=19||0===n?"many":1===n?"one":"few"}function iR(e,t,n,i){let r=Math.abs(e),a=r%10,s=r%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?n:i}function iN(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},n=>{switch(n.code){case"invalid_type":return`  :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`  :  ${Z(n.values[0])}`;return` :    ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` : ,  ${n.origin??""} ${i.verb} ${t}${n.maximum.toString()} ${i.unit??""}`;return` : ,  ${n.origin??""}  ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` : ,  ${n.origin} ${i.verb} ${t}${n.minimum.toString()} ${i.unit}`;return` : ,  ${n.origin}  ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` :    "${n.prefix}"`;if("ends_with"===n.format)return` :    "${n.suffix}"`;if("includes"===n.format)return` :   "${n.includes}"`;if("regex"===n.format)return` :    ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return`  `}})}}e.s([],43365);let iD=Symbol("ZodOutput"),iL=Symbol("ZodInput");class iU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let n={...this.get(t)??{}};delete n.id;let i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function iO(){return new iU}let iz=iO();function ij(e,t){return new e({type:"string",...H(t)})}function iF(e,t){return new e({type:"string",coerce:!0,...H(t)})}function i$(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...H(t)})}function iB(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...H(t)})}function iV(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...H(t)})}function iG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...H(t)})}function iH(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...H(t)})}function iW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...H(t)})}function iZ(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...H(t)})}function iX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...H(t)})}function iq(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...H(t)})}function iY(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...H(t)})}function iJ(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...H(t)})}function iK(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...H(t)})}function iQ(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...H(t)})}function i0(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...H(t)})}function i1(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...H(t)})}function i2(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...H(t)})}function i3(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...H(t)})}function i4(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...H(t)})}function i5(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...H(t)})}function i6(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...H(t)})}function i8(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...H(t)})}function i9(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...H(t)})}e.s(["$ZodRegistry",()=>iU,"$input",0,iL,"$output",0,iD,"globalRegistry",0,iz,"registry",()=>iO],25527);let i7={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function re(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...H(t)})}function rt(e,t){return new e({type:"string",format:"date",check:"string_format",...H(t)})}function rn(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...H(t)})}function ri(e,t){return new e({type:"string",format:"duration",check:"string_format",...H(t)})}function rr(e,t){return new e({type:"number",checks:[],...H(t)})}function ra(e,t){return new e({type:"number",coerce:!0,checks:[],...H(t)})}function rs(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...H(t)})}function ro(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...H(t)})}function rl(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...H(t)})}function ru(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...H(t)})}function rc(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...H(t)})}function rd(e,t){return new e({type:"boolean",...H(t)})}function rh(e,t){return new e({type:"boolean",coerce:!0,...H(t)})}function rp(e,t){return new e({type:"bigint",...H(t)})}function rf(e,t){return new e({type:"bigint",coerce:!0,...H(t)})}function rm(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...H(t)})}function rg(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...H(t)})}function rv(e,t){return new e({type:"symbol",...H(t)})}function ry(e,t){return new e({type:"undefined",...H(t)})}function rx(e,t){return new e({type:"null",...H(t)})}function rb(e){return new e({type:"any"})}function r_(e){return new e({type:"unknown"})}function rS(e,t){return new e({type:"never",...H(t)})}function rw(e,t){return new e({type:"void",...H(t)})}function rM(e,t){return new e({type:"date",...H(t)})}function rT(e,t){return new e({type:"date",coerce:!0,...H(t)})}function rE(e,t){return new e({type:"nan",...H(t)})}function rA(e,t){return new tz({check:"less_than",...H(t),value:e,inclusive:!1})}function rC(e,t){return new tz({check:"less_than",...H(t),value:e,inclusive:!0})}function rI(e,t){return new tj({check:"greater_than",...H(t),value:e,inclusive:!1})}function rP(e,t){return new tj({check:"greater_than",...H(t),value:e,inclusive:!0})}function rk(e){return rI(0,e)}function rR(e){return rA(0,e)}function rN(e){return rC(0,e)}function rD(e){return rP(0,e)}function rL(e,t){return new tF({check:"multiple_of",...H(t),value:e})}function rU(e,t){return new tV({check:"max_size",...H(t),maximum:e})}function rO(e,t){return new tG({check:"min_size",...H(t),minimum:e})}function rz(e,t){return new tH({check:"size_equals",...H(t),size:e})}function rj(e,t){return new tW({check:"max_length",...H(t),maximum:e})}function rF(e,t){return new tZ({check:"min_length",...H(t),minimum:e})}function r$(e,t){return new tX({check:"length_equals",...H(t),length:e})}function rB(e,t){return new tY({check:"string_format",format:"regex",...H(t),pattern:e})}function rV(e){return new tJ({check:"string_format",format:"lowercase",...H(e)})}function rG(e){return new tK({check:"string_format",format:"uppercase",...H(e)})}function rH(e,t){return new tQ({check:"string_format",format:"includes",...H(t),includes:e})}function rW(e,t){return new t0({check:"string_format",format:"starts_with",...H(t),prefix:e})}function rZ(e,t){return new t1({check:"string_format",format:"ends_with",...H(t),suffix:e})}function rX(e,t,n){return new t3({check:"property",property:e,schema:t,...H(n)})}function rq(e,t){return new t4({check:"mime_type",mime:e,...H(t)})}function rY(e){return new t5({check:"overwrite",tx:e})}function rJ(e){return rY(t=>t.normalize(e))}function rK(){return rY(e=>e.trim())}function rQ(){return rY(e=>e.toLowerCase())}function r0(){return rY(e=>e.toUpperCase())}function r1(e,t,n){return new e({type:"array",element:t,...H(n)})}function r2(e,t,n){return new e({type:"union",options:t,...H(n)})}function r3(e,t,n,i){return new e({type:"union",options:n,discriminator:t,...H(i)})}function r4(e,t,n){return new e({type:"intersection",left:t,right:n})}function r5(e,t,n,i){let r=n instanceof t9,a=r?i:n;return new e({type:"tuple",items:t,rest:r?n:null,...H(a)})}function r6(e,t,n,i){return new e({type:"record",keyType:t,valueType:n,...H(i)})}function r8(e,t,n,i){return new e({type:"map",keyType:t,valueType:n,...H(i)})}function r9(e,t,n){return new e({type:"set",valueType:t,...H(n)})}function r7(e,t,n){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...H(n)})}function ae(e,t,n){return new e({type:"enum",entries:t,...H(n)})}function at(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...H(n)})}function an(e,t){return new e({type:"file",...H(t)})}function ai(e,t){return new e({type:"transform",transform:t})}function ar(e,t){return new e({type:"optional",innerType:t})}function aa(e,t){return new e({type:"nullable",innerType:t})}function as(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():j(n)}})}function ao(e,t,n){return new e({type:"nonoptional",innerType:t,...H(n)})}function al(e,t){return new e({type:"success",innerType:t})}function au(e,t,n){return new e({type:"catch",innerType:t,catchValue:"function"==typeof n?n:()=>n})}function ac(e,t,n){return new e({type:"pipe",in:t,out:n})}function ad(e,t){return new e({type:"readonly",innerType:t})}function ah(e,t,n){return new e({type:"template_literal",parts:t,...H(n)})}function ap(e,t){return new e({type:"lazy",getter:t})}function af(e,t){return new e({type:"promise",innerType:t})}function am(e,t,n){let i=H(n);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function ag(e,t,n){return new e({type:"custom",check:"custom",fn:t,...H(n)})}function av(e){let t=ay(n=>(n.addIssue=e=>{"string"==typeof e?n.issues.push(ec(e,n.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=n.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),n.issues.push(ec(e)))},e(n.value,n)));return t}function ay(e,t){let n=new tU({check:"custom",...H(t)});return n._zod.check=e,n}function ax(e,t){let n=H(t),i=n.truthy??["true","1","yes","on","y","enabled"],r=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),r=r.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(i),s=new Set(r),o=e.Codec??im,l=e.Boolean??nP,u=new o({type:"pipe",in:new(e.String??t7)({type:"string",error:n.error}),out:new l({type:"boolean",error:n.error}),transform:(e,t)=>{let i=e;return"sensitive"!==n.case&&(i=i.toLowerCase()),!!a.has(i)||!s.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":r[0]||"false",error:n.error});return u}function ab(e,t,n,i={}){let r=H(i),a={...H(i),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...r};return n instanceof RegExp&&(a.pattern=n),new e(a)}e.s(["TimePrecision",0,i7,"_any",()=>rb,"_array",()=>r1,"_base64",()=>i5,"_base64url",()=>i6,"_bigint",()=>rp,"_boolean",()=>rd,"_catch",()=>au,"_check",()=>ay,"_cidrv4",()=>i3,"_cidrv6",()=>i4,"_coercedBigint",()=>rf,"_coercedBoolean",()=>rh,"_coercedDate",()=>rT,"_coercedNumber",()=>ra,"_coercedString",()=>iF,"_cuid",()=>iY,"_cuid2",()=>iJ,"_custom",()=>am,"_date",()=>rM,"_default",()=>as,"_discriminatedUnion",()=>r3,"_e164",()=>i8,"_email",()=>i$,"_emoji",()=>iX,"_endsWith",()=>rZ,"_enum",()=>r7,"_file",()=>an,"_float32",()=>ro,"_float64",()=>rl,"_gt",()=>rI,"_gte",()=>rP,"_guid",()=>iB,"_includes",()=>rH,"_int",()=>rs,"_int32",()=>ru,"_int64",()=>rm,"_intersection",()=>r4,"_ipv4",()=>i1,"_ipv6",()=>i2,"_isoDate",()=>rt,"_isoDateTime",()=>re,"_isoDuration",()=>ri,"_isoTime",()=>rn,"_jwt",()=>i9,"_ksuid",()=>i0,"_lazy",()=>ap,"_length",()=>r$,"_literal",()=>at,"_lowercase",()=>rV,"_lt",()=>rA,"_lte",()=>rC,"_map",()=>r8,"_max",()=>rC,"_maxLength",()=>rj,"_maxSize",()=>rU,"_mime",()=>rq,"_min",()=>rP,"_minLength",()=>rF,"_minSize",()=>rO,"_multipleOf",()=>rL,"_nan",()=>rE,"_nanoid",()=>iq,"_nativeEnum",()=>ae,"_negative",()=>rR,"_never",()=>rS,"_nonnegative",()=>rD,"_nonoptional",()=>ao,"_nonpositive",()=>rN,"_normalize",()=>rJ,"_null",()=>rx,"_nullable",()=>aa,"_number",()=>rr,"_optional",()=>ar,"_overwrite",()=>rY,"_pipe",()=>ac,"_positive",()=>rk,"_promise",()=>af,"_property",()=>rX,"_readonly",()=>ad,"_record",()=>r6,"_refine",()=>ag,"_regex",()=>rB,"_set",()=>r9,"_size",()=>rz,"_startsWith",()=>rW,"_string",()=>ij,"_stringFormat",()=>ab,"_stringbool",()=>ax,"_success",()=>al,"_superRefine",()=>av,"_symbol",()=>rv,"_templateLiteral",()=>ah,"_toLowerCase",()=>rQ,"_toUpperCase",()=>r0,"_transform",()=>ai,"_trim",()=>rK,"_tuple",()=>r5,"_uint32",()=>rc,"_uint64",()=>rg,"_ulid",()=>iK,"_undefined",()=>ry,"_union",()=>r2,"_unknown",()=>r_,"_uppercase",()=>rG,"_url",()=>iZ,"_uuid",()=>iV,"_uuidv4",()=>iG,"_uuidv6",()=>iH,"_uuidv7",()=>iW,"_void",()=>rw,"_xid",()=>iQ],50215);class a_{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??iz,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;let i=e._zod.def,r=this.seen.get(e);if(r)return r.count++,t.schemaPath.includes(e)&&(r.cycle=t.path),r.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{let n={...t,schemaPath:[...t.schemaPath,e],path:t.path},r=e._zod.parent;if(r)a.ref=r,this.process(r,n),this.seen.get(r).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{t.type="string";let{minimum:n,maximum:i,format:r,patterns:s,contentEncoding:o}=e._zod.bag;if("number"==typeof n&&(t.minLength=n),"number"==typeof i&&(t.maxLength=i),r&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[r]??r,""===t.format&&delete t.format),o&&(t.contentEncoding=o),s&&s.size>0){let e=[...s];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:n,maximum:i,format:r,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:o}=e._zod.bag;"string"==typeof r&&r.includes("int")?t.type="integer":t.type="number","number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=o,t.exclusiveMinimum=!0):t.exclusiveMinimum=o),"number"==typeof n&&(t.minimum=n,"number"==typeof o&&"draft-4"!==this.target&&(o>=n?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"==typeof i&&(t.maximum=i,"number"==typeof s&&"draft-4"!==this.target&&(s<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:r,maximum:a}=e._zod.bag;"number"==typeof r&&(t.minItems=r),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(i.element,{...n,path:[...n.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=i.shape;for(let i in e)t.properties[i]=this.process(e[i],{...n,path:[...n.path,"properties",i]});let r=new Set([...new Set(Object.keys(e))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));r.size>0&&(t.required=Array.from(r)),i.catchall?._zod.def.type==="never"?t.additionalProperties=!1:i.catchall?i.catchall&&(t.additionalProperties=this.process(i.catchall,{...n,path:[...n.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":t.anyOf=i.options.map((e,t)=>this.process(e,{...n,path:[...n.path,"anyOf",t]}));break;case"intersection":{let e=this.process(i.left,{...n,path:[...n.path,"allOf",0]}),r=this.process(i.right,{...n,path:[...n.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(r)?r.allOf:[r]];break}case"tuple":{t.type="array";let r="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map((e,t)=>this.process(e,{...n,path:[...n.path,r,t]})),o=i.rest?this.process(i.rest,{...n,path:[...n.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=s,o&&(t.items=o)):"openapi-3.0"===this.target?(t.items={anyOf:s},o&&t.items.anyOf.push(o),t.minItems=s.length,o||(t.maxItems=s.length)):(t.items=s,o&&(t.additionalItems=o));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(i.keyType,{...n,path:[...n.path,"propertyNames"]})),t.additionalProperties=this.process(i.valueType,{...n,path:[...n.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=y(i.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of i.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let n=e[0];t.type=null===n?"null":typeof n,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[n]:t.const=n}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let n={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:r,mime:a}=e._zod.bag;void 0!==i&&(n.minLength=i),void 0!==r&&(n.maxLength=r),a?1===a.length?(n.contentMediaType=a[0],Object.assign(t,n)):t.anyOf=a.map(e=>({...n,contentMediaType:e})):Object.assign(t,n);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,n);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,n),a.ref=i.innerType;break;case"default":this.process(i.innerType,n),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,n),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,n),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let n=e._zod.pattern;if(!n)throw Error("Pattern not found in template literal");t.type="string",t.pattern=n.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,n),a.ref=e;break}case"readonly":this.process(i.innerType,n),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,n),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let o=this.metadataRegistry.get(e);return o&&Object.assign(a.schema,o),"input"===this.io&&function e(t,n){let i=n??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);let r=t._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return e(r.element,i);case"object":for(let t in r.shape)if(e(r.shape[t],i))return!0;return!1;case"union":for(let t of r.options)if(e(t,i))return!0;return!1;case"intersection":return e(r.left,i)||e(r.right,i);case"tuple":for(let t of r.items)if(e(t,i))return!0;if(r.rest&&e(r.rest,i))return!0;return!1;case"record":case"map":return e(r.keyType,i)||e(r.valueType,i);case"set":return e(r.valueType,i);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return e(r.innerType,i);case"lazy":return e(r.getter(),i);case"transform":return!0;case"pipe":return e(r.in,i)||e(r.out,i)}throw Error(`Unknown schema type: ${r.type}`)}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let r=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(n.external){let i=n.external.registry.get(e[0])?.id,r=n.external.uri??(e=>e);if(i)return{ref:r(i)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${r("__shared")}#/${t}/${a}`}}if(e[1]===i)return{ref:"#"};let r=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:r+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:n,defId:i}=r(e);t.def={...t.schema},i&&(t.defId=i);let a=t.schema;for(let e in a)delete a[e];a.$ref=n};if("throw"===n.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){a(t);continue}if(n.external){let i=n.external.registry.get(t[0])?.id;if(e!==t[0]&&i){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===n.reused){a(t);continue}}let s=(e,t)=>{let n=this.seen.get(e),i=n.def??n.schema,r={...i};if(null===n.ref)return;let a=n.ref;if(n.ref=null,a){s(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,r))}n.isParent||this.override({zodSchema:e,jsonSchema:i,path:n.path??[]})};for(let e of[...this.seen.entries()].reverse())s(e[0],{target:this.target});let o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?o.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let t=n.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");o.$id=n.external.uri(t)}Object.assign(o,i.def);let l=n.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}n.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?o.$defs=l:o.definitions=l);try{return JSON.parse(JSON.stringify(o))}catch(e){throw Error("Error converting schema to JSON.")}}}function aS(e,t){if(e instanceof iU){let n=new a_(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;n.process(i)}let r={},a={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,s]=i;r[e]=n.emit(s,{...t,external:a})}return Object.keys(i).length>0&&(r.__shared={["draft-2020-12"===n.target?"$defs":"definitions"]:i}),{schemas:r}}let n=new a_(t);return n.process(e),n.emit(e,t)}e.s(["JSONSchemaGenerator",()=>a_,"toJSONSchema",()=>aS],34966),e.s([],18249),e.s([],92135),e.s(["ZodAny",()=>s3,"ZodArray",()=>oi,"ZodBase64",()=>sw,"ZodBase64URL",()=>sT,"ZodBigInt",()=>sW,"ZodBigIntFormat",()=>sX,"ZodBoolean",()=>sG,"ZodCIDRv4",()=>sx,"ZodCIDRv6",()=>s_,"ZodCUID",()=>sa,"ZodCUID2",()=>so,"ZodCatch",()=>oZ,"ZodCodec",()=>oQ,"ZodCustom",()=>lt,"ZodCustomStringFormat",()=>sk,"ZodDate",()=>ot,"ZodDefault",()=>oj,"ZodDiscriminatedUnion",()=>oh,"ZodE164",()=>sA,"ZodEmail",()=>aQ,"ZodEmoji",()=>st,"ZodEnum",()=>oT,"ZodFile",()=>oP,"ZodFunction",()=>o7,"ZodGUID",()=>a1,"ZodIPv4",()=>sm,"ZodIPv6",()=>sv,"ZodIntersection",()=>of,"ZodJWT",()=>sI,"ZodKSUID",()=>sp,"ZodLazy",()=>o5,"ZodLiteral",()=>oC,"ZodMap",()=>o_,"ZodNaN",()=>oq,"ZodNanoID",()=>si,"ZodNever",()=>s8,"ZodNonOptional",()=>oV,"ZodNull",()=>s1,"ZodNullable",()=>oU,"ZodNumber",()=>sU,"ZodNumberFormat",()=>sz,"ZodObject",()=>os,"ZodOptional",()=>oD,"ZodPipe",()=>oJ,"ZodPrefault",()=>o$,"ZodPromise",()=>o8,"ZodReadonly",()=>o1,"ZodRecord",()=>oy,"ZodSet",()=>ow,"ZodString",()=>aY,"ZodStringFormat",()=>aK,"ZodSuccess",()=>oH,"ZodSymbol",()=>sJ,"ZodTemplateLiteral",()=>o3,"ZodTransform",()=>oR,"ZodTuple",()=>og,"ZodType",()=>aX,"ZodULID",()=>su,"ZodURL",()=>a9,"ZodUUID",()=>a3,"ZodUndefined",()=>sQ,"ZodUnion",()=>oc,"ZodUnknown",()=>s5,"ZodVoid",()=>s7,"ZodXID",()=>sd,"_ZodString",()=>aq,"_default",()=>oF,"_function",()=>le,"any",()=>s4,"array",()=>or,"base64",()=>sM,"base64url",()=>sE,"bigint",()=>sZ,"boolean",()=>sH,"catch",()=>oX,"check",()=>ln,"cidrv4",()=>sb,"cidrv6",()=>sS,"codec",()=>o0,"cuid",()=>ss,"cuid2",()=>sl,"custom",()=>li,"date",()=>on,"discriminatedUnion",()=>op,"e164",()=>sC,"email",()=>a0,"emoji",()=>sn,"enum",()=>oE,"file",()=>ok,"float32",()=>sF,"float64",()=>s$,"function",()=>le,"guid",()=>a2,"hash",()=>sL,"hex",()=>sD,"hostname",()=>sN,"httpUrl",()=>se,"instanceof",()=>ls,"int",()=>sj,"int32",()=>sB,"int64",()=>sq,"intersection",()=>om,"ipv4",()=>sg,"ipv6",()=>sy,"json",()=>ll,"jwt",()=>sP,"keyof",()=>oa,"ksuid",()=>sf,"lazy",()=>o6,"literal",()=>oI,"looseObject",()=>ou,"map",()=>oS,"nan",()=>oY,"nanoid",()=>sr,"nativeEnum",()=>oA,"never",()=>s9,"nonoptional",()=>oG,"null",()=>s2,"nullable",()=>oO,"nullish",()=>oz,"number",()=>sO,"object",()=>oo,"optional",()=>oL,"partialRecord",()=>ob,"pipe",()=>oK,"prefault",()=>oB,"preprocess",()=>lu,"promise",()=>o9,"readonly",()=>o2,"record",()=>ox,"refine",()=>lr,"set",()=>oM,"strictObject",()=>ol,"string",()=>aJ,"stringFormat",()=>sR,"stringbool",()=>lo,"success",()=>oW,"superRefine",()=>la,"symbol",()=>sK,"templateLiteral",()=>o4,"transform",()=>oN,"tuple",()=>ov,"uint32",()=>sV,"uint64",()=>sY,"ulid",()=>sc,"undefined",()=>s0,"union",()=>od,"unknown",()=>s6,"url",()=>a7,"uuid",()=>a4,"uuidv4",()=>a5,"uuidv6",()=>a6,"uuidv7",()=>a8,"void",()=>oe,"xid",()=>sh],62201),e.i(76094),e.s(["$ZodAny",0,nU,"$ZodArray",0,nB,"$ZodBase64",0,n_,"$ZodBase64URL",0,nw,"$ZodBigInt",0,nk,"$ZodBigIntFormat",0,nR,"$ZodBoolean",0,nP,"$ZodCIDRv4",0,ny,"$ZodCIDRv6",0,nx,"$ZodCUID",0,no,"$ZodCUID2",0,nl,"$ZodCatch",0,ic,"$ZodCodec",0,im,"$ZodCustom",0,iM,"$ZodCustomStringFormat",0,nA,"$ZodDate",0,nF,"$ZodDefault",0,ir,"$ZodDiscriminatedUnion",0,nY,"$ZodE164",0,nM,"$ZodEmail",0,ni,"$ZodEmoji",0,na,"$ZodEnum",0,n6,"$ZodFile",0,n9,"$ZodFunction",0,i_,"$ZodGUID",0,nt,"$ZodIPv4",0,ng,"$ZodIPv6",0,nv,"$ZodISODate",0,np,"$ZodISODateTime",0,nh,"$ZodISODuration",0,nm,"$ZodISOTime",0,nf,"$ZodIntersection",0,nJ,"$ZodJWT",0,nE,"$ZodKSUID",0,nd,"$ZodLazy",0,iw,"$ZodLiteral",0,n8,"$ZodMap",0,n2,"$ZodNaN",0,id,"$ZodNanoID",0,ns,"$ZodNever",0,nz,"$ZodNonOptional",0,io,"$ZodNull",0,nL,"$ZodNullable",0,ii,"$ZodNumber",0,nC,"$ZodNumberFormat",0,nI,"$ZodObject",0,nW,"$ZodObjectJIT",0,nZ,"$ZodOptional",0,it,"$ZodPipe",0,ih,"$ZodPrefault",0,is,"$ZodPromise",0,iS,"$ZodReadonly",0,iy,"$ZodRecord",0,n1,"$ZodSet",0,n4,"$ZodString",0,t7,"$ZodStringFormat",0,ne,"$ZodSuccess",0,iu,"$ZodSymbol",0,nN,"$ZodTemplateLiteral",0,ib,"$ZodTransform",0,n7,"$ZodTuple",0,nQ,"$ZodType",0,t9,"$ZodULID",0,nu,"$ZodURL",0,nr,"$ZodUUID",0,nn,"$ZodUndefined",0,nD,"$ZodUnion",0,nq,"$ZodUnknown",0,nO,"$ZodVoid",0,nj,"$ZodXID",0,nc,"clone",()=>G,"isValidBase64",()=>nb,"isValidBase64URL",()=>nS,"isValidJWT",()=>nT],32952);var aw=e.i(82358),aw=aw,aM=e.i(22143),aM=aM;e.s([],42332),e.s(["ZodISODate",()=>aA,"ZodISODateTime",()=>aT,"ZodISODuration",()=>ak,"ZodISOTime",()=>aI,"date",()=>aC,"datetime",()=>aE,"duration",()=>aR,"time",()=>aP],49732);let aT=o("ZodISODateTime",(e,t)=>{nh.init(e,t),aK.init(e,t)});function aE(e){return re(aT,e)}let aA=o("ZodISODate",(e,t)=>{np.init(e,t),aK.init(e,t)});function aC(e){return rt(aA,e)}let aI=o("ZodISOTime",(e,t)=>{nf.init(e,t),aK.init(e,t)});function aP(e){return rn(aI,e)}let ak=o("ZodISODuration",(e,t)=>{nm.init(e,t),aK.init(e,t)});function aR(e){return ri(ak,e)}let aN=(e,t)=>{eb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>ew(e,t)},flatten:{value:t=>eS(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,b,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,b,2)}},isEmpty:{get:()=>0===e.issues.length}})},aD=o("ZodError",aN),aL=o("ZodError",aN,{Parent:Error});e.s(["ZodError",0,aD,"ZodRealError",0,aL],89282);let aU=eA(aL),aO=eI(aL),az=ek(aL),aj=eN(aL),aF=eL(aL),a$=eO(aL),aB=ej(aL),aV=e$(aL),aG=eV(aL),aH=eH(aL),aW=eZ(aL),aZ=eq(aL);e.s(["decode",0,a$,"decodeAsync",0,aV,"encode",0,aF,"encodeAsync",0,aB,"parse",0,aU,"parseAsync",0,aO,"safeDecode",0,aH,"safeDecodeAsync",0,aZ,"safeEncode",0,aG,"safeEncodeAsync",0,aW,"safeParse",0,az,"safeParseAsync",0,aj],364);let aX=o("ZodType",(e,t)=>(t9.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(aM.mergeDefs(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,n)=>G(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>aU(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>az(e,t,n),e.parseAsync=async(t,n)=>aO(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>aj(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>aF(e,t,n),e.decode=(t,n)=>a$(e,t,n),e.encodeAsync=async(t,n)=>aB(e,t,n),e.decodeAsync=async(t,n)=>aV(e,t,n),e.safeEncode=(t,n)=>aG(e,t,n),e.safeDecode=(t,n)=>aH(e,t,n),e.safeEncodeAsync=async(t,n)=>aW(e,t,n),e.safeDecodeAsync=async(t,n)=>aZ(e,t,n),e.refine=(t,n)=>e.check(lr(t,n)),e.superRefine=t=>e.check(av(t)),e.overwrite=t=>e.check(rY(t)),e.optional=()=>oL(e),e.nullable=()=>oO(e),e.nullish=()=>oL(oO(e)),e.nonoptional=t=>oG(e,t),e.array=()=>or(e),e.or=t=>od([e,t]),e.and=t=>om(e,t),e.transform=t=>oK(e,oN(t)),e.default=t=>oF(e,t),e.prefault=t=>oB(e,t),e.catch=t=>oX(e,t),e.pipe=t=>oK(e,t),e.readonly=()=>o2(e),e.describe=t=>{let n=e.clone();return iz.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>iz.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return iz.get(e);let n=e.clone();return iz.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),aq=o("_ZodString",(e,t)=>{t7.init(e,t),aX.init(e,t);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(rB(...t)),e.includes=(...t)=>e.check(rH(...t)),e.startsWith=(...t)=>e.check(rW(...t)),e.endsWith=(...t)=>e.check(rZ(...t)),e.min=(...t)=>e.check(rF(...t)),e.max=(...t)=>e.check(rj(...t)),e.length=(...t)=>e.check(r$(...t)),e.nonempty=(...t)=>e.check(rF(1,...t)),e.lowercase=t=>e.check(rV(t)),e.uppercase=t=>e.check(rG(t)),e.trim=()=>e.check(rK()),e.normalize=(...t)=>e.check(rJ(...t)),e.toLowerCase=()=>e.check(rQ()),e.toUpperCase=()=>e.check(r0())}),aY=o("ZodString",(e,t)=>{t7.init(e,t),aq.init(e,t),e.email=t=>e.check(i$(aQ,t)),e.url=t=>e.check(iZ(a9,t)),e.jwt=t=>e.check(i9(sI,t)),e.emoji=t=>e.check(iX(st,t)),e.guid=t=>e.check(iB(a1,t)),e.uuid=t=>e.check(iV(a3,t)),e.uuidv4=t=>e.check(iG(a3,t)),e.uuidv6=t=>e.check(iH(a3,t)),e.uuidv7=t=>e.check(iW(a3,t)),e.nanoid=t=>e.check(iq(si,t)),e.guid=t=>e.check(iB(a1,t)),e.cuid=t=>e.check(iY(sa,t)),e.cuid2=t=>e.check(iJ(so,t)),e.ulid=t=>e.check(iK(su,t)),e.base64=t=>e.check(i5(sw,t)),e.base64url=t=>e.check(i6(sT,t)),e.xid=t=>e.check(iQ(sd,t)),e.ksuid=t=>e.check(i0(sp,t)),e.ipv4=t=>e.check(i1(sm,t)),e.ipv6=t=>e.check(i2(sv,t)),e.cidrv4=t=>e.check(i3(sx,t)),e.cidrv6=t=>e.check(i4(s_,t)),e.e164=t=>e.check(i8(sA,t)),e.datetime=t=>e.check(aE(t)),e.date=t=>e.check(aC(t)),e.time=t=>e.check(aP(t)),e.duration=t=>e.check(aR(t))});function aJ(e){return ij(aY,e)}let aK=o("ZodStringFormat",(e,t)=>{ne.init(e,t),aq.init(e,t)}),aQ=o("ZodEmail",(e,t)=>{ni.init(e,t),aK.init(e,t)});function a0(e){return i$(aQ,e)}let a1=o("ZodGUID",(e,t)=>{nt.init(e,t),aK.init(e,t)});function a2(e){return iB(a1,e)}let a3=o("ZodUUID",(e,t)=>{nn.init(e,t),aK.init(e,t)});function a4(e){return iV(a3,e)}function a5(e){return iG(a3,e)}function a6(e){return iH(a3,e)}function a8(e){return iW(a3,e)}let a9=o("ZodURL",(e,t)=>{nr.init(e,t),aK.init(e,t)});function a7(e){return iZ(a9,e)}function se(e){return iZ(a9,{protocol:/^https?$/,hostname:aw.domain,...aM.normalizeParams(e)})}let st=o("ZodEmoji",(e,t)=>{na.init(e,t),aK.init(e,t)});function sn(e){return iX(st,e)}let si=o("ZodNanoID",(e,t)=>{ns.init(e,t),aK.init(e,t)});function sr(e){return iq(si,e)}let sa=o("ZodCUID",(e,t)=>{no.init(e,t),aK.init(e,t)});function ss(e){return iY(sa,e)}let so=o("ZodCUID2",(e,t)=>{nl.init(e,t),aK.init(e,t)});function sl(e){return iJ(so,e)}let su=o("ZodULID",(e,t)=>{nu.init(e,t),aK.init(e,t)});function sc(e){return iK(su,e)}let sd=o("ZodXID",(e,t)=>{nc.init(e,t),aK.init(e,t)});function sh(e){return iQ(sd,e)}let sp=o("ZodKSUID",(e,t)=>{nd.init(e,t),aK.init(e,t)});function sf(e){return i0(sp,e)}let sm=o("ZodIPv4",(e,t)=>{ng.init(e,t),aK.init(e,t)});function sg(e){return i1(sm,e)}let sv=o("ZodIPv6",(e,t)=>{nv.init(e,t),aK.init(e,t)});function sy(e){return i2(sv,e)}let sx=o("ZodCIDRv4",(e,t)=>{ny.init(e,t),aK.init(e,t)});function sb(e){return i3(sx,e)}let s_=o("ZodCIDRv6",(e,t)=>{nx.init(e,t),aK.init(e,t)});function sS(e){return i4(s_,e)}let sw=o("ZodBase64",(e,t)=>{n_.init(e,t),aK.init(e,t)});function sM(e){return i5(sw,e)}let sT=o("ZodBase64URL",(e,t)=>{nw.init(e,t),aK.init(e,t)});function sE(e){return i6(sT,e)}let sA=o("ZodE164",(e,t)=>{nM.init(e,t),aK.init(e,t)});function sC(e){return i8(sA,e)}let sI=o("ZodJWT",(e,t)=>{nE.init(e,t),aK.init(e,t)});function sP(e){return i9(sI,e)}let sk=o("ZodCustomStringFormat",(e,t)=>{nA.init(e,t),aK.init(e,t)});function sR(e,t,n={}){return ab(sk,e,t,n)}function sN(e){return ab(sk,"hostname",aw.hostname,e)}function sD(e){return ab(sk,"hex",aw.hex,e)}function sL(e,t){let n=t?.enc??"hex",i=`${e}_${n}`,r=aw[i];if(!r)throw Error(`Unrecognized hash format: ${i}`);return ab(sk,i,r,t)}let sU=o("ZodNumber",(e,t)=>{nC.init(e,t),aX.init(e,t),e.gt=(t,n)=>e.check(rI(t,n)),e.gte=(t,n)=>e.check(rP(t,n)),e.min=(t,n)=>e.check(rP(t,n)),e.lt=(t,n)=>e.check(rA(t,n)),e.lte=(t,n)=>e.check(rC(t,n)),e.max=(t,n)=>e.check(rC(t,n)),e.int=t=>e.check(sj(t)),e.safe=t=>e.check(sj(t)),e.positive=t=>e.check(rI(0,t)),e.nonnegative=t=>e.check(rP(0,t)),e.negative=t=>e.check(rA(0,t)),e.nonpositive=t=>e.check(rC(0,t)),e.multipleOf=(t,n)=>e.check(rL(t,n)),e.step=(t,n)=>e.check(rL(t,n)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??-1/0,n.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(n.maximum??1/0,n.exclusiveMaximum??1/0)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function sO(e){return rr(sU,e)}let sz=o("ZodNumberFormat",(e,t)=>{nI.init(e,t),sU.init(e,t)});function sj(e){return rs(sz,e)}function sF(e){return ro(sz,e)}function s$(e){return rl(sz,e)}function sB(e){return ru(sz,e)}function sV(e){return rc(sz,e)}let sG=o("ZodBoolean",(e,t)=>{nP.init(e,t),aX.init(e,t)});function sH(e){return rd(sG,e)}let sW=o("ZodBigInt",(e,t)=>{nk.init(e,t),aX.init(e,t),e.gte=(t,n)=>e.check(rP(t,n)),e.min=(t,n)=>e.check(rP(t,n)),e.gt=(t,n)=>e.check(rI(t,n)),e.gte=(t,n)=>e.check(rP(t,n)),e.min=(t,n)=>e.check(rP(t,n)),e.lt=(t,n)=>e.check(rA(t,n)),e.lte=(t,n)=>e.check(rC(t,n)),e.max=(t,n)=>e.check(rC(t,n)),e.positive=t=>e.check(rI(BigInt(0),t)),e.negative=t=>e.check(rA(BigInt(0),t)),e.nonpositive=t=>e.check(rC(BigInt(0),t)),e.nonnegative=t=>e.check(rP(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(rL(t,n));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function sZ(e){return rp(sW,e)}let sX=o("ZodBigIntFormat",(e,t)=>{nR.init(e,t),sW.init(e,t)});function sq(e){return rm(sX,e)}function sY(e){return rg(sX,e)}let sJ=o("ZodSymbol",(e,t)=>{nN.init(e,t),aX.init(e,t)});function sK(e){return rv(sJ,e)}let sQ=o("ZodUndefined",(e,t)=>{nD.init(e,t),aX.init(e,t)});function s0(e){return ry(sQ,e)}let s1=o("ZodNull",(e,t)=>{nL.init(e,t),aX.init(e,t)});function s2(e){return rx(s1,e)}let s3=o("ZodAny",(e,t)=>{nU.init(e,t),aX.init(e,t)});function s4(){return rb(s3)}let s5=o("ZodUnknown",(e,t)=>{nO.init(e,t),aX.init(e,t)});function s6(){return r_(s5)}let s8=o("ZodNever",(e,t)=>{nz.init(e,t),aX.init(e,t)});function s9(e){return rS(s8,e)}let s7=o("ZodVoid",(e,t)=>{nj.init(e,t),aX.init(e,t)});function oe(e){return rw(s7,e)}let ot=o("ZodDate",(e,t)=>{nF.init(e,t),aX.init(e,t),e.min=(t,n)=>e.check(rP(t,n)),e.max=(t,n)=>e.check(rC(t,n));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function on(e){return rM(ot,e)}let oi=o("ZodArray",(e,t)=>{nB.init(e,t),aX.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(rF(t,n)),e.nonempty=t=>e.check(rF(1,t)),e.max=(t,n)=>e.check(rj(t,n)),e.length=(t,n)=>e.check(r$(t,n)),e.unwrap=()=>e.element});function or(e,t){return r1(oi,e,t)}function oa(e){return oE(Object.keys(e._zod.def.shape))}let os=o("ZodObject",(e,t)=>{nZ.init(e,t),aX.init(e,t),aM.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>oE(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:s6()}),e.loose=()=>e.clone({...e._zod.def,catchall:s6()}),e.strict=()=>e.clone({...e._zod.def,catchall:s9()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>aM.extend(e,t),e.safeExtend=t=>aM.safeExtend(e,t),e.merge=t=>aM.merge(e,t),e.pick=t=>aM.pick(e,t),e.omit=t=>aM.omit(e,t),e.partial=(...t)=>aM.partial(oD,e,t[0]),e.required=(...t)=>aM.required(oV,e,t[0])});function oo(e,t){return new os({type:"object",shape:e??{},...aM.normalizeParams(t)})}function ol(e,t){return new os({type:"object",shape:e,catchall:s9(),...aM.normalizeParams(t)})}function ou(e,t){return new os({type:"object",shape:e,catchall:s6(),...aM.normalizeParams(t)})}let oc=o("ZodUnion",(e,t)=>{nq.init(e,t),aX.init(e,t),e.options=t.options});function od(e,t){return new oc({type:"union",options:e,...aM.normalizeParams(t)})}let oh=o("ZodDiscriminatedUnion",(e,t)=>{oc.init(e,t),nY.init(e,t)});function op(e,t,n){return new oh({type:"union",options:t,discriminator:e,...aM.normalizeParams(n)})}let of=o("ZodIntersection",(e,t)=>{nJ.init(e,t),aX.init(e,t)});function om(e,t){return new of({type:"intersection",left:e,right:t})}let og=o("ZodTuple",(e,t)=>{nQ.init(e,t),aX.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function ov(e,t,n){let i=t instanceof t9,r=i?n:t;return new og({type:"tuple",items:e,rest:i?t:null,...aM.normalizeParams(r)})}let oy=o("ZodRecord",(e,t)=>{n1.init(e,t),aX.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function ox(e,t,n){return new oy({type:"record",keyType:e,valueType:t,...aM.normalizeParams(n)})}function ob(e,t,n){let i=G(e);return i._zod.values=void 0,new oy({type:"record",keyType:i,valueType:t,...aM.normalizeParams(n)})}let o_=o("ZodMap",(e,t)=>{n2.init(e,t),aX.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function oS(e,t,n){return new o_({type:"map",keyType:e,valueType:t,...aM.normalizeParams(n)})}let ow=o("ZodSet",(e,t)=>{n4.init(e,t),aX.init(e,t),e.min=(...t)=>e.check(rO(...t)),e.nonempty=t=>e.check(rO(1,t)),e.max=(...t)=>e.check(rU(...t)),e.size=(...t)=>e.check(rz(...t))});function oM(e,t){return new ow({type:"set",valueType:e,...aM.normalizeParams(t)})}let oT=o("ZodEnum",(e,t)=>{n6.init(e,t),aX.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let r={};for(let i of e)if(n.has(i))r[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new oT({...t,checks:[],...aM.normalizeParams(i),entries:r})},e.exclude=(e,i)=>{let r={...t.entries};for(let t of e)if(n.has(t))delete r[t];else throw Error(`Key ${t} not found in enum`);return new oT({...t,checks:[],...aM.normalizeParams(i),entries:r})}});function oE(e,t){return new oT({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...aM.normalizeParams(t)})}function oA(e,t){return new oT({type:"enum",entries:e,...aM.normalizeParams(t)})}let oC=o("ZodLiteral",(e,t)=>{n8.init(e,t),aX.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function oI(e,t){return new oC({type:"literal",values:Array.isArray(e)?e:[e],...aM.normalizeParams(t)})}let oP=o("ZodFile",(e,t)=>{n9.init(e,t),aX.init(e,t),e.min=(t,n)=>e.check(rO(t,n)),e.max=(t,n)=>e.check(rU(t,n)),e.mime=(t,n)=>e.check(rq(Array.isArray(t)?t:[t],n))});function ok(e){return an(oP,e)}let oR=o("ZodTransform",(e,t)=>{n7.init(e,t),aX.init(e,t),e._zod.parse=(n,i)=>{if("backward"===i.direction)throw new c(e.constructor.name);n.addIssue=i=>{"string"==typeof i?n.issues.push(aM.issue(i,n.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(aM.issue(i)))};let r=t.transform(n.value,n);return r instanceof Promise?r.then(e=>(n.value=e,n)):(n.value=r,n)}});function oN(e){return new oR({type:"transform",transform:e})}let oD=o("ZodOptional",(e,t)=>{it.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oL(e){return new oD({type:"optional",innerType:e})}let oU=o("ZodNullable",(e,t)=>{ii.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oO(e){return new oU({type:"nullable",innerType:e})}function oz(e){return oL(oO(e))}let oj=o("ZodDefault",(e,t)=>{ir.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function oF(e,t){return new oj({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():aM.shallowClone(t)}})}let o$=o("ZodPrefault",(e,t)=>{is.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oB(e,t){return new o$({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():aM.shallowClone(t)}})}let oV=o("ZodNonOptional",(e,t)=>{io.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oG(e,t){return new oV({type:"nonoptional",innerType:e,...aM.normalizeParams(t)})}let oH=o("ZodSuccess",(e,t)=>{iu.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oW(e){return new oH({type:"success",innerType:e})}let oZ=o("ZodCatch",(e,t)=>{ic.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function oX(e,t){return new oZ({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let oq=o("ZodNaN",(e,t)=>{id.init(e,t),aX.init(e,t)});function oY(e){return rE(oq,e)}let oJ=o("ZodPipe",(e,t)=>{ih.init(e,t),aX.init(e,t),e.in=t.in,e.out=t.out});function oK(e,t){return new oJ({type:"pipe",in:e,out:t})}let oQ=o("ZodCodec",(e,t)=>{oJ.init(e,t),im.init(e,t)});function o0(e,t,n){return new oQ({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}let o1=o("ZodReadonly",(e,t)=>{iy.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function o2(e){return new o1({type:"readonly",innerType:e})}let o3=o("ZodTemplateLiteral",(e,t)=>{ib.init(e,t),aX.init(e,t)});function o4(e,t){return new o3({type:"template_literal",parts:e,...aM.normalizeParams(t)})}let o5=o("ZodLazy",(e,t)=>{iw.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.getter()});function o6(e){return new o5({type:"lazy",getter:e})}let o8=o("ZodPromise",(e,t)=>{iS.init(e,t),aX.init(e,t),e.unwrap=()=>e._zod.def.innerType});function o9(e){return new o8({type:"promise",innerType:e})}let o7=o("ZodFunction",(e,t)=>{i_.init(e,t),aX.init(e,t)});function le(e){return new o7({type:"function",input:Array.isArray(e?.input)?ov(e?.input):e?.input??or(s6()),output:e?.output??s6()})}let lt=o("ZodCustom",(e,t)=>{iM.init(e,t),aX.init(e,t)});function ln(e){let t=new tU({check:"custom"});return t._zod.check=e,t}function li(e,t){return am(lt,e??(()=>!0),t)}function lr(e,t={}){return ag(lt,e,t)}function la(e){return av(e)}function ls(e,t={error:`Input not instance of ${e.name}`}){let n=new lt({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...aM.normalizeParams(t)});return n._zod.bag.Class=e,n}let lo=(...e)=>ax({Codec:oQ,Boolean:sG,String:aY},...e);function ll(e){let t=o6(()=>od([aJ(e),sO(),sH(),s2(),or(t),ox(aJ(),t)]));return t}function lu(e,t){return oK(oN(e),t)}let lc={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function ld(e){h({customError:e})}function lh(){return h().customError}function lp(e){return iF(aY,e)}function lf(e){return ra(sU,e)}function lm(e){return rh(sG,e)}function lg(e){return rf(sW,e)}function lv(e){return rT(ot,e)}t||(t={}),e.s(["ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,lc,"getErrorMap",()=>lh,"setErrorMap",()=>ld],6034),e.s(["bigint",()=>lg,"boolean",()=>lm,"date",()=>lv,"number",()=>lf,"string",()=>lp],13657),h(iA()),e.s([],98821),e.i(98821),e.i(92135),e.i(97753),e.i(3108),e.i(74969),e.i(32952),e.i(55605),e.i(98477);var ly=aM,lx=aw;e.i(43365),e.s(["ar",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return`  :   ${n.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`  :   ${Z(n.values[0])}`;return`  :     : ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`   :    ${n.origin??""} ${t} ${n.maximum.toString()} ${i.unit??""}`;return`  :    ${n.origin??""} ${t} ${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`  :   ${n.origin}   ${t} ${n.minimum.toString()} ${i.unit}`;return`  :   ${n.origin}   ${t} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`  :     "${n.prefix}"`;if("ends_with"===n.format)return`  :     "${n.suffix}"`;if("includes"===n.format)return`  :    "${n.includes}"`;if("regex"===n.format)return`  :     ${n.pattern}`;return`${t[n.format]??n.format}  `;case"not_multiple_of":return`  :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${x(n.keys," ")}`;case"invalid_key":return`    ${n.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${n.origin}`}})}},"az",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${n.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Yanl dyr: g\xf6zlniln ${Z(n.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${n.origin??"dyr"} ${t}${n.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${n.origin??"dyr"} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`\xc7ox ki\xe7ik: g\xf6zlniln ${n.origin} ${t}${n.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Yanl mtn: "${n.prefix}" il balamaldr`;if("ends_with"===n.format)return`Yanl mtn: "${n.suffix}" il bitmlidir`;if("includes"===n.format)return`Yanl mtn: "${n.includes}" daxil olmaldr`;if("regex"===n.format)return`Yanl mtn: ${n.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[n.format]??n.format}`;case"not_multiple_of":return`Yanl dd: ${n.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${n.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}`;return` :    ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i){let e=iE(Number(n.maximum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${n.origin??""}  ${i.verb} ${t}${n.maximum.toString()} ${e}`}return` : ,  ${n.origin??""}   ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i){let e=iE(Number(n.minimum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${n.origin}  ${i.verb} ${t}${n.minimum.toString()} ${e}`}return` : ,  ${n.origin}   ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` :    "${n.prefix}"`;if("ends_with"===n.format)return` :    "${n.suffix}"`;if("includes"===n.format)return` :   "${n.includes}"`;if("regex"===n.format)return` :    ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return` `}})}},"bg",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}`;return` :    ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` :   ${n.origin??""}   ${t}${n.maximum.toString()} ${i.unit??""}`;return` :   ${n.origin??""}   ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` :   ${n.origin}   ${t}${n.minimum.toString()} ${i.unit}`;return` :   ${n.origin}   ${t}${n.minimum.toString()}`}case"invalid_format":{if("starts_with"===n.format)return` :     "${n.prefix}"`;if("ends_with"===n.format)return` :     "${n.suffix}"`;if("includes"===n.format)return` :    "${n.includes}"`;if("regex"===n.format)return` :     ${n.pattern}`;let e="";return"emoji"===n.format&&(e=""),"datetime"===n.format&&(e=""),"date"===n.format&&(e=""),"time"===n.format&&(e=""),"duration"===n.format&&(e=""),`${e} ${t[n.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return` `}})}},"ca",0,function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n=>{switch(n.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${n.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Valor inv\xe0lid: s'esperava ${Z(n.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${x(n.values," o ")}`;case"too_big":{let t=n.inclusive?"com a mxim":"menys de",i=e[n.origin]??null;if(i)return`Massa gran: s'esperava que ${n.origin??"el valor"} contingu\xe9s ${t} ${n.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${t} ${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?"com a mnim":"ms de",i=e[n.origin]??null;if(i)return`Massa petit: s'esperava que ${n.origin} contingu\xe9s ${t} ${n.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${n.origin} fos ${t} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${n.prefix}"`;if("ends_with"===n.format)return`Format inv\xe0lid: ha d'acabar amb "${n.suffix}"`;if("includes"===n.format)return`Format inv\xe0lid: ha d'incloure "${n.includes}"`;if("regex"===n.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${n.pattern}`;return`Format inv\xe0lid per a ${t[n.format]??n.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${n.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},n=>{switch(n.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${n.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${Z(n.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Hodnota je p\xedli velk\xe1: ${n.origin??"hodnota"} mus\xed m\xedt ${t}${n.maximum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${n.origin??"hodnota"} mus\xed b\xfdt ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Hodnota je p\xedli mal\xe1: ${n.origin??"hodnota"} mus\xed m\xedt ${t}${n.minimum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${n.origin??"hodnota"} mus\xed b\xfdt ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${n.prefix}"`;if("ends_with"===n.format)return`Neplatn\xfd etzec: mus\xed konit na "${n.suffix}"`;if("includes"===n.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${n.includes}"`;if("regex"===n.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${n.pattern}`;return`Neplatn\xfd form\xe1t ${t[n.format]??n.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${n.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${x(n.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${n.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${n.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let e,t,n;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},n={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var r,a,s,o;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${t[r=i.expected]??r}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(i.input)]??a}`;case"invalid_value":if(1===i.values.length)return`Ugyldig v\xe6rdi: forventede ${Z(i.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${x(i.values,"|")}`;case"too_big":{let n=i.inclusive?"<=":"<",r=e[i.origin]??null,a=t[s=i.origin]??s;if(r)return`For stor: forventede ${a??"value"} ${r.verb} ${n} ${i.maximum.toString()} ${r.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${n} ${i.maximum.toString()}`}case"too_small":{let n=i.inclusive?">=":">",r=e[i.origin]??null,a=t[o=i.origin]??o;if(r)return`For lille: forventede ${a} ${r.verb} ${n} ${i.minimum.toString()} ${r.unit}`;return`For lille: forventede ${a} havde ${n} ${i.minimum.toString()}`}case"invalid_format":if("starts_with"===i.format)return`Ugyldig streng: skal starte med "${i.prefix}"`;if("ends_with"===i.format)return`Ugyldig streng: skal ende med "${i.suffix}"`;if("includes"===i.format)return`Ugyldig streng: skal indeholde "${i.includes}"`;if("regex"===i.format)return`Ugyldig streng: skal matche m\xf8nsteret ${i.pattern}`;return`Ugyldig ${n[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${x(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n=>{switch(n.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${n.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ung\xfcltige Eingabe: erwartet ${Z(n.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Zu gro\xdf: erwartet, dass ${n.origin??"Wert"} ${t}${n.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${n.origin??"Wert"} ${t}${n.maximum.toString()} ist`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Zu klein: erwartet, dass ${n.origin} ${t}${n.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${n.origin} ${t}${n.minimum.toString()} ist`}case"invalid_format":if("starts_with"===n.format)return`Ung\xfcltiger String: muss mit "${n.prefix}" beginnen`;if("ends_with"===n.format)return`Ung\xfcltiger String: muss mit "${n.suffix}" enden`;if("includes"===n.format)return`Ung\xfcltiger String: muss "${n.includes}" enthalten`;if("regex"===n.format)return`Ung\xfcltiger String: muss dem Muster ${n.pattern} entsprechen`;return`Ung\xfcltig: ${t[n.format]??n.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${x(n.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${n.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${n.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,iA,"eo",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendiis ${n.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Nevalida enigo: atendiis ${Z(n.values[0])}`;return`Nevalida opcio: atendiis unu el ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${t}${n.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Tro malgranda: atendiis ke ${n.origin} havu ${t}${n.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiis ke ${n.origin} estu ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Nevalida karaktraro: devas komencii per "${n.prefix}"`;if("ends_with"===n.format)return`Nevalida karaktraro: devas finii per "${n.suffix}"`;if("includes"===n.format)return`Nevalida karaktraro: devas inkluzivi "${n.includes}"`;if("regex"===n.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${n.pattern}`;return`Nevalida ${t[n.format]??n.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`}})}},"es",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(e){return t[e]??e}let i={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${n(t.expected)}, recibido ${n((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${Z(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${x(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",r=e[t.origin]??null,a=n(t.origin);if(r)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${t.maximum.toString()} ${r.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",r=e[t.origin]??null,a=n(t.origin);if(r)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${i}${t.minimum.toString()} ${r.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${i}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${i[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${x(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${n(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${n(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}},"fa",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}  `;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])} `;return` :    ${x(n.values,"|")} `;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` : ${n.origin??""}  ${t}${n.maximum.toString()} ${i.unit??""} `;return` : ${n.origin??""}  ${t}${n.maximum.toString()} `}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` : ${n.origin}  ${t}${n.minimum.toString()} ${i.unit} `;return` : ${n.origin}  ${t}${n.minimum.toString()} `}case"invalid_format":if("starts_with"===n.format)return` :   "${n.prefix}"  `;if("ends_with"===n.format)return` :   "${n.suffix}"  `;if("includes"===n.format)return` :   "${n.includes}" `;if("regex"===n.format)return` :    ${n.pattern}   `;return`${t[n.format]??n.format} `;case"not_multiple_of":return` :   ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""} : ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${n.origin}`}})}},"fi",0,function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n=>{switch(n.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${n.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${Z(n.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${t}${n.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${t}${n.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${n.prefix}"`;if("ends_with"===n.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${n.suffix}"`;if("includes"===n.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${n.includes}"`;if("regex"===n.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${n.pattern}`;return`Virheellinen ${t[n.format]??n.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${x(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n=>{switch(n.code){case"invalid_type":return`Entr\xe9e invalide : ${n.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)} re\xe7u`;case"invalid_value":if(1===n.values.length)return`Entr\xe9e invalide : ${Z(n.values[0])} attendu`;return`Option invalide : une valeur parmi ${x(n.values,"|")} attendue`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Trop grand : ${n.origin??"valeur"} doit ${i.verb} ${t}${n.maximum.toString()} ${i.unit??"lment(s)"}`;return`Trop grand : ${n.origin??"valeur"} doit \xeatre ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Trop petit : ${n.origin} doit ${i.verb} ${t}${n.minimum.toString()} ${i.unit}`;return`Trop petit : ${n.origin} doit \xeatre ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Cha\xeene invalide : doit commencer par "${n.prefix}"`;if("ends_with"===n.format)return`Cha\xeene invalide : doit se terminer par "${n.suffix}"`;if("includes"===n.format)return`Cha\xeene invalide : doit inclure "${n.includes}"`;if("regex"===n.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${n.pattern}`;return`${t[n.format]??n.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xe9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${x(n.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n=>{switch(n.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${n.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Entr\xe9e invalide : attendu ${Z(n.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"":"<",i=e[n.origin]??null;if(i)return`Trop grand : attendu que ${n.origin??"la valeur"} ait ${t}${n.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${n.origin??"la valeur"} soit ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?"":">",i=e[n.origin]??null;if(i)return`Trop petit : attendu que ${n.origin} ait ${t}${n.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${n.origin} soit ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Cha\xeene invalide : doit commencer par "${n.prefix}"`;if("ends_with"===n.format)return`Cha\xeene invalide : doit se terminer par "${n.suffix}"`;if("includes"===n.format)return`Cha\xeene invalide : doit inclure "${n.includes}"`;if("regex"===n.format)return`Cha\xeene invalide : doit correspondre au motif ${n.pattern}`;return`${t[n.format]??n.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xe9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${x(n.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return`  :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`  :  ${Z(n.values[0])}`;return`  :     ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` : ${n.origin??"value"}   ${t}${n.maximum.toString()} ${i.unit??"elements"}`;return` : ${n.origin??"value"}   ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` : ${n.origin}   ${t}${n.minimum.toString()} ${i.unit}`;return` : ${n.origin}   ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`  :   "${n.prefix}"`;if("ends_with"===n.format)return`  :    "${n.suffix}"`;if("includes"===n.format)return`  :   "${n.includes}"`;if("regex"===n.format)return`  :    ${n.pattern}`;return`${t[n.format]??n.format}  `;case"not_multiple_of":return`  :     ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}  ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return`  `}})}},"hu",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},n=>{switch(n.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${n.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${Z(n.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`T\xfal nagy: ${n.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${n.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${n.origin??"rtk"} t\xfal nagy: ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${n.origin} m\xe9rete t\xfal kicsi ${t}${n.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${n.origin} t\xfal kicsi ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`\xc9rv\xe9nytelen string: "${n.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===n.format)return`\xc9rv\xe9nytelen string: "${n.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===n.format)return`\xc9rv\xe9nytelen string: "${n.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===n.format)return`\xc9rv\xe9nytelen string: ${n.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[n.format]??n.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${n.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${n.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${n.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Input tidak valid: diharapkan ${n.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Input tidak valid: diharapkan ${Z(n.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${t}${n.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Terlalu kecil: diharapkan ${n.origin} memiliki ${t}${n.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${n.origin} menjadi ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`String tidak valid: harus dimulai dengan "${n.prefix}"`;if("ends_with"===n.format)return`String tidak valid: harus berakhir dengan "${n.suffix}"`;if("includes"===n.format)return`String tidak valid: harus menyertakan "${n.includes}"`;if("regex"===n.format)return`String tidak valid: harus sesuai pola ${n.pattern}`;return`${t[n.format]??n.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`}})}},"is",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},n=>{switch(n.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)} \xfear sem \xe1 a\xf0 vera ${n.expected}`;case"invalid_value":if(1===n.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${Z(n.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${n.origin??"gildi"} hafi ${t}${n.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${n.origin??"gildi"} s\xe9 ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${n.origin} hafi ${t}${n.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${n.origin} s\xe9 ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${n.prefix}"`;if("ends_with"===n.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${n.suffix}"`;if("includes"===n.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${n.includes}"`;if("regex"===n.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${n.pattern}`;return`Rangt ${t[n.format]??n.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${x(n.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${n.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${n.origin}`}})}},"it",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Input non valido: atteso ${n.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Input non valido: atteso ${Z(n.values[0])}`;return`Opzione non valida: atteso uno tra ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Troppo grande: ${n.origin??"valore"} deve avere ${t}${n.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${n.origin??"valore"} deve essere ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Troppo piccolo: ${n.origin} deve avere ${t}${n.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${n.origin} deve essere ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Stringa non valida: deve iniziare con "${n.prefix}"`;if("ends_with"===n.format)return`Stringa non valida: deve terminare con "${n.suffix}"`;if("includes"===n.format)return`Stringa non valida: deve includere "${n.includes}"`;if("regex"===n.format)return`Stringa non valida: deve corrispondere al pattern ${n.pattern}`;return`Invalid ${t[n.format]??n.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${x(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`}})}},"ja",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return`: ${n.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`: ${Z(n.values[0])}`;return`: ${x(n.values,"")}`;case"too_big":{let t=n.inclusive?"":"",i=e[n.origin]??null;if(i)return`: ${n.origin??""}${n.maximum.toString()}${i.unit??""}${t}`;return`: ${n.origin??""}${n.maximum.toString()}${t}`}case"too_small":{let t=n.inclusive?"":"",i=e[n.origin]??null;if(i)return`: ${n.origin}${n.minimum.toString()}${i.unit}${t}`;return`: ${n.origin}${n.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===n.format)return`: "${n.prefix}"`;if("ends_with"===n.format)return`: "${n.suffix}"`;if("includes"===n.format)return`: "${n.includes}"`;if("regex"===n.format)return`: ${n.pattern}`;return`${t[n.format]??n.format}`;case"not_multiple_of":return`: ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}: ${x(n.keys,"")}`;case"invalid_key":return`${n.origin}`;case"invalid_union":return"";case"invalid_element":return`${n.origin}`;default:return``}})}},"ka",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}`;return` :  - ${x(n.values,"|")}-`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` :  ${n.origin??""} ${i.verb} ${t}${n.maximum.toString()} ${i.unit}`;return` :  ${n.origin??""}  ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` :  ${n.origin} ${i.verb} ${t}${n.minimum.toString()} ${i.unit}`;return` :  ${n.origin}  ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` :   "${n.prefix}"-`;if("ends_with"===n.format)return` :   "${n.suffix}"-`;if("includes"===n.format)return` :   "${n.includes}"-`;if("regex"===n.format)return` :    ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return` `}})}},"kh",0,function(){return iC()},"km",0,iC,"ko",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :   ${n.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}  `;return` : ${x(n.values," ")}   `;case"too_big":{let t=n.inclusive?"":"",i=""===t?" ":" ",r=e[n.origin]??null,a=r?.unit??"";if(r)return`${n.origin??""}  : ${n.maximum.toString()}${a} ${t}${i}`;return`${n.origin??""}  : ${n.maximum.toString()} ${t}${i}`}case"too_small":{let t=n.inclusive?"":"",i=""===t?" ":" ",r=e[n.origin]??null,a=r?.unit??"";if(r)return`${n.origin??""}  : ${n.minimum.toString()}${a} ${t}${i}`;return`${n.origin??""}  : ${n.minimum.toString()} ${t}${i}`}case"invalid_format":if("starts_with"===n.format)return` : "${n.prefix}"()  `;if("ends_with"===n.format)return` : "${n.suffix}"()  `;if("includes"===n.format)return` : "${n.includes}"()  `;if("regex"===n.format)return` :  ${n.pattern}   `;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` : ${n.divisor}  `;case"unrecognized_keys":return`   : ${x(n.keys,", ")}`;case"invalid_key":return` : ${n.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${n.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,n,i,r){let a=e[t]??null;return null===a?a:{unit:a.unit[n],verb:a.verb[r][i?"inclusive":"notInclusive"]}}let n={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":var i;return`Gautas tipas ${iI(typeof(i=e.input),i)}, o tiktasi - ${iI(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${Z(e.values[0])}`;return`Privalo bti vienas i ${x(e.values,"|")} pasirinkim`;case"too_big":{let n=iI(e.origin),i=t(e.origin,ik(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${iP(n??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let r=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${iP(n??e.origin??"reikm")} turi bti ${r} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let n=iI(e.origin),i=t(e.origin,ik(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${iP(n??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let r=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${iP(n??e.origin??"reikm")} turi bti ${r} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${n[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${x(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=iI(e.origin);return`${iP(t??e.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :   ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Invalid input: expected ${Z(n.values[0])}`;return` :    ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` :   ${n.origin??""}   ${t}${n.maximum.toString()} ${i.unit??""}`;return` :   ${n.origin??""}   ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` :   ${n.origin}   ${t}${n.minimum.toString()} ${i.unit}`;return` :   ${n.origin}   ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` :     "${n.prefix}"`;if("ends_with"===n.format)return` :     "${n.suffix}"`;if("includes"===n.format)return` :    "${n.includes}"`;if("regex"===n.format)return` :      ${n.pattern}`;return`Invalid ${t[n.format]??n.format}`;case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?" ":" "}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return` `}})}},"ms",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Input tidak sah: dijangka ${n.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Input tidak sah: dijangka ${Z(n.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Terlalu besar: dijangka ${n.origin??"nilai"} ${i.verb} ${t}${n.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Terlalu kecil: dijangka ${n.origin} ${i.verb} ${t}${n.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${n.origin} adalah ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`String tidak sah: mesti bermula dengan "${n.prefix}"`;if("ends_with"===n.format)return`String tidak sah: mesti berakhir dengan "${n.suffix}"`;if("includes"===n.format)return`String tidak sah: mesti mengandungi "${n.includes}"`;if("regex"===n.format)return`String tidak sah: mesti sepadan dengan corak ${n.pattern}`;return`${t[n.format]??n.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${x(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`}})}},"nl",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n=>{switch(n.code){case"invalid_type":return`Ongeldige invoer: verwacht ${n.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ongeldige invoer: verwacht ${Z(n.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Te lang: verwacht dat ${n.origin??"waarde"} ${t}${n.maximum.toString()} ${i.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${n.origin??"waarde"} ${t}${n.maximum.toString()} is`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Te kort: verwacht dat ${n.origin} ${t}${n.minimum.toString()} ${i.unit} bevat`;return`Te kort: verwacht dat ${n.origin} ${t}${n.minimum.toString()} is`}case"invalid_format":if("starts_with"===n.format)return`Ongeldige tekst: moet met "${n.prefix}" beginnen`;if("ends_with"===n.format)return`Ongeldige tekst: moet op "${n.suffix}" eindigen`;if("includes"===n.format)return`Ongeldige tekst: moet "${n.includes}" bevatten`;if("regex"===n.format)return`Ongeldige tekst: moet overeenkomen met patroon ${n.pattern}`;return`Ongeldig: ${t[n.format]??n.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`}})}},"no",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return`Ugyldig input: forventet ${n.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ugyldig verdi: forventet ${Z(n.values[0])}`;return`Ugyldig valg: forventet en av ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`For stor(t): forventet ${n.origin??"value"} til \xe5 ha ${t}${n.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${n.origin??"value"} til \xe5 ha ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`For lite(n): forventet ${n.origin} til \xe5 ha ${t}${n.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${n.origin} til \xe5 ha ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ugyldig streng: m\xe5 starte med "${n.prefix}"`;if("ends_with"===n.format)return`Ugyldig streng: m\xe5 ende med "${n.suffix}"`;if("includes"===n.format)return`Ugyldig streng: m\xe5 inneholde "${n.includes}"`;if("regex"===n.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${n.pattern}`;return`Ugyldig ${t[n.format]??n.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${x(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${n.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`}})}},"ota",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},n=>{switch(n.code){case"invalid_type":return`F\xe2sit giren: umulan ${n.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`F\xe2sit giren: umulan ${Z(n.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Fazla b\xfcy\xfck: ${n.origin??"value"}, ${t}${n.maximum.toString()} ${i.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${n.origin??"value"}, ${t}${n.maximum.toString()} olmalyd.`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Fazla k\xfc\xe7\xfck: ${n.origin}, ${t}${n.minimum.toString()} ${i.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${n.origin}, ${t}${n.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===n.format)return`F\xe2sit metin: "${n.prefix}" ile balamal.`;if("ends_with"===n.format)return`F\xe2sit metin: "${n.suffix}" ile bitmeli.`;if("includes"===n.format)return`F\xe2sit metin: "${n.includes}" ihtiv\xe2 etmeli.`;if("regex"===n.format)return`F\xe2sit metin: ${n.pattern} nakna uymal.`;return`F\xe2sit ${t[n.format]??n.format}`;case"not_multiple_of":return`F\xe2sit say: ${n.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${n.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},n=>{switch(n.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${n.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${Z(n.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Za dua warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${t}${n.maximum.toString()} ${i.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Za maa warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${t}${n.minimum.toString()} ${i.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${n.prefix}"`;if("ends_with"===n.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${n.suffix}"`;if("includes"===n.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${n.includes}"`;if("regex"===n.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${n.pattern}`;return`Nieprawidow(y/a/e) ${t[n.format]??n.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${n.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${n.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}  `;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])} `;return` :    ${x(n.values,"|")}  `;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` : ${n.origin??""}  ${t}${n.maximum.toString()} ${i.unit??""} `;return` : ${n.origin??""}  ${t}${n.maximum.toString()} `}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` : ${n.origin}  ${t}${n.minimum.toString()} ${i.unit} `;return` : ${n.origin}  ${t}${n.minimum.toString()} `}case"invalid_format":if("starts_with"===n.format)return` :   "${n.prefix}"   `;if("ends_with"===n.format)return` :   "${n.suffix}"    `;if("includes"===n.format)return` :  "${n.includes}" `;if("regex"===n.format)return` :   ${n.pattern}   `;return`${t[n.format]??n.format}  `;case"not_multiple_of":return` :   ${n.divisor}  `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${n.origin} `}})}},"pt",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n=>{switch(n.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${n.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Entrada inv\xe1lida: esperado ${Z(n.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Muito grande: esperado que ${n.origin??"valor"} tivesse ${t}${n.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${n.origin??"valor"} fosse ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Muito pequeno: esperado que ${n.origin} tivesse ${t}${n.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${n.origin} fosse ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Texto inv\xe1lido: deve come\xe7ar com "${n.prefix}"`;if("ends_with"===n.format)return`Texto inv\xe1lido: deve terminar com "${n.suffix}"`;if("includes"===n.format)return`Texto inv\xe1lido: deve incluir "${n.includes}"`;if("regex"===n.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${n.pattern}`;return`${t[n.format]??n.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${n.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}`;return` :    ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i){let e=iR(Number(n.maximum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${n.origin??""}   ${t}${n.maximum.toString()} ${e}`}return`  : ,  ${n.origin??""}  ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i){let e=iR(Number(n.minimum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${n.origin}   ${t}${n.minimum.toString()} ${e}`}return`  : ,  ${n.origin}  ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` :    "${n.prefix}"`;if("ends_with"===n.format)return` :    "${n.suffix}"`;if("includes"===n.format)return` :   "${n.includes}"`;if("regex"===n.format)return` :    ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return`  `}})}},"sl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},n=>{switch(n.code){case"invalid_type":return`Neveljaven vnos: priakovano ${n.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Neveljaven vnos: priakovano ${Z(n.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Preveliko: priakovano, da bo ${n.origin??"vrednost"} imelo ${t}${n.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${n.origin??"vrednost"} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Premajhno: priakovano, da bo ${n.origin} imelo ${t}${n.minimum.toString()} ${i.unit}`;return`Premajhno: priakovano, da bo ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Neveljaven niz: mora se zaeti z "${n.prefix}"`;if("ends_with"===n.format)return`Neveljaven niz: mora se konati z "${n.suffix}"`;if("includes"===n.format)return`Neveljaven niz: mora vsebovati "${n.includes}"`;if("regex"===n.format)return`Neveljaven niz: mora ustrezati vzorcu ${n.pattern}`;return`Neveljaven ${t[n.format]??n.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i kljui":" klju"}: ${x(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${n.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`}})}},"sv",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n=>{switch(n.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${n.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${Z(n.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${n.origin??"vrdet"} att ha ${t}${n.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${n.origin??"vrdet"} att ha ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${n.origin??"vrdet"} att ha ${t}${n.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${n.origin??"vrdet"} att ha ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${n.prefix}"`;if("ends_with"===n.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${n.suffix}"`;if("includes"===n.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${n.includes}"`;if("regex"===n.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${n.pattern}"`;return`Ogiltig(t) ${t[n.format]??n.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${x(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${n.origin??"vrdet"}`}})}},"ta",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` :  ${Z(n.values[0])}`;return` :  ${x(n.values,"|")}  `;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` :  ${n.origin??""} ${t}${n.maximum.toString()} ${i.unit??""}   `;return` :  ${n.origin??""} ${t}${n.maximum.toString()}   `}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` :  ${n.origin} ${t}${n.minimum.toString()} ${i.unit}   `;return` :  ${n.origin} ${t}${n.minimum.toString()}   `}case"invalid_format":if("starts_with"===n.format)return` : "${n.prefix}"   `;if("ends_with"===n.format)return` : "${n.suffix}"   `;if("includes"===n.format)return` : "${n.includes}"   `;if("regex"===n.format)return` : ${n.pattern}   `;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`  ${n.keys.length>1?"":""}: ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${n.origin}   `;default:return` `}})}},"th",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return`:  ${n.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`:  ${Z(n.values[0])}`;return`:  ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"":"",i=e[n.origin]??null;if(i)return`: ${n.origin??""} ${t} ${n.maximum.toString()} ${i.unit??""}`;return`: ${n.origin??""} ${t} ${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?"":"",i=e[n.origin]??null;if(i)return`: ${n.origin} ${t} ${n.minimum.toString()} ${i.unit}`;return`: ${n.origin} ${t} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`:  "${n.prefix}"`;if("ends_with"===n.format)return`:  "${n.suffix}"`;if("includes"===n.format)return`:  "${n.includes}" `;if("regex"===n.format)return`:  ${n.pattern}`;return`: ${t[n.format]??n.format}`;case"not_multiple_of":return`:  ${n.divisor} `;case"unrecognized_keys":return`: ${x(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${n.origin}`;default:return``}})}},"tr",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},n=>{switch(n.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${n.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`Ge\xe7ersiz deer: beklenen ${Z(n.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`\xc7ok b\xfcy\xfck: beklenen ${n.origin??"deer"} ${t}${n.maximum.toString()} ${i.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${n.origin??"deer"} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${n.origin} ${t}${n.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ge\xe7ersiz metin: "${n.prefix}" ile balamal`;if("ends_with"===n.format)return`Ge\xe7ersiz metin: "${n.suffix}" ile bitmeli`;if("includes"===n.format)return`Ge\xe7ersiz metin: "${n.includes}" i\xe7ermeli`;if("regex"===n.format)return`Ge\xe7ersiz metin: ${n.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[n.format]??n.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${n.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return iN()},"uk",0,iN,"ur",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},n=>{switch(n.code){case"invalid_type":return`  : ${n.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}  `;case"invalid_value":if(1===n.values.length)return`  : ${Z(n.values[0])}  `;return` : ${x(n.values,"|")}     `;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` : ${n.origin??""}  ${t}${n.maximum.toString()} ${i.unit??""}   `;return` : ${n.origin??""}  ${t}${n.maximum.toString()}   `}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` : ${n.origin}  ${t}${n.minimum.toString()} ${i.unit}   `;return` : ${n.origin}  ${t}${n.minimum.toString()}   `}case"invalid_format":if("starts_with"===n.format)return` : "${n.prefix}"    `;if("ends_with"===n.format)return` : "${n.suffix}"    `;if("includes"===n.format)return` : "${n.includes}"   `;if("regex"===n.format)return` :  ${n.pattern}    `;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`   ${n.keys.length>1?"":""}: ${x(n.keys," ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${n.origin}   `;default:return`  `}})}},"vi",0,function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},n=>{switch(n.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${n.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${Z(n.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`Qu\xe1 ln: mong i ${n.origin??"gi tr"} ${i.verb} ${t}${n.maximum.toString()} ${i.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${n.origin??"gi tr"} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`Qu\xe1 nh: mong i ${n.origin} ${i.verb} ${t}${n.minimum.toString()} ${i.unit}`;return`Qu\xe1 nh: mong i ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Chui kh\xf4ng hp l: phi bt u bng "${n.prefix}"`;if("ends_with"===n.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${n.suffix}"`;if("includes"===n.format)return`Chui kh\xf4ng hp l: phi bao gm "${n.includes}"`;if("regex"===n.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${n.pattern}`;return`${t[n.format]??n.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${n.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${x(n.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${n.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${n.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let e,t;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},n=>{switch(n.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${n.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${Z(n.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${n.origin??"iye"} ${i.verb} ${t}${n.maximum} ${i.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${n.maximum}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${n.origin} ${i.verb} ${t}${n.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${n.minimum}`}case"invalid_format":if("starts_with"===n.format)return`r a\xece: gbd br pl\xfa "${n.prefix}"`;if("ends_with"===n.format)return`r a\xece: gbd par\xed pl\xfa "${n.suffix}"`;if("includes"===n.format)return`r a\xece: gbd n\xed "${n.includes}"`;if("regex"===n.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${n.pattern}`;return`A\xece: ${t[n.format]??n.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${n.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${x(n.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${n.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${n.origin}`}})}},"zhCN",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` ${n.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` ${Z(n.values[0])}`;return` ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` ${n.origin??""} ${t}${n.maximum.toString()} ${i.unit??""}`;return` ${n.origin??""} ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` ${n.origin} ${t}${n.minimum.toString()} ${i.unit}`;return` ${n.origin} ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` "${n.prefix}" `;if("ends_with"===n.format)return` "${n.suffix}" `;if("includes"===n.format)return` "${n.includes}"`;if("regex"===n.format)return` ${n.pattern}`;return`${t[n.format]??n.format}`;case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`(key): ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${n.origin} (value)`;default:return``}})}},"zhTW",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n=>{switch(n.code){case"invalid_type":return` ${n.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(n.input)}`;case"invalid_value":if(1===n.values.length)return` ${Z(n.values[0])}`;return` ${x(n.values,"|")}`;case"too_big":{let t=n.inclusive?"<=":"<",i=e[n.origin]??null;if(i)return` ${n.origin??""}  ${t}${n.maximum.toString()} ${i.unit??""}`;return` ${n.origin??""}  ${t}${n.maximum.toString()}`}case"too_small":{let t=n.inclusive?">=":">",i=e[n.origin]??null;if(i)return` ${n.origin}  ${t}${n.minimum.toString()} ${i.unit}`;return` ${n.origin}  ${t}${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return` "${n.prefix}" `;if("ends_with"===n.format)return` "${n.suffix}" `;if("includes"===n.format)return` "${n.includes}"`;if("regex"===n.format)return` ${n.pattern}`;return` ${t[n.format]??n.format}`;case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""}${x(n.keys,"")}`;case"invalid_key":return`${n.origin} `;case"invalid_union":return"";case"invalid_element":return`${n.origin} `;default:return``}})}}],54580);var lb=e.i(54580);e.i(25527),e.i(98530),e.i(50215),e.i(34966);var l_=e.i(18249);e.s(["$ZodAny",0,nU,"$ZodArray",0,nB,"$ZodAsyncError",()=>u,"$ZodBase64",0,n_,"$ZodBase64URL",0,nw,"$ZodBigInt",0,nk,"$ZodBigIntFormat",0,nR,"$ZodBoolean",0,nP,"$ZodCIDRv4",0,ny,"$ZodCIDRv6",0,nx,"$ZodCUID",0,no,"$ZodCUID2",0,nl,"$ZodCatch",0,ic,"$ZodCheck",0,tU,"$ZodCheckBigIntFormat",0,tB,"$ZodCheckEndsWith",0,t1,"$ZodCheckGreaterThan",0,tj,"$ZodCheckIncludes",0,tQ,"$ZodCheckLengthEquals",0,tX,"$ZodCheckLessThan",0,tz,"$ZodCheckLowerCase",0,tJ,"$ZodCheckMaxLength",0,tW,"$ZodCheckMaxSize",0,tV,"$ZodCheckMimeType",0,t4,"$ZodCheckMinLength",0,tZ,"$ZodCheckMinSize",0,tG,"$ZodCheckMultipleOf",0,tF,"$ZodCheckNumberFormat",0,t$,"$ZodCheckOverwrite",0,t5,"$ZodCheckProperty",0,t3,"$ZodCheckRegex",0,tY,"$ZodCheckSizeEquals",0,tH,"$ZodCheckStartsWith",0,t0,"$ZodCheckStringFormat",0,tq,"$ZodCheckUpperCase",0,tK,"$ZodCodec",0,im,"$ZodCustom",0,iM,"$ZodCustomStringFormat",0,nA,"$ZodDate",0,nF,"$ZodDefault",0,ir,"$ZodDiscriminatedUnion",0,nY,"$ZodE164",0,nM,"$ZodEmail",0,ni,"$ZodEmoji",0,na,"$ZodEncodeError",()=>c,"$ZodEnum",0,n6,"$ZodError",0,eb,"$ZodFile",0,n9,"$ZodFunction",0,i_,"$ZodGUID",0,nt,"$ZodIPv4",0,ng,"$ZodIPv6",0,nv,"$ZodISODate",0,np,"$ZodISODateTime",0,nh,"$ZodISODuration",0,nm,"$ZodISOTime",0,nf,"$ZodIntersection",0,nJ,"$ZodJWT",0,nE,"$ZodKSUID",0,nd,"$ZodLazy",0,iw,"$ZodLiteral",0,n8,"$ZodMap",0,n2,"$ZodNaN",0,id,"$ZodNanoID",0,ns,"$ZodNever",0,nz,"$ZodNonOptional",0,io,"$ZodNull",0,nL,"$ZodNullable",0,ii,"$ZodNumber",0,nC,"$ZodNumberFormat",0,nI,"$ZodObject",0,nW,"$ZodObjectJIT",0,nZ,"$ZodOptional",0,it,"$ZodPipe",0,ih,"$ZodPrefault",0,is,"$ZodPromise",0,iS,"$ZodReadonly",0,iy,"$ZodRealError",0,e_,"$ZodRecord",0,n1,"$ZodRegistry",()=>iU,"$ZodSet",0,n4,"$ZodString",0,t7,"$ZodStringFormat",0,ne,"$ZodSuccess",0,iu,"$ZodSymbol",0,nN,"$ZodTemplateLiteral",0,ib,"$ZodTransform",0,n7,"$ZodTuple",0,nQ,"$ZodType",0,t9,"$ZodULID",0,nu,"$ZodURL",0,nr,"$ZodUUID",0,nn,"$ZodUndefined",0,nD,"$ZodUnion",0,nq,"$ZodUnknown",0,nO,"$ZodVoid",0,nj,"$ZodXID",0,nc,"$brand",0,l,"$constructor",()=>o,"$input",0,iL,"$output",0,iD,"Doc",()=>t6,"JSONSchema",0,l_,"JSONSchemaGenerator",()=>a_,"NEVER",0,s,"TimePrecision",0,i7,"_any",()=>rb,"_array",()=>r1,"_base64",()=>i5,"_base64url",()=>i6,"_bigint",()=>rp,"_boolean",()=>rd,"_catch",()=>au,"_check",()=>ay,"_cidrv4",()=>i3,"_cidrv6",()=>i4,"_coercedBigint",()=>rf,"_coercedBoolean",()=>rh,"_coercedDate",()=>rT,"_coercedNumber",()=>ra,"_coercedString",()=>iF,"_cuid",()=>iY,"_cuid2",()=>iJ,"_custom",()=>am,"_date",()=>rM,"_decode",0,eO,"_decodeAsync",0,e$,"_default",()=>as,"_discriminatedUnion",()=>r3,"_e164",()=>i8,"_email",()=>i$,"_emoji",()=>iX,"_encode",0,eL,"_encodeAsync",0,ej,"_endsWith",()=>rZ,"_enum",()=>r7,"_file",()=>an,"_float32",()=>ro,"_float64",()=>rl,"_gt",()=>rI,"_gte",()=>rP,"_guid",()=>iB,"_includes",()=>rH,"_int",()=>rs,"_int32",()=>ru,"_int64",()=>rm,"_intersection",()=>r4,"_ipv4",()=>i1,"_ipv6",()=>i2,"_isoDate",()=>rt,"_isoDateTime",()=>re,"_isoDuration",()=>ri,"_isoTime",()=>rn,"_jwt",()=>i9,"_ksuid",()=>i0,"_lazy",()=>ap,"_length",()=>r$,"_literal",()=>at,"_lowercase",()=>rV,"_lt",()=>rA,"_lte",()=>rC,"_map",()=>r8,"_max",()=>rC,"_maxLength",()=>rj,"_maxSize",()=>rU,"_mime",()=>rq,"_min",()=>rP,"_minLength",()=>rF,"_minSize",()=>rO,"_multipleOf",()=>rL,"_nan",()=>rE,"_nanoid",()=>iq,"_nativeEnum",()=>ae,"_negative",()=>rR,"_never",()=>rS,"_nonnegative",()=>rD,"_nonoptional",()=>ao,"_nonpositive",()=>rN,"_normalize",()=>rJ,"_null",()=>rx,"_nullable",()=>aa,"_number",()=>rr,"_optional",()=>ar,"_overwrite",()=>rY,"_parse",0,eA,"_parseAsync",0,eI,"_pipe",()=>ac,"_positive",()=>rk,"_promise",()=>af,"_property",()=>rX,"_readonly",()=>ad,"_record",()=>r6,"_refine",()=>ag,"_regex",()=>rB,"_safeDecode",0,eH,"_safeDecodeAsync",0,eq,"_safeEncode",0,eV,"_safeEncodeAsync",0,eZ,"_safeParse",0,ek,"_safeParseAsync",0,eN,"_set",()=>r9,"_size",()=>rz,"_startsWith",()=>rW,"_string",()=>ij,"_stringFormat",()=>ab,"_stringbool",()=>ax,"_success",()=>al,"_superRefine",()=>av,"_symbol",()=>rv,"_templateLiteral",()=>ah,"_toLowerCase",()=>rQ,"_toUpperCase",()=>r0,"_transform",()=>ai,"_trim",()=>rK,"_tuple",()=>r5,"_uint32",()=>rc,"_uint64",()=>rg,"_ulid",()=>iK,"_undefined",()=>ry,"_union",()=>r2,"_unknown",()=>r_,"_uppercase",()=>rG,"_url",()=>iZ,"_uuid",()=>iV,"_uuidv4",()=>iG,"_uuidv6",()=>iH,"_uuidv7",()=>iW,"_void",()=>rw,"_xid",()=>iQ,"clone",()=>G,"config",()=>h,"decode",0,ez,"decodeAsync",0,eB,"encode",0,eU,"encodeAsync",0,eF,"flattenError",()=>eS,"formatError",()=>ew,"globalConfig",0,d,"globalRegistry",0,iz,"isValidBase64",()=>nb,"isValidBase64URL",()=>nS,"isValidJWT",()=>nT,"locales",0,lb,"parse",0,eC,"parseAsync",0,eP,"prettifyError",()=>eE,"regexes",0,lx,"registry",()=>iO,"safeDecode",0,eW,"safeDecodeAsync",0,eY,"safeEncode",0,eG,"safeEncodeAsync",0,eX,"safeParse",0,eR,"safeParseAsync",0,eD,"toDotPath",()=>eT,"toJSONSchema",()=>aS,"treeifyError",()=>eM,"util",0,ly,"version",0,t8],12717);var lS=e.i(12717);e.i(62201),e.i(42332),e.s(["endsWith",()=>rZ,"gt",()=>rI,"gte",()=>rP,"includes",()=>rH,"length",()=>r$,"lowercase",()=>rV,"lt",()=>rA,"lte",()=>rC,"maxLength",()=>rj,"maxSize",()=>rU,"mime",()=>rq,"minLength",()=>rF,"minSize",()=>rO,"multipleOf",()=>rL,"negative",()=>rR,"nonnegative",()=>rD,"nonpositive",()=>rN,"normalize",()=>rJ,"overwrite",()=>rY,"positive",()=>rk,"property",()=>rX,"regex",()=>rB,"size",()=>rz,"startsWith",()=>rW,"toLowerCase",()=>rQ,"toUpperCase",()=>r0,"trim",()=>rK,"uppercase",()=>rG],30421),e.i(30421),e.i(89282),e.i(364),e.i(6034),e.s(["$brand",0,l,"ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,lc,"config",()=>h,"getErrorMap",()=>lh,"setErrorMap",()=>ld],58829),e.i(58829);var aw=aw,aM=aM,lw=e.i(49732),lM=e.i(13657);e.s(["$brand",0,l,"$input",0,iL,"$output",0,iD,"NEVER",0,s,"TimePrecision",0,i7,"ZodAny",0,s3,"ZodArray",0,oi,"ZodBase64",0,sw,"ZodBase64URL",0,sT,"ZodBigInt",0,sW,"ZodBigIntFormat",0,sX,"ZodBoolean",0,sG,"ZodCIDRv4",0,sx,"ZodCIDRv6",0,s_,"ZodCUID",0,sa,"ZodCUID2",0,so,"ZodCatch",0,oZ,"ZodCodec",0,oQ,"ZodCustom",0,lt,"ZodCustomStringFormat",0,sk,"ZodDate",0,ot,"ZodDefault",0,oj,"ZodDiscriminatedUnion",0,oh,"ZodE164",0,sA,"ZodEmail",0,aQ,"ZodEmoji",0,st,"ZodEnum",0,oT,"ZodError",0,aD,"ZodFile",0,oP,"ZodFirstPartyTypeKind",()=>t,"ZodFunction",0,o7,"ZodGUID",0,a1,"ZodIPv4",0,sm,"ZodIPv6",0,sv,"ZodISODate",0,aA,"ZodISODateTime",0,aT,"ZodISODuration",0,ak,"ZodISOTime",0,aI,"ZodIntersection",0,of,"ZodIssueCode",0,lc,"ZodJWT",0,sI,"ZodKSUID",0,sp,"ZodLazy",0,o5,"ZodLiteral",0,oC,"ZodMap",0,o_,"ZodNaN",0,oq,"ZodNanoID",0,si,"ZodNever",0,s8,"ZodNonOptional",0,oV,"ZodNull",0,s1,"ZodNullable",0,oU,"ZodNumber",0,sU,"ZodNumberFormat",0,sz,"ZodObject",0,os,"ZodOptional",0,oD,"ZodPipe",0,oJ,"ZodPrefault",0,o$,"ZodPromise",0,o8,"ZodReadonly",0,o1,"ZodRealError",0,aL,"ZodRecord",0,oy,"ZodSet",0,ow,"ZodString",0,aY,"ZodStringFormat",0,aK,"ZodSuccess",0,oH,"ZodSymbol",0,sJ,"ZodTemplateLiteral",0,o3,"ZodTransform",0,oR,"ZodTuple",0,og,"ZodType",0,aX,"ZodULID",0,su,"ZodURL",0,a9,"ZodUUID",0,a3,"ZodUndefined",0,sQ,"ZodUnion",0,oc,"ZodUnknown",0,s5,"ZodVoid",0,s7,"ZodXID",0,sd,"_ZodString",0,aq,"_default",()=>oF,"_function",()=>le,"any",()=>s4,"array",()=>or,"base64",()=>sM,"base64url",()=>sE,"bigint",()=>sZ,"boolean",()=>sH,"catch",()=>oX,"check",()=>ln,"cidrv4",()=>sb,"cidrv6",()=>sS,"clone",()=>G,"codec",()=>o0,"coerce",0,lM,"config",()=>h,"core",0,lS,"cuid",()=>ss,"cuid2",()=>sl,"custom",()=>li,"date",()=>on,"decode",0,a$,"decodeAsync",0,aV,"discriminatedUnion",()=>op,"e164",()=>sC,"email",()=>a0,"emoji",()=>sn,"encode",0,aF,"encodeAsync",0,aB,"endsWith",()=>rZ,"enum",()=>oE,"file",()=>ok,"flattenError",()=>eS,"float32",()=>sF,"float64",()=>s$,"formatError",()=>ew,"function",()=>le,"getErrorMap",()=>lh,"globalRegistry",0,iz,"gt",()=>rI,"gte",()=>rP,"guid",()=>a2,"hash",()=>sL,"hex",()=>sD,"hostname",()=>sN,"httpUrl",()=>se,"includes",()=>rH,"instanceof",()=>ls,"int",()=>sj,"int32",()=>sB,"int64",()=>sq,"intersection",()=>om,"ipv4",()=>sg,"ipv6",()=>sy,"iso",0,lw,"json",()=>ll,"jwt",()=>sP,"keyof",()=>oa,"ksuid",()=>sf,"lazy",()=>o6,"length",()=>r$,"literal",()=>oI,"locales",0,lb,"looseObject",()=>ou,"lowercase",()=>rV,"lt",()=>rA,"lte",()=>rC,"map",()=>oS,"maxLength",()=>rj,"maxSize",()=>rU,"mime",()=>rq,"minLength",()=>rF,"minSize",()=>rO,"multipleOf",()=>rL,"nan",()=>oY,"nanoid",()=>sr,"nativeEnum",()=>oA,"negative",()=>rR,"never",()=>s9,"nonnegative",()=>rD,"nonoptional",()=>oG,"nonpositive",()=>rN,"normalize",()=>rJ,"null",()=>s2,"nullable",()=>oO,"nullish",()=>oz,"number",()=>sO,"object",()=>oo,"optional",()=>oL,"overwrite",()=>rY,"parse",0,aU,"parseAsync",0,aO,"partialRecord",()=>ob,"pipe",()=>oK,"positive",()=>rk,"prefault",()=>oB,"preprocess",()=>lu,"prettifyError",()=>eE,"promise",()=>o9,"property",()=>rX,"readonly",()=>o2,"record",()=>ox,"refine",()=>lr,"regex",()=>rB,"regexes",()=>aw,"registry",()=>iO,"safeDecode",0,aH,"safeDecodeAsync",0,aZ,"safeEncode",0,aG,"safeEncodeAsync",0,aW,"safeParse",0,az,"safeParseAsync",0,aj,"set",()=>oM,"setErrorMap",()=>ld,"size",()=>rz,"startsWith",()=>rW,"strictObject",()=>ol,"string",()=>aJ,"stringFormat",()=>sR,"stringbool",0,lo,"success",()=>oW,"superRefine",()=>la,"symbol",()=>sK,"templateLiteral",()=>o4,"toJSONSchema",()=>aS,"toLowerCase",()=>rQ,"toUpperCase",()=>r0,"transform",()=>oN,"treeifyError",()=>eM,"trim",()=>rK,"tuple",()=>ov,"uint32",()=>sV,"uint64",()=>sY,"ulid",()=>sc,"undefined",()=>s0,"union",()=>od,"unknown",()=>s6,"uppercase",()=>rG,"url",()=>a7,"util",()=>aM,"uuid",()=>a4,"uuidv4",()=>a5,"uuidv6",()=>a6,"uuidv7",()=>a8,"void",()=>oe,"xid",()=>sh],22219);var lT=e.i(22219),lT=lT;let lE=lT.object({companyName:lT.string().min(2,"Nombre de empresa requerido"),website:lT.string().url("URL invlida").optional().or(lT.literal("")),contactName:lT.string().min(2,"Nombre de contacto requerido"),contactEmail:lT.string().email("Email invlido"),contactRole:lT.string().min(2,"Rol requerido"),projectTitle:lT.string().min(5,"Ttulo muy corto (mn. 5 caracteres)"),projectDescription:lT.string().min(50,"Descripcin muy corta (mn. 50 caracteres)"),stack:lT.array(lT.string()).min(1,"Especifica al menos una tecnologa"),timeline:lT.enum(["1-2-weeks","1-month","2-3-months","3-6-months","6-months-plus"],{message:"Selecciona una duracin"}),budget:lT.enum(["under-5k","5k-10k","10k-20k","20k-50k","50k-plus"],{message:"Selecciona un rango de presupuesto"}),autonomy:lT.enum(["low","medium","high","full"],{message:"Indica nivel de autonoma"}),meetingFrequency:lT.enum(["daily","weekly","biweekly","monthly","async"],{message:"Indica frecuencia de sincronizacin"}),allowsExperimentation:lT.boolean({message:"Indica si permites experimentacin"}),sharingPermission:lT.enum(["public","anonymized","private"],{message:"Indica permisos de compartir"}),requiresCompliance:lT.boolean({message:"Indica si requiere cumplimiento normativo"}),complianceStandards:lT.array(lT.string()).optional()}),lA=["next.js","nextjs","react","typescript","ts","node.js","nodejs","postgresql","postgres","tailwind","tailwindcss","vercel","python","three.js","threejs","framer-motion","framer"],lC=["iso 13485","iso 9001","fda","gdpr","hipaa","sox","iso 27001"];function lI(e){var t,n,i,r;let a,s,o,l,u=function(e){switch(e){case"full":return{score:25,feedback:" Autonoma completa alineada con preferencia de trabajo"};case"high":return{score:20,feedback:" Alta autonoma, buen balance con check-ins estratgicos"};case"medium":return{score:12,feedback:" Autonoma media puede requerir ms sincronizacin de la preferida"};case"low":return{score:5,feedback:" Baja autonoma no alineada con estilo de trabajo preferido"};default:return{score:0,feedback:"Sin informacin"}}}(e.autonomy),c=(a=(r=e.stack).map(e=>e.toLowerCase()).filter(e=>lA.some(t=>e.includes(t)||t.includes(e))),(s=r.length>0?a.length/r.length:0)>=.7?{score:20,feedback:` Stack altamente alineado (${a.length}/${r.length} tecnolog\xedas coinciden)`}:s>=.4?{score:15,feedback:` Stack parcialmente alineado (${a.length}/${r.length} coinciden)`}:s>=.2?{score:8,feedback:` Stack poco familiar (${a.length}/${r.length} coinciden)`}:{score:3,feedback:" Stack fuera de expertise actual"}),d=function(e){switch(e){case"1-month":case"2-3-months":return{score:20,feedback:" Timeline ideal para iteracin + entrega con calidad"};case"1-2-weeks":return{score:12,feedback:" Timeline muy corto, riesgo de sacrificar experimentacin"};case"3-6-months":return{score:15,feedback:" Timeline largo permite investigacin profunda"};case"6-months-plus":return{score:10,feedback:" Proyectos muy largos pueden requerir estructura de equipo"};default:return{score:0,feedback:"Sin informacin"}}}(e.timeline),h=function(e){switch(e){case"20k-50k":case"50k-plus":return{score:15,feedback:" Presupuesto permite experimentacin + infraestructura robusta"};case"10k-20k":return{score:12,feedback:" Presupuesto adecuado para proyectos scope-controlled"};case"5k-10k":return{score:8,feedback:" Presupuesto ajustado, scope debe ser muy definido"};case"under-5k":return{score:3,feedback:" Presupuesto muy bajo para proyectos con experimentacin"};default:return{score:0,feedback:"Sin informacin"}}}(e.budget),p=(t=e.allowsExperimentation,n=e.sharingPermission,i=e.meetingFrequency,o=0,l=[],t?(o+=10,l.push(" Permite experimentacin (clave para R&D)")):(o+=3,l.push(" Sin experimentacin limita aprendizaje")),"public"===n?(o+=3,l.push(" Permite compartir aprendizajes pblicamente")):"anonymized"===n?(o+=2,l.push(" Permite compartir de forma annima")):(o+=0,l.push(" Resultados privados (menos aprendizaje pblico)")),("async"===i||"weekly"===i)&&(o+=2,l.push(" Frecuencia de reuniones balanceada")),{score:o,feedback:l.join("  ")}),f=function(e,t){if(!e)return{score:5,feedback:" Sin requisitos de compliance (agilidad mxima)"};let n=(t||[]).map(e=>e.toLowerCase()).filter(e=>lC.some(t=>e.includes(t)||t.includes(e)));return n.length>0?{score:5,feedback:` Compliance familiar: ${n.join(", ")} (experiencia ISO 13485)`}:{score:2,feedback:" Compliance requerido pero estndares no familiares"}}(e.requiresCompliance,e.complianceStandards),m=u.score+c.score+d.score+h.score+p.score+f.score,g=Math.round(m/100*100),v=[];return u.score<15&&v.push("Considera aumentar autonoma del colaborador"),c.score<12&&v.push("Alineacin de stack puede requerir tiempo de ramp-up"),p.score<10&&v.push("Permitir experimentacin aumentara valor del engagement"),d.score<12&&v.push("Ajustar timeline para balance entre velocidad y calidad"),h.score<8&&v.push("Presupuesto puede limitar scope o experimentacin"),{totalScore:m,maxScore:100,percentage:g,decision:g>=75?"accepted":g>=55?"potential-fit":"not-aligned",breakdown:{autonomy:{score:u.score,max:25,feedback:u.feedback},stack:{score:c.score,max:20,feedback:c.feedback},timeline:{score:d.score,max:20,feedback:d.feedback},budget:{score:h.score,max:15,feedback:h.feedback},experimentation:{score:p.score,max:15,feedback:p.feedback},compliance:{score:f.score,max:5,feedback:f.feedback}},recommendations:v}}function lP(e,t){let{companyName:n,contactName:i,projectTitle:r}=e,{decision:a,percentage:s}=t;return"accepted"===a?`Hola ${i},

\xa1Gracias por tu inter\xe9s en colaborar en "${r}"!

Despu\xe9s de revisar los detalles del proyecto, estoy entusiasmado de confirmar que hay un excelente fit (${s}% de alineaci\xf3n). El proyecto se alinea muy bien con mi estilo de trabajo, stack t\xe9cnico y preferencias de colaboraci\xf3n.

Lo que m\xe1s me entusiasma:
${t.breakdown.autonomy.score>=20?" Alta autonoma que permitir explorar soluciones creativas":""}
${t.breakdown.stack.score>=15?" Stack tcnico completamente alineado con mi expertise":""}
${t.breakdown.experimentation.score>=10?" Oportunidad de experimentacin y aprendizaje":""}
${t.breakdown.timeline.score>=15?" Timeline que permite iteracin con calidad":""}

Me encantar\xeda agendar una llamada para discutir detalles y comenzar a planear el kickoff.

\xa1Hablemos pronto!
Saludos`:"potential-fit"===a?`Hola ${i},

Gracias por compartir los detalles de "${r}".

El proyecto tiene potencial interesante (${s}% de alineaci\xf3n), pero hay algunos aspectos que valdr\xeda la pena alinear mejor antes de comprometernos:

${t.recommendations.map(e=>` ${e}`).join("\n")}

Si hay flexibilidad en estos aspectos, me encantar\xeda explorar c\xf3mo podemos hacer que el engagement funcione para ambos. De lo contrario, puedo recomendarte colegas cuyo perfil se ajuste mejor.

\xbfTe parece agendar una llamada exploratoria?

Saludos`:`Hola ${i},

Gracias por considerar colaborar en "${r}".

Despu\xe9s de revisar los detalles, creo que hay un desalineamiento significativo (${s}% de alineaci\xf3n) en aspectos clave como:

${t.recommendations.map(e=>` ${e}`).join("\n")}

Quiero ser transparente: no ser\xeda el mejor fit para este proyecto espec\xedfico. Sin embargo, tengo colegas excelentes cuyo perfil se alinea mejor con tus necesidades.

\xbfTe gustar\xeda que te conecte con alguien m\xe1s adecuado?

Saludos`}e.s(["ApplicationFormSchema",0,lE,"generateDecisionLetter",()=>lP,"scoreApplication",()=>lI],98889);var lk=e.i(75254);let lR=(0,lk.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var lN=e.i(73884);let lD=(0,lk.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var lL=e.i(64659);let lU=(0,lk.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),lO=(0,lk.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var lz=e.i(32137);function lj(){let[e,t]=(0,i.useState)(1),[s,o]=(0,i.useState)({stack:[],complianceStandards:[],allowsExperimentation:!1,requiresCompliance:!1}),[l,u]=(0,i.useState)({}),[c,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),f=e=>{let t={},n=!0;return 1===e?(s.companyName||(t.companyName="Requerido",n=!1),s.contactName||(t.contactName="Requerido",n=!1),s.contactEmail?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.contactEmail)||(t.contactEmail="Email invlido",n=!1):(t.contactEmail="Requerido",n=!1),s.contactRole||(t.contactRole="Requerido",n=!1)):2===e?(s.projectTitle||(t.projectTitle="Requerido",n=!1),s.projectDescription?s.projectDescription.length<50&&(t.projectDescription="Mnimo 50 caracteres",n=!1):(t.projectDescription="Requerido",n=!1),s.stack&&0!==s.stack.length||(t.stack="Requerido",n=!1),s.timeline||(t.timeline="Requerido",n=!1),s.budget||(t.budget="Requerido",n=!1)):3===e&&(s.autonomy||(t.autonomy="Requerido",n=!1),s.meetingFrequency||(t.meetingFrequency="Requerido",n=!1),s.sharingPermission||(t.sharingPermission="Requerido",n=!1)),u(t),n},m=(e,t)=>{o(n=>({...n,[e]:t})),u(t=>({...t,[e]:""}))},g=async()=>{if(f(e))try{let e=lE.parse(s),t=await fetch("/api/rfc/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(n.success&&n.result)d(n.result);else{console.error("Submission failed",n.error);let t=lI(e);d(t)}}catch(e){console.error("Validation or API error",e)}};return(0,n.jsxs)("div",{id:"rfc-apply",className:"w-full max-w-4xl mx-auto space-y-8 p-6 bg-zinc-950/50 border border-white/10 rounded-2xl backdrop-blur-sm",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Aplica para colaborar"}),(0,n.jsx)("p",{className:"text-zinc-400",children:"Proceso de seleccin inversa para proyectos de alto impacto"})]}),(0,n.jsx)(a.AnimatePresence,{mode:"wait",children:c?(0,n.jsx)(lH,{result:c,application:s,onReset:()=>{d(null),t(1),o({})},showLetter:h,onToggleLetter:()=>p(!h)}):(0,n.jsxs)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[(0,n.jsx)("div",{className:"w-full bg-zinc-800 h-1 rounded-full mb-8",children:(0,n.jsx)("div",{className:"bg-emerald-500 h-1 rounded-full transition-all duration-300",style:{width:`${e/3*100}%`}})}),1===e&&(0,n.jsxs)(r.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-zinc-100 border-b border-white/10 pb-2",children:"1. Informacin General"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsx)(lF,{label:"Nombre de la empresa",value:s.companyName||"",onChange:e=>m("companyName",e),error:l.companyName,required:!0}),(0,n.jsx)(lF,{label:"Sitio web",value:s.website||"",onChange:e=>m("website",e),error:l.website,placeholder:"https://ejemplo.com"}),(0,n.jsx)(lF,{label:"Tu Nombre",value:s.contactName||"",onChange:e=>m("contactName",e),error:l.contactName,required:!0}),(0,n.jsx)(lF,{label:"Email Corporativo",type:"email",value:s.contactEmail||"",onChange:e=>m("contactEmail",e),error:l.contactEmail,required:!0}),(0,n.jsx)(lF,{label:"Tu Rol",value:s.contactRole||"",onChange:e=>m("contactRole",e),error:l.contactRole,required:!0,className:"md:col-span-2"})]})]}),2===e&&(0,n.jsxs)(r.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-zinc-100 border-b border-white/10 pb-2",children:"2. Detalles del Proyecto"}),(0,n.jsx)(lF,{label:"Ttulo del proyecto",value:s.projectTitle||"",onChange:e=>m("projectTitle",e),error:l.projectTitle,required:!0}),(0,n.jsx)(l$,{label:"Descripcin del proyecto",value:s.projectDescription||"",onChange:e=>m("projectDescription",e),error:l.projectDescription,rows:4,required:!0}),(0,n.jsx)(lG,{label:"Stack Tecnolgico Sugerido",tags:s.stack||[],onAdd:e=>{e.trim()&&m("stack",[...s.stack||[],e.trim()])},onRemove:e=>{m("stack",s.stack?.filter((t,n)=>n!==e)||[])},error:l.stack,placeholder:"Next.js, TypeScript, PostgreSQL..."}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsx)(lB,{label:"Duracin estimada",value:s.timeline||"",onChange:e=>m("timeline",e),error:l.timeline,options:[{value:"1-2-weeks",label:"1-2 semanas"},{value:"1-month",label:"1 mes"},{value:"2-3-months",label:"2-3 meses"},{value:"3-6-months",label:"3-6 meses"},{value:"6-months-plus",label:"6+ meses"}],required:!0}),(0,n.jsx)(lB,{label:"Presupuesto",value:s.budget||"",onChange:e=>m("budget",e),error:l.budget,options:[{value:"under-5k",label:"Menos de $5k"},{value:"5k-10k",label:"$5k - $10k"},{value:"10k-20k",label:"$10k - $20k"},{value:"20k-50k",label:"$20k - $50k"},{value:"50k-plus",label:"$50k+"}],required:!0})]})]}),3===e&&(0,n.jsxs)(r.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-zinc-100 border-b border-white/10 pb-2",children:"3. Cultura y Procesos"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsx)(lB,{label:"Nivel de autonoma",value:s.autonomy||"",onChange:e=>m("autonomy",e),error:l.autonomy,options:[{value:"low",label:"Baja - Supervisin constante"},{value:"medium",label:"Media - Check-ins regulares"},{value:"high",label:"Alta - Check-ins semanales"},{value:"full",label:"Completa - Autonoma total"}],required:!0}),(0,n.jsx)(lB,{label:"Frecuencia de reuniones",value:s.meetingFrequency||"",onChange:e=>m("meetingFrequency",e),error:l.meetingFrequency,options:[{value:"daily",label:"Diaria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quincenal"},{value:"monthly",label:"Mensual"},{value:"async",label:"Asncrona"}],required:!0})]}),(0,n.jsxs)("div",{className:"p-4 bg-zinc-900/50 rounded-lg border border-zinc-800 space-y-4",children:[(0,n.jsx)("h4",{className:"font-medium text-zinc-200",children:"Experimentacin"}),(0,n.jsx)(lV,{label:"Permites experimentacin durante el desarrollo?",checked:s.allowsExperimentation||!1,onChange:e=>m("allowsExperimentation",e),error:l.allowsExperimentation}),(0,n.jsx)(lB,{label:"Permisos para compartir aprendizajes",value:s.sharingPermission||"",onChange:e=>m("sharingPermission",e),error:l.sharingPermission,options:[{value:"public",label:"Pblico - Permite blog posts y demos"},{value:"anonymized",label:"Anonimizado - Sin datos sensibles"},{value:"private",label:"Privado - No compartir"}],required:!0})]}),(0,n.jsxs)("div",{className:"p-4 bg-zinc-900/50 rounded-lg border border-zinc-800 space-y-4",children:[(0,n.jsx)("h4",{className:"font-medium text-zinc-200",children:"Compliance"}),(0,n.jsx)(lV,{label:"Requiere cumplimiento normativo?",checked:s.requiresCompliance||!1,onChange:e=>m("requiresCompliance",e),error:l.requiresCompliance}),s.requiresCompliance&&(0,n.jsx)(lF,{label:"Estndares (ISO 13485, GDPR, etc.)",value:s.complianceStandards?.join(", ")||"",onChange:e=>m("complianceStandards",e.split(",").map(e=>e.trim())),placeholder:"ISO 13485, GDPR, HIPAA"})]})]}),(0,n.jsxs)("div",{className:"flex justify-between pt-6 border-t border-white/10",children:[e>1?(0,n.jsxs)("button",{onClick:()=>{t(e-1)},className:"px-6 py-2 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[(0,n.jsx)(lO,{className:"w-4 h-4"})," Atrs"]}):(0,n.jsx)("div",{}),e<3?(0,n.jsxs)("button",{onClick:()=>{f(e)&&t(e+1)},className:"px-6 py-2 bg-white text-black font-semibold rounded-lg hover:bg-neutral-200 transition-colors flex items-center gap-2",children:["Siguiente ",(0,n.jsx)(lU,{className:"w-4 h-4"})]}):(0,n.jsxs)("button",{onClick:g,className:"px-6 py-2 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition-colors flex items-center gap-2",children:["Enviar Aplicacin ",(0,n.jsx)(lR,{className:"w-4 h-4"})]})]})]},"form")})]})}function lF({label:e,value:t,onChange:i,error:r,required:a,type:s="text",placeholder:o,className:l}){return(0,n.jsxs)("div",{className:l,children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:[e," ",a&&(0,n.jsx)("span",{className:"text-emerald-400",children:"*"})]}),(0,n.jsx)("input",{type:s,value:t,onChange:e=>i(e.target.value),placeholder:o,className:(0,lz.cn)("w-full px-4 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",r&&"border-red-500 focus:border-red-500")}),r&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:r})]})}function l$({label:e,value:t,onChange:i,error:r,required:a,rows:s=3}){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:[e," ",a&&(0,n.jsx)("span",{className:"text-emerald-400",children:"*"})]}),(0,n.jsx)("textarea",{value:t,onChange:e=>i(e.target.value),rows:s,className:(0,lz.cn)("w-full px-4 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors resize-none",r&&"border-red-500 focus:border-red-500")}),r&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:r})]})}function lB({label:e,value:t,onChange:i,error:r,required:a,options:s}){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:[e," ",a&&(0,n.jsx)("span",{className:"text-emerald-400",children:"*"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:(0,lz.cn)("w-full px-4 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors appearance-none",r&&"border-red-500 focus:border-red-500"),children:[(0,n.jsx)("option",{value:"",children:"Selecciona una opcin"}),s.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,n.jsx)(lL.ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]}),r&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:r})]})}function lV({label:e,checked:t,onChange:i,error:r}){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,n.jsx)("div",{className:(0,lz.cn)("w-5 h-5 border border-zinc-700 rounded flex items-center justify-center transition-colors",t?"bg-emerald-500 border-emerald-500":"bg-zinc-900 group-hover:border-zinc-500"),children:t&&(0,n.jsx)(lR,{className:"w-3.5 h-3.5 text-black"})}),(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:e=>i(e.target.checked),className:"hidden"}),(0,n.jsx)("span",{className:"text-sm text-zinc-300 group-hover:text-white transition-colors",children:e})]}),r&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:r})]})}function lG({label:e,tags:t,onAdd:r,onRemove:a,error:s,placeholder:o}){let[l,u]=(0,i.useState)("");return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:e}),(0,n.jsx)("input",{type:"text",value:l,onChange:e=>u(e.target.value),onKeyDown:e=>{("Enter"===e.key||","===e.key)&&(e.preventDefault(),l.trim()&&(r(l),u("")))},placeholder:o,className:(0,lz.cn)("w-full px-4 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",s&&"border-red-500 focus:border-red-500")}),(0,n.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Presiona Enter o coma para aadir"}),t.length>0&&(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:t.map((e,t)=>(0,n.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-emerald-500/10 text-emerald-400 text-sm rounded-full border border-emerald-500/20",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>a(t),className:"hover:text-emerald-300 transition-colors",children:""})]},t))}),s&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:s})]})}function lH({result:e,application:t,onReset:i,showLetter:s,onToggleLetter:o}){let l={accepted:{icon:lR,color:"text-emerald-400",bgColor:"bg-emerald-400/10",borderColor:"border-emerald-400/20",label:"Excelente fit!"},"potential-fit":{icon:lD,color:"text-yellow-400",bgColor:"bg-yellow-400/10",borderColor:"border-yellow-400/20",label:"Fit potencial"},"not-aligned":{icon:lN.XCircle,color:"text-red-400",bgColor:"bg-red-400/10",borderColor:"border-red-400/20",label:"No alineado"}}[e.decision],u=l.icon;return(0,n.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,n.jsxs)("div",{className:`p-8 rounded-xl border-2 ${l.borderColor} ${l.bgColor}`,children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,n.jsx)(u,{className:`w-12 h-12 ${l.color}`}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-zinc-100",children:l.label}),(0,n.jsxs)("p",{className:"text-zinc-400",children:["Puntuacin: ",e.totalScore,"/",e.maxScore," (",e.percentage,"%)"]})]})]}),(0,n.jsx)("div",{className:"space-y-3 mt-6",children:Object.entries(e.breakdown).map(([e,t])=>(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,n.jsx)("span",{className:"text-sm text-zinc-300 capitalize",children:e}),(0,n.jsxs)("span",{className:"text-sm text-zinc-500",children:[t.score,"/",t.max]})]}),(0,n.jsx)("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-emerald-500 h-2 rounded-full transition-all",style:{width:`${t.score/t.max*100}%`}})}),(0,n.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:t.feedback})]})},e))}),e.recommendations.length>0&&(0,n.jsxs)("div",{className:"mt-6 p-4 bg-zinc-900/50 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-zinc-300 mb-2",children:"Recomendaciones"}),(0,n.jsx)("ul",{className:"space-y-1",children:e.recommendations.map((e,t)=>(0,n.jsxs)("li",{className:"text-sm text-zinc-400 flex gap-2",children:[(0,n.jsx)("span",{className:"text-yellow-400",children:""}),e]},t))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{onClick:o,className:"w-full px-6 py-3 bg-zinc-900 hover:bg-zinc-800 text-zinc-100 font-semibold rounded-lg transition-colors flex items-center justify-between border border-zinc-700",children:[(0,n.jsxs)("span",{children:[s?"Ocultar":"Ver"," carta de decisin"]}),(0,n.jsx)(lL.ChevronDown,{className:`w-5 h-5 transition-transform ${s?"rotate-180":""}`})]}),(0,n.jsx)(a.AnimatePresence,{children:s&&(0,n.jsx)(r.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 p-6 bg-zinc-900/50 rounded-lg border border-zinc-800 overflow-hidden",children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-zinc-300 font-sans",children:lP(t,e)})})})]}),(0,n.jsx)("button",{onClick:i,className:"w-full px-6 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-400 font-semibold rounded-lg transition-colors",children:"Nueva aplicacin"})]})}e.s(["InverseApplication",()=>lj],59543)},79431,e=>{"use strict";var t=e.i(43476),n=e.i(46932),i=e.i(75254);let r=(0,i.default)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),a=(0,i.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),s=(0,i.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),o=(0,i.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),l=[{quote:"Anthony brings rare engineering discipline to web development. His R&D background shows in how he approaches problems  data-driven, methodical, and always focused on measurable outcomes.",author:"Engineering Lead",role:"Tech Lead",company:"E-commerce Startup"},{quote:"Working in regulated MedTech environments taught him documentation and process rigor that most developers lack. He shipped features fast while maintaining the quality standards we needed.",author:"Product Manager",role:"Head of Product",company:"HealthTech Company"},{quote:"The transition from R&D to Full Stack was seamless. His analytical mindset and 5+ years of production experience translate directly into building robust, scalable systems.",author:"Technical Director",role:"CTO",company:"SaaS Platform"}],u=[{value:"5",label:"Years in R&D/MedTech",suffix:"+"},{value:"99.9",label:"Uptime SLA",suffix:"%"},{value:"2",label:"Years Full Stack",suffix:"+"},{value:"14",label:"Products Shipped",suffix:"+"}],c=({testimonial:e,index:i})=>(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.15*i},className:"relative p-6 md:p-8 rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm hover:border-white/20 transition-all group",children:[(0,t.jsx)(r,{className:"absolute top-6 right-6 w-8 h-8 text-white/5 group-hover:text-white/10 transition-colors"}),(0,t.jsx)("div",{className:"flex gap-1 mb-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,n)=>(0,t.jsx)(a,{className:"w-4 h-4 fill-amber-400 text-amber-400"},n))}),(0,t.jsxs)("p",{className:"text-neutral-300 leading-relaxed mb-6 text-sm md:text-base",children:['"',e.quote,'"']}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center",children:(0,t.jsx)(o,{className:"w-4 h-4 text-white/60"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium text-sm",children:e.author}),(0,t.jsx)("p",{className:"text-neutral-500 text-xs",children:e.role}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,t.jsx)(s,{className:"w-3 h-3 text-neutral-600"}),(0,t.jsx)("span",{className:"text-neutral-600 text-xs",children:e.company})]})]})]})]}),d=({stat:e,index:i})=>(0,t.jsxs)(n.motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.1*i},className:"text-center p-6",children:[(0,t.jsxs)("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:[e.value,(0,t.jsx)("span",{className:"text-emerald-400",children:e.suffix})]}),(0,t.jsx)("p",{className:"text-neutral-500 text-sm uppercase tracking-wider",children:e.label})]});e.s(["SocialProof",0,()=>(0,t.jsxs)("section",{className:"relative py-24 md:py-32 border-t border-white/10 bg-black overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(16,185,129,0.05),transparent_50%)]"}),(0,t.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4",children:[(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-20 p-6 rounded-2xl border border-white/10 bg-white/[0.02]",children:u.map((e,n)=>(0,t.jsx)(d,{stat:e,index:n},e.label))}),(0,t.jsxs)("div",{className:"text-center mb-16",children:[(0,t.jsx)(n.motion.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-xs uppercase tracking-[0.3em] text-emerald-400 mb-4",children:"Trusted Delivery"}),(0,t.jsx)(n.motion.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-5xl font-bold text-white tracking-tight",children:"What Teams Say"})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:l.map((e,n)=>(0,t.jsx)(c,{testimonial:e,index:n},n))}),(0,t.jsx)(n.motion.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},className:"flex flex-wrap justify-center gap-8 mt-16 pt-16 border-t border-white/5",children:["ISO 13485 Certified Environment","MedTech R&D Background","Remote-First","English B2+"].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 text-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500/50"}),e]},e))})]})]})],79431)},12323,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(46932);let r=`
      
    
         
          
    
      
               
            
            
            
         
          
`,a=[{label:"OS",value:"GeeksLab.tech v2.0",color:"text-cyan-400"},{label:"Host",value:"Anthony Mora Parra",color:"text-green-400"},{label:"Kernel",value:"Next.js 16 + React 19",color:"text-yellow-400"},{label:"Uptime",value:"13+ years in tech",color:"text-purple-400"},{label:"Packages",value:"TypeScript, Three.js, Framer",color:"text-pink-400"},{label:"Shell",value:"zsh + VS Code",color:"text-blue-400"},{label:"Resolution",value:"Pixel-perfect @ any scale",color:"text-orange-400"},{label:"DE",value:"R&D Engineering",color:"text-red-400"},{label:"WM",value:"AR/Mobile Development",color:"text-emerald-400"},{label:"Terminal",value:"ISO 13485 Certified",color:"text-violet-400"},{label:"CPU",value:"Creative @ 100%",color:"text-amber-400"},{label:"Memory",value:" Coffee / 0 Bugs",color:"text-lime-400"}],s=["bg-black","bg-red-500","bg-green-500","bg-yellow-500","bg-blue-500","bg-purple-500","bg-cyan-500","bg-white"];function o({className:e="",showMatrixBg:o=!0,autoStart:l=!0,onComplete:u}){let[c,d]=(0,n.useState)(0),[h,p]=(0,n.useState)(""),[f,m]=(0,n.useState)(!0),[g,v]=(0,n.useState)(!1),[y,x]=(0,n.useState)("typing"),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=setInterval(()=>m(e=>!e),530);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(!l)return;let e="neofetch",t=0,n=setInterval(()=>{t<=e.length?(p(e.slice(0,t)),t++):(clearInterval(n),setTimeout(()=>{x("neofetch")},300))},80);return()=>clearInterval(n)},[l]),(0,n.useEffect)(()=>{if("neofetch"!==y)return;let e=a.length,t=0,n=setInterval(()=>{t<=e?(d(t),t++):(clearInterval(n),setTimeout(()=>{v(!0),x("prompt"),u?.()},500))},120);return()=>clearInterval(n)},[y,u]);let _=r.split("\n").filter(e=>e.trim());return(0,t.jsxs)("div",{className:`relative ${e}`,children:[o&&(0,t.jsx)(()=>{let[e,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e="0123456789ABCDEF";r(Array.from({length:40},(t,n)=>({chars:Array.from({length:25},()=>e[Math.floor(Math.random()*e.length)]),x:25*n,speed:.5+1.5*Math.random()})))},[]),(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden opacity-20 pointer-events-none",children:e.map((e,n)=>(0,t.jsx)(i.motion.div,{className:"absolute text-green-500 font-mono text-sm leading-tight",style:{left:e.x},initial:{y:-500},animate:{y:"100vh"},transition:{duration:10/e.speed,repeat:1/0,ease:"linear",delay:5*Math.random()},children:e.chars.map((e,n)=>(0,t.jsx)("div",{style:{opacity:1-.04*n},children:e},n))},n))})},{}),(0,t.jsxs)(i.motion.div,{ref:b,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"relative z-10 bg-black/90 backdrop-blur-xl border border-green-500/30 rounded-lg overflow-hidden shadow-2xl shadow-green-500/10 max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-neutral-900/80 border-b border-green-500/20",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 hover:bg-red-400 transition-colors cursor-pointer"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500 hover:bg-yellow-400 transition-colors cursor-pointer"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 hover:bg-green-400 transition-colors cursor-pointer"})]}),(0,t.jsx)("span",{className:"ml-4 text-neutral-400 text-sm font-mono",children:"anthony@geekslab ~"}),(0,t.jsx)("span",{className:"text-green-400 text-sm font-mono ml-auto",children:"zsh"})]}),(0,t.jsxs)("div",{className:"p-6 font-mono text-sm md:text-base min-h-[500px]",children:[(0,t.jsxs)("div",{className:"flex items-center text-green-400 mb-6",children:[(0,t.jsx)("span",{className:"text-pink-400",children:""}),(0,t.jsx)("span",{className:"text-cyan-400 ml-2",children:"~"}),(0,t.jsx)("span",{className:"text-white ml-2",children:h}),"typing"===y&&(0,t.jsx)("span",{className:`ml-1 ${f?"opacity-100":"opacity-0"} transition-opacity`,children:""})]}),"typing"!==y&&(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 md:gap-10",children:[(0,t.jsx)("div",{className:"text-green-400 whitespace-pre leading-tight text-[8px] sm:text-[10px] md:text-xs flex-shrink-0",children:_.map((e,n)=>(0,t.jsx)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*n,duration:.3},className:"text-green-500",children:e},n))}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-2",children:[(0,t.jsx)("span",{className:"text-green-400 font-bold",children:"anthony"}),(0,t.jsx)("span",{className:"text-white",children:"@"}),(0,t.jsx)("span",{className:"text-cyan-400 font-bold",children:"geekslab"})]}),(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-green-500/50 mb-3",children:""}),a.slice(0,c).map((e,n)=>(0,t.jsxs)(i.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:"flex",children:[(0,t.jsx)("span",{className:`${e.color||"text-cyan-400"} font-bold w-28 md:w-32`,children:e.label}),(0,t.jsx)("span",{className:"text-white/80",children:e.value})]},n)),c>=a.length&&(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 flex gap-1",children:s.map((e,n)=>(0,t.jsx)(i.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3+.05*n},className:`w-6 h-6 ${e} rounded-sm`},n))})]})]}),g&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center text-green-400 mt-8",children:[(0,t.jsx)("span",{className:"text-pink-400",children:""}),(0,t.jsx)("span",{className:"text-cyan-400 ml-2",children:"~"}),(0,t.jsx)("span",{className:`ml-2 ${f?"opacity-100":"opacity-0"} transition-opacity`,children:""})]})]}),(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.05)_50%)] bg-[length:100%_4px] opacity-30"}),(0,t.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 via-cyan-500/20 to-green-500/20 rounded-lg blur-xl opacity-50 -z-10"})]}),g&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center mt-8",children:[(0,t.jsxs)(i.motion.a,{href:"#main-content",className:"inline-flex items-center gap-3 px-8 py-4 bg-green-500/10 border border-green-500/50 rounded-lg text-green-400 font-mono hover:bg-green-500/20 hover:border-green-400 transition-all group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,t.jsx)("span",{className:"text-lg",children:"./enter_geekslab.sh"}),(0,t.jsx)(i.motion.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},className:"text-xl",children:""})]}),(0,t.jsx)("p",{className:"text-neutral-500 text-sm mt-3 font-mono",children:"Press Enter or scroll to continue"})]})]})}function l({className:e=""}){let[i,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(""),[o,l]=(0,n.useState)(!0),u=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=setInterval(()=>l(e=>!e),530);return()=>clearInterval(e)},[]);let c={help:`Available commands:
  whoami     - Display user info
  skills     - List technical skills
  projects   - Show portfolio projects
  contact    - Display contact info
  clear      - Clear terminal
  neofetch   - System information`,whoami:"Anthony Mora Parra - AR/Mobile Development Specialist\n13+ years in R&D Engineering | ISO 13485 Certified",skills:`Frontend:  React, Next.js, TypeScript, Three.js
Backend:   Node.js, Python, C#, SQL
DevOps:    Docker, CI/CD, Linux (LFC)
Security:  Cybersecurity (CEH)
Soft:      R&D Management, Agile, English B2+`,projects:` nexastore/     E-commerce Platform
 qms/           Quality Management System
 code-factory/  3D Git Visualization
 ar-apps/       AR/VR Experiences`,contact:` tonymora1982@gmail.com
 +506 7017-9787
 github.com/geekslab
 geekslab.tech`,neofetch:"Running neofetch... [View full terminal above]"};return(0,t.jsxs)("div",{className:`bg-black/90 border border-green-500/30 rounded-lg overflow-hidden font-mono text-sm ${e}`,onClick:()=>u.current?.focus(),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-neutral-900/80 border-b border-green-500/20",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,t.jsx)("span",{className:"ml-4 text-neutral-400",children:"Interactive Terminal  Type 'help'"})]}),(0,t.jsxs)("div",{className:"p-4 h-64 overflow-y-auto",children:[i.map((e,n)=>(0,t.jsxs)("div",{className:"cmd"===e.type?"text-green-400":"text-white/70 whitespace-pre-wrap mb-2",children:["cmd"===e.type&&(0,t.jsx)("span",{className:"text-pink-400",children:" "}),e.content]},n)),(0,t.jsxs)("div",{className:"flex items-center text-green-400",children:[(0,t.jsx)("span",{className:"text-pink-400",children:" "}),(0,t.jsx)("input",{ref:u,type:"text",value:a,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&((e=>{let t=e.trim().toLowerCase();if("clear"===t)return r([]);let n=c[t]||`Command not found: ${t}. Type 'help' for available commands.`;r(t=>[...t,{type:"cmd",content:e},{type:"output",content:n}])})(a),s(""))},className:"flex-1 bg-transparent outline-none text-white",autoFocus:!0}),(0,t.jsx)("span",{className:`${o?"opacity-100":"opacity-0"}`,children:""})]})]})]})}e.s(["InteractiveTerminal",()=>l,"NeofetchTerminal",()=>o,"default",0,o])},42150,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(46932),r=e.i(88653);let a=(0,e.i(75254).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ScrollToTop",0,()=>{let[e,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{window.scrollY>400?s(!0):s(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,t.jsx)(r.AnimatePresence,{children:e&&(0,t.jsx)(i.motion.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 z-50 p-3 rounded-full bg-emerald-500 text-white shadow-lg shadow-emerald-500/25 hover:bg-emerald-400 hover:shadow-emerald-400/30 transition-all duration-300 group","aria-label":"Scroll to top",children:(0,t.jsx)(a,{size:24,className:"group-hover:-translate-y-1 transition-transform duration-300"})})})}],42150)}]);